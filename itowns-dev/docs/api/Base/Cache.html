<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Cache - iTowns documentation</title>

    <script src="../../scripts/prettify/prettify.js"> </script>
    <script src="../../scripts/prettify/lang-css.js"> </script>
    <link type="text/css" rel="stylesheet" href="../../styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="../../styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="../../styles/itowns.css">
</head>

<body>



<section>

<article>

    <h1>
        Cache
        
    </h1>

    
        <div class="description"><p>This is a copy of the Map object, except that it also store a value for last
time used. This value is used for cache expiration mechanism.</p></div>
    

    
        <hr class="title-divider"/>
        <h2>Constructor</h2>
        

<div class="method">
    <h3>
        <span class="method-name">Cache</span>
        (


    
    
        lifetime:
            <span class="type">number</span>
    

)
        
    </h3>

    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>lifetime</code>
        (default: <code>CACHE_POLICIES.INFINITE</code>)
        
        
            &mdash; <span><p>The cache expiration time for all values.</p></span>
        

        
    </li>
    
</ul>

    

    
</div>

    

    
        <hr class="title-divider"/>
        <h2>Example</h2>
        


    

    <pre class="prettyprint source lang-js"><code>import Cache, { CACHE_POLICIES } from 'Core/Scheduler/Cache';

const cache = new Cache(CACHE_POLICIES.TEXTURE)
cache.set({ bar: 1 }, 'foo');
cache.set({ bar: 32 }, 'foo', 'toto');

cache.get('foo');

cache.delete('foo');

cache.clear();

cache.flush();</code></pre>


    

    

    
        <hr class="title-divider"/>
        <h2>Methods</h2>
        
            

<div class="method">
    <h3>
        <span class="method-name">clear</span>
        (


)
        
    </h3>

    
        
            <div class="description">
                <p>Removes all entries of the cache.</p>
            </div>
        
    

    

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">delete</span>
        (


    
    
        key1:
            <span class="type">string|number</span>, 
    
        key2:
            <span class="type">string|number</span>, 
    
        key3:
            <span class="type">string|number</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Deletes the specified entry from the cache.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>key1</code>
        
        

        
    </li>
    
    <li>
        <code>key2</code>
        (optional)
        

        
    </li>
    
    <li>
        <code>key3</code>
        (optional)
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">flush</span>
        (


    
    
        time:
            <span class="type">number</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Flush the cache: entries that have been present for too long since the
last time they were used, are removed from the cache. By default, the
time is the current time, but the interval can be reduced by doing
something like <code>Cache.flush(Date.now() - reductionTime)</code>. If you want to
clear the whole cache, use Cache.clear instead.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>time</code>
        (default: <code>Date.now()</code>)
        
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">get</span>
        (


    
    
        key1:
            <span class="type">string|number</span>, 
    
        key2:
            <span class="type">string|number</span>, 
    
        key3:
            <span class="type">string|number</span>
    

)
        :
            
                <span class="type">Object</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Returns the entry related to the specified key from the cache. The last
time used property of the entry is updated to extend the longevity of the
entry.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>key1</code>
        
        

        
    </li>
    
    <li>
        <code>key2</code>
        (optional)
        

        
    </li>
    
    <li>
        <code>key3</code>
        (optional)
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">getByArray</span>
        (


    
    
        keyArray:
            <span class="type">Array.&lt;string>|Array.&lt;number></span>
    

)
        :
            
                <span class="type">Object</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Returns the entry related to the specified key, content in array, from the cache.
The array contents one to three key.
The last time used property of the entry is updated to extend the longevity of the
entry.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>keyArray</code>
        
        
            &mdash; <span><p>key array ([key0, key1, key3])</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">set</span>
        (


    
    
        value:
            <span class="type">Object</span>, 
    
        key1:
            <span class="type">string|number</span>, 
    
        key2:
            <span class="type">string|number</span>, 
    
        key3:
            <span class="type">string|number</span>
    

)
        :
            
                <span class="type">Object</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Adds or updates an entry with specified keys (up to 3).
Caution: it overrides any existing entry already set at this/those key/s.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>the added value</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>value</code>
        
        
            &mdash; <span><p>to add in cache</p></span>
        

        
    </li>
    
    <li>
        <code>key1</code>
        
        

        
    </li>
    
    <li>
        <code>key2</code>
        (optional)
        

        
    </li>
    
    <li>
        <code>key3</code>
        (optional)
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">setByArray</span>
        (


    
    
        value:
            <span class="type">Object</span>, 
    
        keyArray:
            <span class="type">Array.&lt;string>|Array.&lt;number></span>
    

)
        :
            
                <span class="type">Object</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Adds or updates an entry with specified keys array ([key0, key1, key3]).
Caution: it overrides any existing entry already set at this/those key/s.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>the added value</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>value</code>
        
        
            &mdash; <span><p>to add in cache</p></span>
        

        
    </li>
    
    <li>
        <code>keyArray</code>
        
        
            &mdash; <span><p>key array ([key0, key1, key3])</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            
        
    

    

    

    



        <hr class="title-divider"/>
        <h2>Source</h2>
        <a target="_blank" href="https://github.com/itowns/itowns/blob/master/src/Core/Scheduler/Cache.js">
            src/Core/Scheduler/Cache.js
        </a>




</article>

</section>

<script> prettyPrint(); </script>
<script src="../../scripts/linenumber.js"> </script>
</body>
</html>