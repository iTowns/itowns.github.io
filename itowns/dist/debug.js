!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("debug",[],t):"object"==typeof exports?exports.debug=t():e.debug=t()}(window,function(){return(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[1],[function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,"WebGLRenderTargetCube",function(){return fn}),n.d(t,"WebGLRenderTarget",function(){return mn}),n.d(t,"WebGLRenderer",function(){return ba}),n.d(t,"ShaderLib",function(){return An}),n.d(t,"UniformsLib",function(){return kn}),n.d(t,"UniformsUtils",function(){return Sn}),n.d(t,"ShaderChunk",function(){return Mn}),n.d(t,"FogExp2",function(){return wa}),n.d(t,"Fog",function(){return La}),n.d(t,"Scene",function(){return qa}),n.d(t,"Sprite",function(){return Da}),n.d(t,"LOD",function(){return ka}),n.d(t,"SkinnedMesh",function(){return Aa}),n.d(t,"Skeleton",function(){return Pa}),n.d(t,"Bone",function(){return Ca}),n.d(t,"Mesh",function(){return Dr}),n.d(t,"LineSegments",function(){return Oa}),n.d(t,"LineLoop",function(){return Ia}),n.d(t,"Line",function(){return Ya}),n.d(t,"Points",function(){return Ha}),n.d(t,"Group",function(){return sa}),n.d(t,"VideoTexture",function(){return Na}),n.d(t,"DataTexture",function(){return pn}),n.d(t,"DataTexture3D",function(){return zr}),n.d(t,"CompressedTexture",function(){return ja}),n.d(t,"CubeTexture",function(){return jr}),n.d(t,"CanvasTexture",function(){return za}),n.d(t,"DepthTexture",function(){return Ba}),n.d(t,"Texture",function(){return cn}),n.d(t,"AnimationLoader",function(){return Ys}),n.d(t,"CompressedTextureLoader",function(){return Os}),n.d(t,"DataTextureLoader",function(){return Is}),n.d(t,"CubeTextureLoader",function(){return Hs}),n.d(t,"TextureLoader",function(){return Ns}),n.d(t,"ObjectLoader",function(){return ql}),n.d(t,"MaterialLoader",function(){return xl}),n.d(t,"BufferGeometryLoader",function(){return wl}),n.d(t,"DefaultLoadingManager",function(){return Ps}),n.d(t,"LoadingManager",function(){return As}),n.d(t,"ImageLoader",function(){return Fs}),n.d(t,"ImageBitmapLoader",function(){return Rl}),n.d(t,"FontLoader",function(){return Fl}),n.d(t,"FileLoader",function(){return Rs}),n.d(t,"Loader",function(){return Hl}),n.d(t,"LoaderUtils",function(){return bl}),n.d(t,"Cache",function(){return ks}),n.d(t,"AudioLoader",function(){return Kl}),n.d(t,"SpotLightShadow",function(){return ml}),n.d(t,"SpotLight",function(){return fl}),n.d(t,"PointLight",function(){return pl}),n.d(t,"RectAreaLight",function(){return Ml}),n.d(t,"HemisphereLight",function(){return cl}),n.d(t,"DirectionalLightShadow",function(){return gl}),n.d(t,"DirectionalLight",function(){return _l}),n.d(t,"AmbientLight",function(){return yl}),n.d(t,"LightShadow",function(){return dl}),n.d(t,"Light",function(){return hl}),n.d(t,"StereoCamera",function(){return Ql}),n.d(t,"PerspectiveCamera",function(){return ua}),n.d(t,"OrthographicCamera",function(){return vl}),n.d(t,"CubeCamera",function(){return $l}),n.d(t,"ArrayCamera",function(){return ha}),n.d(t,"Camera",function(){return la}),n.d(t,"AudioListener",function(){return tu}),n.d(t,"PositionalAudio",function(){return ru}),n.d(t,"AudioContext",function(){return Zl}),n.d(t,"AudioAnalyser",function(){return iu}),n.d(t,"Audio",function(){return nu}),n.d(t,"VectorKeyframeTrack",function(){return Ts}),n.d(t,"StringKeyframeTrack",function(){return Ss}),n.d(t,"QuaternionKeyframeTrack",function(){return qs}),n.d(t,"NumberKeyframeTrack",function(){return ws}),n.d(t,"ColorKeyframeTrack",function(){return bs}),n.d(t,"BooleanKeyframeTrack",function(){return xs}),n.d(t,"PropertyMixer",function(){return au}),n.d(t,"PropertyBinding",function(){return bu}),n.d(t,"KeyframeTrack",function(){return Ms}),n.d(t,"AnimationUtils",function(){return ps}),n.d(t,"AnimationObjectGroup",function(){return wu}),n.d(t,"AnimationMixer",function(){return qu}),n.d(t,"AnimationClip",function(){return Es}),n.d(t,"Uniform",function(){return Su}),n.d(t,"InstancedBufferGeometry",function(){return Tu}),n.d(t,"BufferGeometry",function(){return or}),n.d(t,"Geometry",function(){return Wn}),n.d(t,"InterleavedBufferAttribute",function(){return Ta}),n.d(t,"InstancedInterleavedBuffer",function(){return Eu}),n.d(t,"InterleavedBuffer",function(){return Sa}),n.d(t,"InstancedBufferAttribute",function(){return Du}),n.d(t,"Face3",function(){return Rn}),n.d(t,"Object3D",function(){return zn}),n.d(t,"Raycaster",function(){return ku}),n.d(t,"Layers",function(){return On}),n.d(t,"EventDispatcher",function(){return r}),n.d(t,"Clock",function(){return eu}),n.d(t,"QuaternionLinearInterpolant",function(){return Ls}),n.d(t,"LinearInterpolant",function(){return _s}),n.d(t,"DiscreteInterpolant",function(){return ys}),n.d(t,"CubicInterpolant",function(){return gs}),n.d(t,"Interpolant",function(){return vs}),n.d(t,"Triangle",function(){return Tr}),n.d(t,"Math",function(){return Kt}),n.d(t,"Spherical",function(){return Cu}),n.d(t,"Cylindrical",function(){return Ru}),n.d(t,"Plane",function(){return _n}),n.d(t,"Frustum",function(){return yn}),n.d(t,"Sphere",function(){return gn}),n.d(t,"Ray",function(){return Sr}),n.d(t,"Matrix4",function(){return $t}),n.d(t,"Matrix3",function(){return nn}),n.d(t,"Box3",function(){return vn}),n.d(t,"Box2",function(){return Yu}),n.d(t,"Line3",function(){return Ou}),n.d(t,"Euler",function(){return Yn}),n.d(t,"Vector4",function(){return dn}),n.d(t,"Vector3",function(){return tn}),n.d(t,"Vector2",function(){return Qt}),n.d(t,"Quaternion",function(){return en}),n.d(t,"Color",function(){return En}),n.d(t,"ImmediateRenderObject",function(){return Iu}),n.d(t,"VertexNormalsHelper",function(){return Fu}),n.d(t,"SpotLightHelper",function(){return Hu}),n.d(t,"SkeletonHelper",function(){return Nu}),n.d(t,"PointLightHelper",function(){return ju}),n.d(t,"RectAreaLightHelper",function(){return zu}),n.d(t,"HemisphereLightHelper",function(){return Bu}),n.d(t,"GridHelper",function(){return Uu}),n.d(t,"PolarGridHelper",function(){return Gu}),n.d(t,"FaceNormalsHelper",function(){return Wu}),n.d(t,"DirectionalLightHelper",function(){return Vu}),n.d(t,"CameraHelper",function(){return Ju}),n.d(t,"BoxHelper",function(){return Xu}),n.d(t,"Box3Helper",function(){return Zu}),n.d(t,"PlaneHelper",function(){return Ku}),n.d(t,"ArrowHelper",function(){return Qu}),n.d(t,"AxesHelper",function(){return $u}),n.d(t,"Shape",function(){return ul}),n.d(t,"Path",function(){return ll}),n.d(t,"ShapePath",function(){return Yl}),n.d(t,"Font",function(){return Ol}),n.d(t,"CurvePath",function(){return sl}),n.d(t,"Curve",function(){return js}),n.d(t,"ImageUtils",function(){return un}),n.d(t,"ShapeUtils",function(){return Po}),n.d(t,"WebGLUtils",function(){return oa}),n.d(t,"WireframeGeometry",function(){return Ua}),n.d(t,"ParametricGeometry",function(){return Ga}),n.d(t,"ParametricBufferGeometry",function(){return Wa}),n.d(t,"TetrahedronGeometry",function(){return Xa}),n.d(t,"TetrahedronBufferGeometry",function(){return Za}),n.d(t,"OctahedronGeometry",function(){return Ka}),n.d(t,"OctahedronBufferGeometry",function(){return Qa}),n.d(t,"IcosahedronGeometry",function(){return $a}),n.d(t,"IcosahedronBufferGeometry",function(){return eo}),n.d(t,"DodecahedronGeometry",function(){return to}),n.d(t,"DodecahedronBufferGeometry",function(){return no}),n.d(t,"PolyhedronGeometry",function(){return Va}),n.d(t,"PolyhedronBufferGeometry",function(){return Ja}),n.d(t,"TubeGeometry",function(){return ro}),n.d(t,"TubeBufferGeometry",function(){return io}),n.d(t,"TorusKnotGeometry",function(){return ao}),n.d(t,"TorusKnotBufferGeometry",function(){return oo}),n.d(t,"TorusGeometry",function(){return so}),n.d(t,"TorusBufferGeometry",function(){return lo}),n.d(t,"TextGeometry",function(){return Ho}),n.d(t,"TextBufferGeometry",function(){return No}),n.d(t,"SphereGeometry",function(){return jo}),n.d(t,"SphereBufferGeometry",function(){return zo}),n.d(t,"RingGeometry",function(){return Bo}),n.d(t,"RingBufferGeometry",function(){return Uo}),n.d(t,"PlaneGeometry",function(){return ur}),n.d(t,"PlaneBufferGeometry",function(){return hr}),n.d(t,"LatheGeometry",function(){return Go}),n.d(t,"LatheBufferGeometry",function(){return Wo}),n.d(t,"ShapeGeometry",function(){return Vo}),n.d(t,"ShapeBufferGeometry",function(){return Jo}),n.d(t,"ExtrudeGeometry",function(){return Yo}),n.d(t,"ExtrudeBufferGeometry",function(){return Oo}),n.d(t,"EdgesGeometry",function(){return Zo}),n.d(t,"ConeGeometry",function(){return $o}),n.d(t,"ConeBufferGeometry",function(){return es}),n.d(t,"CylinderGeometry",function(){return Ko}),n.d(t,"CylinderBufferGeometry",function(){return Qo}),n.d(t,"CircleGeometry",function(){return ts}),n.d(t,"CircleBufferGeometry",function(){return ns}),n.d(t,"BoxGeometry",function(){return sr}),n.d(t,"BoxBufferGeometry",function(){return lr}),n.d(t,"ShadowMaterial",function(){return is}),n.d(t,"SpriteMaterial",function(){return Ea}),n.d(t,"RawShaderMaterial",function(){return as}),n.d(t,"ShaderMaterial",function(){return qr}),n.d(t,"PointsMaterial",function(){return Fa}),n.d(t,"MeshPhysicalMaterial",function(){return ss}),n.d(t,"MeshStandardMaterial",function(){return os}),n.d(t,"MeshPhongMaterial",function(){return ls}),n.d(t,"MeshToonMaterial",function(){return us}),n.d(t,"MeshNormalMaterial",function(){return hs}),n.d(t,"MeshLambertMaterial",function(){return cs}),n.d(t,"MeshDepthMaterial",function(){return ta}),n.d(t,"MeshDistanceMaterial",function(){return na}),n.d(t,"MeshBasicMaterial",function(){return Er}),n.d(t,"MeshMatcapMaterial",function(){return ds}),n.d(t,"LineDashedMaterial",function(){return ms}),n.d(t,"LineBasicMaterial",function(){return Ra}),n.d(t,"Material",function(){return Lr}),n.d(t,"Float64BufferAttribute",function(){return nr}),n.d(t,"Float32BufferAttribute",function(){return tr}),n.d(t,"Uint32BufferAttribute",function(){return er}),n.d(t,"Int32BufferAttribute",function(){return $n}),n.d(t,"Uint16BufferAttribute",function(){return Qn}),n.d(t,"Int16BufferAttribute",function(){return Kn}),n.d(t,"Uint8ClampedBufferAttribute",function(){return Zn}),n.d(t,"Uint8BufferAttribute",function(){return Xn}),n.d(t,"Int8BufferAttribute",function(){return Jn}),n.d(t,"BufferAttribute",function(){return Vn}),n.d(t,"ArcCurve",function(){return Bs}),n.d(t,"CatmullRomCurve3",function(){return Xs}),n.d(t,"CubicBezierCurve",function(){return $s}),n.d(t,"CubicBezierCurve3",function(){return el}),n.d(t,"EllipseCurve",function(){return zs}),n.d(t,"LineCurve",function(){return tl}),n.d(t,"LineCurve3",function(){return nl}),n.d(t,"QuadraticBezierCurve",function(){return rl}),n.d(t,"QuadraticBezierCurve3",function(){return il}),n.d(t,"SplineCurve",function(){return al}),n.d(t,"REVISION",function(){return v}),n.d(t,"MOUSE",function(){return g}),n.d(t,"CullFaceNone",function(){return _}),n.d(t,"CullFaceBack",function(){return y}),n.d(t,"CullFaceFront",function(){return M}),n.d(t,"CullFaceFrontBack",function(){return x}),n.d(t,"FrontFaceDirectionCW",function(){return b}),n.d(t,"FrontFaceDirectionCCW",function(){return w}),n.d(t,"BasicShadowMap",function(){return L}),n.d(t,"PCFShadowMap",function(){return q}),n.d(t,"PCFSoftShadowMap",function(){return S}),n.d(t,"FrontSide",function(){return T}),n.d(t,"BackSide",function(){return E}),n.d(t,"DoubleSide",function(){return D}),n.d(t,"FlatShading",function(){return k}),n.d(t,"SmoothShading",function(){return A}),n.d(t,"NoColors",function(){return P}),n.d(t,"FaceColors",function(){return C}),n.d(t,"VertexColors",function(){return R}),n.d(t,"NoBlending",function(){return Y}),n.d(t,"NormalBlending",function(){return O}),n.d(t,"AdditiveBlending",function(){return I}),n.d(t,"SubtractiveBlending",function(){return F}),n.d(t,"MultiplyBlending",function(){return H}),n.d(t,"CustomBlending",function(){return N}),n.d(t,"AddEquation",function(){return j}),n.d(t,"SubtractEquation",function(){return z}),n.d(t,"ReverseSubtractEquation",function(){return B}),n.d(t,"MinEquation",function(){return U}),n.d(t,"MaxEquation",function(){return G}),n.d(t,"ZeroFactor",function(){return W}),n.d(t,"OneFactor",function(){return V}),n.d(t,"SrcColorFactor",function(){return J}),n.d(t,"OneMinusSrcColorFactor",function(){return X}),n.d(t,"SrcAlphaFactor",function(){return Z}),n.d(t,"OneMinusSrcAlphaFactor",function(){return K}),n.d(t,"DstAlphaFactor",function(){return Q}),n.d(t,"OneMinusDstAlphaFactor",function(){return $}),n.d(t,"DstColorFactor",function(){return ee}),n.d(t,"OneMinusDstColorFactor",function(){return te}),n.d(t,"SrcAlphaSaturateFactor",function(){return ne}),n.d(t,"NeverDepth",function(){return re}),n.d(t,"AlwaysDepth",function(){return ie}),n.d(t,"LessDepth",function(){return ae}),n.d(t,"LessEqualDepth",function(){return oe}),n.d(t,"EqualDepth",function(){return se}),n.d(t,"GreaterEqualDepth",function(){return le}),n.d(t,"GreaterDepth",function(){return ue}),n.d(t,"NotEqualDepth",function(){return he}),n.d(t,"MultiplyOperation",function(){return ce}),n.d(t,"MixOperation",function(){return de}),n.d(t,"AddOperation",function(){return me}),n.d(t,"NoToneMapping",function(){return fe}),n.d(t,"LinearToneMapping",function(){return pe}),n.d(t,"ReinhardToneMapping",function(){return ve}),n.d(t,"Uncharted2ToneMapping",function(){return ge}),n.d(t,"CineonToneMapping",function(){return _e}),n.d(t,"ACESFilmicToneMapping",function(){return ye}),n.d(t,"UVMapping",function(){return Me}),n.d(t,"CubeReflectionMapping",function(){return xe}),n.d(t,"CubeRefractionMapping",function(){return be}),n.d(t,"EquirectangularReflectionMapping",function(){return we}),n.d(t,"EquirectangularRefractionMapping",function(){return Le}),n.d(t,"SphericalReflectionMapping",function(){return qe}),n.d(t,"CubeUVReflectionMapping",function(){return Se}),n.d(t,"CubeUVRefractionMapping",function(){return Te}),n.d(t,"RepeatWrapping",function(){return Ee}),n.d(t,"ClampToEdgeWrapping",function(){return De}),n.d(t,"MirroredRepeatWrapping",function(){return ke}),n.d(t,"NearestFilter",function(){return Ae}),n.d(t,"NearestMipMapNearestFilter",function(){return Pe}),n.d(t,"NearestMipMapLinearFilter",function(){return Ce}),n.d(t,"LinearFilter",function(){return Re}),n.d(t,"LinearMipMapNearestFilter",function(){return Ye}),n.d(t,"LinearMipMapLinearFilter",function(){return Oe}),n.d(t,"UnsignedByteType",function(){return Ie}),n.d(t,"ByteType",function(){return Fe}),n.d(t,"ShortType",function(){return He}),n.d(t,"UnsignedShortType",function(){return Ne}),n.d(t,"IntType",function(){return je}),n.d(t,"UnsignedIntType",function(){return ze}),n.d(t,"FloatType",function(){return Be}),n.d(t,"HalfFloatType",function(){return Ue}),n.d(t,"UnsignedShort4444Type",function(){return Ge}),n.d(t,"UnsignedShort5551Type",function(){return We}),n.d(t,"UnsignedShort565Type",function(){return Ve}),n.d(t,"UnsignedInt248Type",function(){return Je}),n.d(t,"AlphaFormat",function(){return Xe}),n.d(t,"RGBFormat",function(){return Ze}),n.d(t,"RGBAFormat",function(){return Ke}),n.d(t,"LuminanceFormat",function(){return Qe}),n.d(t,"LuminanceAlphaFormat",function(){return $e}),n.d(t,"RGBEFormat",function(){return et}),n.d(t,"DepthFormat",function(){return tt}),n.d(t,"DepthStencilFormat",function(){return nt}),n.d(t,"RedFormat",function(){return rt}),n.d(t,"RGB_S3TC_DXT1_Format",function(){return it}),n.d(t,"RGBA_S3TC_DXT1_Format",function(){return at}),n.d(t,"RGBA_S3TC_DXT3_Format",function(){return ot}),n.d(t,"RGBA_S3TC_DXT5_Format",function(){return st}),n.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return lt}),n.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return ut}),n.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return ht}),n.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return ct}),n.d(t,"RGB_ETC1_Format",function(){return dt}),n.d(t,"RGBA_ASTC_4x4_Format",function(){return mt}),n.d(t,"RGBA_ASTC_5x4_Format",function(){return ft}),n.d(t,"RGBA_ASTC_5x5_Format",function(){return pt}),n.d(t,"RGBA_ASTC_6x5_Format",function(){return vt}),n.d(t,"RGBA_ASTC_6x6_Format",function(){return gt}),n.d(t,"RGBA_ASTC_8x5_Format",function(){return _t}),n.d(t,"RGBA_ASTC_8x6_Format",function(){return yt}),n.d(t,"RGBA_ASTC_8x8_Format",function(){return Mt}),n.d(t,"RGBA_ASTC_10x5_Format",function(){return xt}),n.d(t,"RGBA_ASTC_10x6_Format",function(){return bt}),n.d(t,"RGBA_ASTC_10x8_Format",function(){return wt}),n.d(t,"RGBA_ASTC_10x10_Format",function(){return Lt}),n.d(t,"RGBA_ASTC_12x10_Format",function(){return qt}),n.d(t,"RGBA_ASTC_12x12_Format",function(){return St}),n.d(t,"LoopOnce",function(){return Tt}),n.d(t,"LoopRepeat",function(){return Et}),n.d(t,"LoopPingPong",function(){return Dt}),n.d(t,"InterpolateDiscrete",function(){return kt}),n.d(t,"InterpolateLinear",function(){return At}),n.d(t,"InterpolateSmooth",function(){return Pt}),n.d(t,"ZeroCurvatureEnding",function(){return Ct}),n.d(t,"ZeroSlopeEnding",function(){return Rt}),n.d(t,"WrapAroundEnding",function(){return Yt}),n.d(t,"TrianglesDrawMode",function(){return Ot}),n.d(t,"TriangleStripDrawMode",function(){return It}),n.d(t,"TriangleFanDrawMode",function(){return Ft}),n.d(t,"LinearEncoding",function(){return Ht}),n.d(t,"sRGBEncoding",function(){return Nt}),n.d(t,"GammaEncoding",function(){return jt}),n.d(t,"RGBEEncoding",function(){return zt}),n.d(t,"LogLuvEncoding",function(){return Bt}),n.d(t,"RGBM7Encoding",function(){return Ut}),n.d(t,"RGBM16Encoding",function(){return Gt}),n.d(t,"RGBDEncoding",function(){return Wt}),n.d(t,"BasicDepthPacking",function(){return Vt}),n.d(t,"RGBADepthPacking",function(){return Jt}),n.d(t,"TangentSpaceNormalMap",function(){return Xt}),n.d(t,"ObjectSpaceNormalMap",function(){return Zt}),n.d(t,"CubeGeometry",function(){return sr}),n.d(t,"Face4",function(){return eh}),n.d(t,"LineStrip",function(){return th}),n.d(t,"LinePieces",function(){return nh}),n.d(t,"MeshFaceMaterial",function(){return rh}),n.d(t,"MultiMaterial",function(){return ih}),n.d(t,"PointCloud",function(){return ah}),n.d(t,"Particle",function(){return oh}),n.d(t,"ParticleSystem",function(){return sh}),n.d(t,"PointCloudMaterial",function(){return lh}),n.d(t,"ParticleBasicMaterial",function(){return uh}),n.d(t,"ParticleSystemMaterial",function(){return hh}),n.d(t,"Vertex",function(){return ch}),n.d(t,"DynamicBufferAttribute",function(){return dh}),n.d(t,"Int8Attribute",function(){return mh}),n.d(t,"Uint8Attribute",function(){return fh}),n.d(t,"Uint8ClampedAttribute",function(){return ph}),n.d(t,"Int16Attribute",function(){return vh}),n.d(t,"Uint16Attribute",function(){return gh}),n.d(t,"Int32Attribute",function(){return _h}),n.d(t,"Uint32Attribute",function(){return yh}),n.d(t,"Float32Attribute",function(){return Mh}),n.d(t,"Float64Attribute",function(){return xh}),n.d(t,"ClosedSplineCurve3",function(){return bh}),n.d(t,"SplineCurve3",function(){return wh}),n.d(t,"Spline",function(){return Lh}),n.d(t,"AxisHelper",function(){return qh}),n.d(t,"BoundingBoxHelper",function(){return Sh}),n.d(t,"EdgesHelper",function(){return Th}),n.d(t,"WireframeHelper",function(){return Eh}),n.d(t,"XHRLoader",function(){return Dh}),n.d(t,"BinaryTextureLoader",function(){return kh}),n.d(t,"GeometryUtils",function(){return Ah}),n.d(t,"Projector",function(){return Ph}),n.d(t,"CanvasRenderer",function(){return Ch}),n.d(t,"JSONLoader",function(){return Rh}),n.d(t,"SceneUtils",function(){return Yh}),n.d(t,"LensFlare",function(){return Oh}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var i,a,o,s,l,u,h,c,d,m,f,p,v="99",g={LEFT:0,MIDDLE:1,RIGHT:2},_=0,y=1,M=2,x=3,b=0,w=1,L=0,q=1,S=2,T=0,E=1,D=2,k=1,A=2,P=0,C=1,R=2,Y=0,O=1,I=2,F=3,H=4,N=5,j=100,z=101,B=102,U=103,G=104,W=200,V=201,J=202,X=203,Z=204,K=205,Q=206,$=207,ee=208,te=209,ne=210,re=0,ie=1,ae=2,oe=3,se=4,le=5,ue=6,he=7,ce=0,de=1,me=2,fe=0,pe=1,ve=2,ge=3,_e=4,ye=5,Me=300,xe=301,be=302,we=303,Le=304,qe=305,Se=306,Te=307,Ee=1e3,De=1001,ke=1002,Ae=1003,Pe=1004,Ce=1005,Re=1006,Ye=1007,Oe=1008,Ie=1009,Fe=1010,He=1011,Ne=1012,je=1013,ze=1014,Be=1015,Ue=1016,Ge=1017,We=1018,Ve=1019,Je=1020,Xe=1021,Ze=1022,Ke=1023,Qe=1024,$e=1025,et=Ke,tt=1026,nt=1027,rt=1028,it=33776,at=33777,ot=33778,st=33779,lt=35840,ut=35841,ht=35842,ct=35843,dt=36196,mt=37808,ft=37809,pt=37810,vt=37811,gt=37812,_t=37813,yt=37814,Mt=37815,xt=37816,bt=37817,wt=37818,Lt=37819,qt=37820,St=37821,Tt=2200,Et=2201,Dt=2202,kt=2300,At=2301,Pt=2302,Ct=2400,Rt=2401,Yt=2402,Ot=0,It=1,Ft=2,Ht=3e3,Nt=3001,jt=3007,zt=3002,Bt=3003,Ut=3004,Gt=3005,Wt=3006,Vt=3200,Jt=3201,Xt=0,Zt=1,Kt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Kt.DEG2RAD},radToDeg:function(e){return e*Kt.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Qt(e,t){this.x=e||0,this.y=t||0}function $t(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function en(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function tn(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function nn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Qt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Qt.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(i=new Qt,a=new Qt,function(e,t){return i.set(e,e),a.set(t,t),this.clamp(i,a)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}}),Object.assign($t.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,a,o,s,l,u,h,c,d,m,f,p){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=h,v[14]=c,v[3]=d,v[7]=m,v[11]=f,v[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new $t).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:(m=new tn,function(e){var t=this.elements,n=e.elements,r=1/m.setFromMatrixColumn(e,0).length(),i=1/m.setFromMatrixColumn(e,1).length(),a=1/m.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),h=Math.sin(i);if("XYZ"===e.order){var c=a*u,d=a*h,m=o*u,f=o*h;t[0]=s*u,t[4]=-s*h,t[8]=l,t[1]=d+m*l,t[5]=c-f*l,t[9]=-o*s,t[2]=f-c*l,t[6]=m+d*l,t[10]=a*s}else if("YXZ"===e.order){var p=s*u,v=s*h,g=l*u,_=l*h;t[0]=p+_*o,t[4]=g*o-v,t[8]=a*l,t[1]=a*h,t[5]=a*u,t[9]=-o,t[2]=v*o-g,t[6]=_+p*o,t[10]=a*s}else if("ZXY"===e.order){p=s*u,v=s*h,g=l*u,_=l*h;t[0]=p-_*o,t[4]=-a*h,t[8]=g+v*o,t[1]=v+g*o,t[5]=a*u,t[9]=_-p*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){c=a*u,d=a*h,m=o*u,f=o*h;t[0]=s*u,t[4]=m*l-d,t[8]=c*l+f,t[1]=s*h,t[5]=f*l+c,t[9]=d*l-m,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var y=a*s,M=a*l,x=o*s,b=o*l;t[0]=s*u,t[4]=b-y*h,t[8]=x*h+M,t[1]=h,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=M*h+x,t[10]=y-b*h}else if("XZY"===e.order){y=a*s,M=a*l,x=o*s,b=o*l;t[0]=s*u,t[4]=-h,t[8]=l*u,t[1]=y*h+b,t[5]=a*u,t[9]=M*h-x,t[2]=x*h-M,t[6]=o*u,t[10]=b*h+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:(c=new tn(0,0,0),d=new tn(1,1,1),function(e){return this.compose(c,e,d)}),lookAt:(l=new tn,u=new tn,h=new tn,function(e,t,n){var r=this.elements;return h.subVectors(e,t),0===h.lengthSq()&&(h.z=1),h.normalize(),l.crossVectors(n,h),0===l.lengthSq()&&(1===Math.abs(n.z)?h.x+=1e-4:h.z+=1e-4,h.normalize(),l.crossVectors(n,h)),l.normalize(),u.crossVectors(h,l),r[0]=l.x,r[4]=u.x,r[8]=h.x,r[1]=l.y,r[5]=u.y,r[9]=h.y,r[2]=l.z,r[6]=u.z,r[10]=h.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],h=n[5],c=n[9],d=n[13],m=n[2],f=n[6],p=n[10],v=n[14],g=n[3],_=n[7],y=n[11],M=n[15],x=r[0],b=r[4],w=r[8],L=r[12],q=r[1],S=r[5],T=r[9],E=r[13],D=r[2],k=r[6],A=r[10],P=r[14],C=r[3],R=r[7],Y=r[11],O=r[15];return i[0]=a*x+o*q+s*D+l*C,i[4]=a*b+o*S+s*k+l*R,i[8]=a*w+o*T+s*A+l*Y,i[12]=a*L+o*E+s*P+l*O,i[1]=u*x+h*q+c*D+d*C,i[5]=u*b+h*S+c*k+d*R,i[9]=u*w+h*T+c*A+d*Y,i[13]=u*L+h*E+c*P+d*O,i[2]=m*x+f*q+p*D+v*C,i[6]=m*b+f*S+p*k+v*R,i[10]=m*w+f*T+p*A+v*Y,i[14]=m*L+f*E+p*P+v*O,i[3]=g*x+_*q+y*D+M*C,i[7]=g*b+_*S+y*k+M*R,i[11]=g*w+_*T+y*A+M*Y,i[15]=g*L+_*E+y*P+M*O,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new tn;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],h=e[6],c=e[10],d=e[14];return e[3]*(+i*s*h-r*l*h-i*o*c+n*l*c+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*c+i*a*c-r*a*d+r*l*u-i*s*u)+e[11]*(+t*l*h-t*o*d-i*a*h+n*a*d+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*h+t*o*c+r*a*h-n*a*c+n*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],h=r[6],c=r[7],d=r[8],m=r[9],f=r[10],p=r[11],v=r[12],g=r[13],_=r[14],y=r[15],M=m*_*c-g*f*c+g*h*p-u*_*p-m*h*y+u*f*y,x=v*f*c-d*_*c-v*h*p+l*_*p+d*h*y-l*f*y,b=d*g*c-v*m*c+v*u*p-l*g*p-d*u*y+l*m*y,w=v*m*h-d*g*h-v*u*f+l*g*f+d*u*_-l*m*_,L=i*M+a*x+o*b+s*w;if(0===L){var q="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(q);return console.warn(q),this.identity()}var S=1/L;return n[0]=M*S,n[1]=(g*f*s-m*_*s-g*o*p+a*_*p+m*o*y-a*f*y)*S,n[2]=(u*_*s-g*h*s+g*o*c-a*_*c-u*o*y+a*h*y)*S,n[3]=(m*h*s-u*f*s-m*o*c+a*f*c+u*o*p-a*h*p)*S,n[4]=x*S,n[5]=(d*_*s-v*f*s+v*o*p-i*_*p-d*o*y+i*f*y)*S,n[6]=(v*h*s-l*_*s-v*o*c+i*_*c+l*o*y-i*h*y)*S,n[7]=(l*f*s-d*h*s+d*o*c-i*f*c-l*o*p+i*h*p)*S,n[8]=b*S,n[9]=(v*m*s-d*g*s-v*a*p+i*g*p+d*a*y-i*m*y)*S,n[10]=(l*g*s-v*u*s+v*a*c-i*g*c-l*a*y+i*u*y)*S,n[11]=(d*u*s-l*m*s-d*a*c+i*m*c+l*a*p-i*u*p)*S,n[12]=w*S,n[13]=(d*g*o-v*m*o+v*a*f-i*g*f-d*a*_+i*m*_)*S,n[14]=(v*u*o-l*g*o-v*a*h+i*g*h+l*a*_-i*u*_)*S,n[15]=(l*m*o-d*u*o+d*a*h-i*m*h-l*a*f+i*u*f)*S,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,h=o+o,c=i*l,d=i*u,m=i*h,f=a*u,p=a*h,v=o*h,g=s*l,_=s*u,y=s*h,M=n.x,x=n.y,b=n.z;return r[0]=(1-(f+v))*M,r[1]=(d+y)*M,r[2]=(m-_)*M,r[3]=0,r[4]=(d-y)*x,r[5]=(1-(c+v))*x,r[6]=(p+g)*x,r[7]=0,r[8]=(m+_)*b,r[9]=(p-g)*b,r[10]=(1-(c+f))*b,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:(o=new tn,s=new $t,function(e,t,n){var r=this.elements,i=o.set(r[0],r[1],r[2]).length(),a=o.set(r[4],r[5],r[6]).length(),l=o.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],s.copy(this);var u=1/i,h=1/a,c=1/l;return s.elements[0]*=u,s.elements[1]*=u,s.elements[2]*=u,s.elements[4]*=h,s.elements[5]*=h,s.elements[6]*=h,s.elements[8]*=c,s.elements[9]*=c,s.elements[10]*=c,t.setFromRotationMatrix(s),n.x=i,n.y=a,n.z=l,this}),makePerspective:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),h=(n+r)/(n-r),c=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(a-i),h=(t+e)*s,c=(n+r)*l,d=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-c,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(en,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],h=n[r+3],c=i[a+0],d=i[a+1],m=i[a+2],f=i[a+3];if(h!==f||s!==c||l!==d||u!==m){var p=1-o,v=s*c+l*d+u*m+h*f,g=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){var y=Math.sqrt(_),M=Math.atan2(y,v*g);p=Math.sin(p*M)/y,o=Math.sin(o*M)/y}var x=o*g;if(s=s*p+c*x,l=l*p+d*x,u=u*p+m*x,h=h*p+f*x,p===1-o){var b=1/Math.sqrt(s*s+l*l+u*u+h*h);s*=b,l*=b,u*=b,h*=b}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=h}}),Object.defineProperties(en.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(en.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e.order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),h=o(i/2),c=s(n/2),d=s(r/2),m=s(i/2);return"XYZ"===a?(this._x=c*u*h+l*d*m,this._y=l*d*h-c*u*m,this._z=l*u*m+c*d*h,this._w=l*u*h-c*d*m):"YXZ"===a?(this._x=c*u*h+l*d*m,this._y=l*d*h-c*u*m,this._z=l*u*m-c*d*h,this._w=l*u*h+c*d*m):"ZXY"===a?(this._x=c*u*h-l*d*m,this._y=l*d*h+c*u*m,this._z=l*u*m+c*d*h,this._w=l*u*h-c*d*m):"ZYX"===a?(this._x=c*u*h-l*d*m,this._y=l*d*h+c*u*m,this._z=l*u*m-c*d*h,this._w=l*u*h+c*d*m):"YZX"===a?(this._x=c*u*h+l*d*m,this._y=l*d*h+c*u*m,this._z=l*u*m-c*d*h,this._w=l*u*h-c*d*m):"XZY"===a&&(this._x=c*u*h-l*d*m,this._y=l*d*h-c*u*m,this._z=l*u*m+c*d*h,this._w=l*u*h+c*d*m),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],h=n[6],c=n[10],d=r+s+c;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(h-l)*t,this._y=(a-u)*t,this._z=(o-i)*t):r>s&&r>c?(t=2*Math.sqrt(1+r-s-c),this._w=(h-l)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(a+u)/t):s>c?(t=2*Math.sqrt(1+s-r-c),this._w=(a-u)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(l+h)/t):(t=2*Math.sqrt(1+c-r-s),this._w=(o-i)/t,this._x=(a+u)/t,this._y=(l+h)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new tn;return function(n,r){return void 0===t&&(t=new tn),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(Kt.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize()}var u=Math.sqrt(s),h=Math.atan2(u,o),c=Math.sin((1-t)*h)/u,d=Math.sin(t*h)/u;return this._w=a*c+this._w*d,this._x=n*c+this._x*d,this._y=r*c+this._y*d,this._z=i*c+this._z*d,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(tn.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(f=new en,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(f.setFromEuler(e))}),applyAxisAngle:function(){var e=new en;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,h=s*r+i*n-a*t,c=-i*t-a*n-o*r;return this.x=l*s+c*-i+u*-o-h*-a,this.y=u*s+c*-a+h*-i-l*-o,this.z=h*s+c*-o+l*-a-u*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new $t;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new tn,t=new tn;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new tn;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new tn;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Kt.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(nn.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new tn;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],h=n[7],c=n[2],d=n[5],m=n[8],f=r[0],p=r[3],v=r[6],g=r[1],_=r[4],y=r[7],M=r[2],x=r[5],b=r[8];return i[0]=a*f+o*g+s*M,i[3]=a*p+o*_+s*x,i[6]=a*v+o*y+s*b,i[1]=l*f+u*g+h*M,i[4]=l*p+u*_+h*x,i[7]=l*v+u*y+h*b,i[2]=c*f+d*g+m*M,i[5]=c*p+d*_+m*x,i[8]=c*v+d*y+m*b,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],h=n[6],c=n[7],d=n[8],m=d*l-u*c,f=u*h-d*s,p=c*s-l*h,v=i*m+a*f+o*p;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var _=1/v;return r[0]=m*_,r[1]=(o*c-d*a)*_,r[2]=(u*a-o*l)*_,r[3]=f*_,r[4]=(d*i-o*h)*_,r[5]=(o*s-u*i)*_,r[6]=p*_,r[7]=(a*h-c*i)*_,r[8]=(l*i-a*s)*_,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*u,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*u,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var rn,an,on,sn,ln,un={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===p&&(p=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),p.width=e.width,p.height=e.height;var n=p.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=p}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},hn=0;function cn(e,t,n,r,i,a,o,s,l,u){Object.defineProperty(this,"id",{value:hn++}),this.uuid=Kt.generateUUID(),this.name="",this.image=void 0!==e?e:cn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:cn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:De,this.wrapT=void 0!==r?r:De,this.magFilter=void 0!==i?i:Re,this.minFilter=void 0!==a?a:Oe,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Ke,this.type=void 0!==s?s:Ie,this.offset=new Qt(0,0),this.repeat=new Qt(1,1),this.center=new Qt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:Ht,this.version=0,this.onUpdate=null}function dn(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function mn(e,t,n){this.width=e,this.height=t,this.scissor=new dn(0,0,e,t),this.scissorTest=!1,this.viewport=new dn(0,0,e,t),n=n||{},this.texture=new cn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Re,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function fn(e,t,n){mn.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function pn(e,t,n,r,i,a,o,s,l,u,h,c){cn.call(this,null,a,o,s,l,u,r,i,h,c),this.image={data:e,width:t,height:n},this.magFilter=void 0!==l?l:Ae,this.minFilter=void 0!==u?u:Ae,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function vn(e,t){this.min=void 0!==e?e:new tn(1/0,1/0,1/0),this.max=void 0!==t?t:new tn(-1/0,-1/0,-1/0)}function gn(e,t){this.center=void 0!==e?e:new tn,this.radius=void 0!==t?t:0}function _n(e,t){this.normal=void 0!==e?e:new tn(1,0,0),this.constant=void 0!==t?t:0}function yn(e,t,n,r,i,a){this.planes=[void 0!==e?e:new _n,void 0!==t?t:new _n,void 0!==n?n:new _n,void 0!==r?r:new _n,void 0!==i?i:new _n,void 0!==a?a:new _n]}cn.DEFAULT_IMAGE=void 0,cn.DEFAULT_MAPPING=Me,cn.prototype=Object.assign(Object.create(r.prototype),{constructor:cn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Kt.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(un.getDataURL(r[a]))}else i=un.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==Me)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ee:e.x=e.x-Math.floor(e.x);break;case De:e.x=e.x<0?0:1;break;case ke:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ee:e.y=e.y-Math.floor(e.y);break;case De:e.y=e.y<0?0:1;break;case ke:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(cn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(dn.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,a=e.elements,o=a[0],s=a[4],l=a[8],u=a[1],h=a[5],c=a[9],d=a[2],m=a[6],f=a[10];if(Math.abs(s-u)<.01&&Math.abs(l-d)<.01&&Math.abs(c-m)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+d)<.1&&Math.abs(c+m)<.1&&Math.abs(o+h+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var p=(o+1)/2,v=(h+1)/2,g=(f+1)/2,_=(s+u)/4,y=(l+d)/4,M=(c+m)/4;return p>v&&p>g?p<.01?(n=0,r=.707106781,i=.707106781):(r=_/(n=Math.sqrt(p)),i=y/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(n=_/(r=Math.sqrt(v)),i=M/r):g<.01?(n=.707106781,r=.707106781,i=0):(n=y/(i=Math.sqrt(g)),r=M/i),this.set(n,r,i,t),this}var x=Math.sqrt((m-c)*(m-c)+(l-d)*(l-d)+(u-s)*(u-s));return Math.abs(x)<.001&&(x=1),this.x=(m-c)/x,this.y=(l-d)/x,this.z=(u-s)/x,this.w=Math.acos((o+h+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new dn,t=new dn),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),mn.prototype=Object.assign(Object.create(r.prototype),{constructor:mn,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),fn.prototype=Object.create(mn.prototype),fn.prototype.constructor=fn,fn.prototype.isWebGLRenderTargetCube=!0,pn.prototype=Object.create(cn.prototype),pn.prototype.constructor=pn,pn.prototype.isDataTexture=!0,Object.assign(vn.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],h=e[s+1],c=e[s+2];u<t&&(t=u),h<n&&(n=h),c<r&&(r=c),u>i&&(i=u),h>a&&(a=h),c>o&&(o=c)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),h=e.getY(s),c=e.getZ(s);u<t&&(t=u),h<n&&(n=h),c<r&&(r=c),u>i&&(i=u),h>a&&(a=h),c>o&&(o=c)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new tn;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new tn),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new tn),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,r=new tn;function i(i){var a=i.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(t=0,n=o.length;t<n;t++)r.copy(o[t]),r.applyMatrix4(i.matrixWorld),e.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(t=0,n=s.count;t<n;t++)r.fromBufferAttribute(s,t).applyMatrix4(i.matrixWorld),e.expandByPoint(r)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(i),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new tn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(an=new tn,function(e){return this.clampPoint(e.center,an),an.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new tn,t=new tn,n=new tn,r=new tn,i=new tn,a=new tn,o=new tn,s=new tn,l=new tn,u=new tn;function h(r){var i,a;for(i=0,a=r.length-3;i<=a;i+=3){o.fromArray(r,i);var s=l.x*Math.abs(o.x)+l.y*Math.abs(o.y)+l.z*Math.abs(o.z),u=e.dot(o),h=t.dot(o),c=n.dot(o);if(Math.max(-Math.max(u,h,c),Math.min(u,h,c))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),l.subVectors(this.max,s),e.subVectors(o.a,s),t.subVectors(o.b,s),n.subVectors(o.c,s),r.subVectors(t,e),i.subVectors(n,t),a.subVectors(e,n);var c=[0,-r.z,r.y,0,-i.z,i.y,0,-a.z,a.y,r.z,0,-r.x,i.z,0,-i.x,a.z,0,-a.x,-r.y,r.x,0,-i.y,i.x,0,-a.y,a.x,0];return!!h(c)&&(!!h(c=[1,0,0,0,1,0,0,0,1])&&(u.crossVectors(r,i),h(c=[u.x,u.y,u.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new tn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new tn;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new tn;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new gn),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(rn=[new tn,new tn,new tn,new tn,new tn,new tn,new tn,new tn],function(e){return this.isEmpty()?this:(rn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rn),this)}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(gn.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(on=new vn,function(e,t){var n=this.center;void 0!==t?n.copy(t):on.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new tn),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new vn),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(_n.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new tn,t=new tn;return function(n,r,i){var a=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new tn),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new tn;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new tn);var r=t.delta(e),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/i;return a<0||a>1?void 0:n.copy(r).multiplyScalar(a).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new tn),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new tn,t=new nn;return function(n,r){var i=r||t.getNormalMatrix(n),a=this.coplanarPoint(e).applyMatrix4(n),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(yn.prototype,{set:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],h=n[7],c=n[8],d=n[9],m=n[10],f=n[11],p=n[12],v=n[13],g=n[14],_=n[15];return t[0].setComponents(o-r,h-s,f-c,_-p).normalize(),t[1].setComponents(o+r,h+s,f+c,_+p).normalize(),t[2].setComponents(o+i,h+l,f+d,_+v).normalize(),t[3].setComponents(o-i,h-l,f-d,_-v).normalize(),t[4].setComponents(o-a,h-u,f-m,_-g).normalize(),t[5].setComponents(o+a,h+u,f+m,_+g).normalize(),this},intersectsObject:(ln=new gn,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ln.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ln)}),intersectsSprite:function(){var e=new gn;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(sn=new tn,function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(sn.x=r.normal.x>0?e.max.x:e.min.x,sn.y=r.normal.y>0?e.max.y:e.min.y,sn.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(sn)<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var Mn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function xn(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function bn(e){for(var t={},n=0;n<e.length;n++){var r=xn(e[n]);for(var i in r)t[i]=r[i]}return t}var wn,Ln,qn,Sn={clone:xn,merge:bn},Tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function En(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(En.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=Kt.euclideanModulo(t,1),n=Kt.clamp(n,0,1),r=Kt.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=e(a,i,t+1/3),this.g=e(a,i,t),this.b=e(a,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var u,h=(u=n[1]).length;if(3===h)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(u=Tn[e])?this.setHex(u):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),l=(s+o)/2;if(s===o)t=0,n=0;else{var u=o-s;switch(n=l<=.5?u/(o+s):u/(2-o-s),o){case r:t=(i-a)/u+(i<a?6:0);break;case i:t=(a-r)/u+2;break;case a:t=(r-i)/u+4}t/=6}return e.h=t,e.s=n,e.l=l,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(qn={},function(e,t,n){return this.getHSL(qn),qn.h+=e,qn.s+=t,qn.l+=n,this.setHSL(qn.h,qn.s,qn.l),this}),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:(wn={h:0,s:0,l:0},Ln={h:0,s:0,l:0},function(e,t){this.getHSL(wn),e.getHSL(Ln);var n=Kt.lerp(wn.h,Ln.h,t),r=Kt.lerp(wn.s,Ln.s,t),i=Kt.lerp(wn.l,Ln.l,t);return this.setHSL(n,r,i),this}),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Dn,kn={common:{diffuse:{value:new En(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new nn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Qt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new En(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new En(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new nn}},sprite:{diffuse:{value:new En(15658734)},opacity:{value:1},center:{value:new Qt(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new nn}}},An={basic:{uniforms:bn([kn.common,kn.specularmap,kn.envmap,kn.aomap,kn.lightmap,kn.fog]),vertexShader:Mn.meshbasic_vert,fragmentShader:Mn.meshbasic_frag},lambert:{uniforms:bn([kn.common,kn.specularmap,kn.envmap,kn.aomap,kn.lightmap,kn.emissivemap,kn.fog,kn.lights,{emissive:{value:new En(0)}}]),vertexShader:Mn.meshlambert_vert,fragmentShader:Mn.meshlambert_frag},phong:{uniforms:bn([kn.common,kn.specularmap,kn.envmap,kn.aomap,kn.lightmap,kn.emissivemap,kn.bumpmap,kn.normalmap,kn.displacementmap,kn.gradientmap,kn.fog,kn.lights,{emissive:{value:new En(0)},specular:{value:new En(1118481)},shininess:{value:30}}]),vertexShader:Mn.meshphong_vert,fragmentShader:Mn.meshphong_frag},standard:{uniforms:bn([kn.common,kn.envmap,kn.aomap,kn.lightmap,kn.emissivemap,kn.bumpmap,kn.normalmap,kn.displacementmap,kn.roughnessmap,kn.metalnessmap,kn.fog,kn.lights,{emissive:{value:new En(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},matcap:{uniforms:bn([kn.common,kn.bumpmap,kn.normalmap,kn.displacementmap,kn.fog,{matcap:{value:null}}]),vertexShader:Mn.meshmatcap_vert,fragmentShader:Mn.meshmatcap_frag},points:{uniforms:bn([kn.points,kn.fog]),vertexShader:Mn.points_vert,fragmentShader:Mn.points_frag},dashed:{uniforms:bn([kn.common,kn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mn.linedashed_vert,fragmentShader:Mn.linedashed_frag},depth:{uniforms:bn([kn.common,kn.displacementmap]),vertexShader:Mn.depth_vert,fragmentShader:Mn.depth_frag},normal:{uniforms:bn([kn.common,kn.bumpmap,kn.normalmap,kn.displacementmap,{opacity:{value:1}}]),vertexShader:Mn.normal_vert,fragmentShader:Mn.normal_frag},sprite:{uniforms:bn([kn.sprite,kn.fog]),vertexShader:Mn.sprite_vert,fragmentShader:Mn.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null}},vertexShader:Mn.background_vert,fragmentShader:Mn.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mn.cube_vert,fragmentShader:Mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mn.equirect_vert,fragmentShader:Mn.equirect_frag},distanceRGBA:{uniforms:bn([kn.common,kn.displacementmap,{referencePosition:{value:new tn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mn.distanceRGBA_vert,fragmentShader:Mn.distanceRGBA_frag},shadow:{uniforms:bn([kn.lights,kn.fog,{color:{value:new En(0)},opacity:{value:1}}]),vertexShader:Mn.shadow_vert,fragmentShader:Mn.shadow_frag}};function Pn(){var e=null,t=!1,n=null;function r(i,a){!1!==t&&(n(i,a),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Cn(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(function(t,n,r){var i=n.array,a=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===a.count?e.bufferSubData(r,0,i):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function Rn(e,t,n,r,i,a){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new tn,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new En,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}function Yn(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||Yn.DefaultOrder}function On(){this.mask=1}An.physical={uniforms:bn([An.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},Object.assign(Rn.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),Yn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Yn.DefaultOrder="XYZ",Object.defineProperties(Yn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(Yn.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Kt.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],h=i[9],c=i[2],d=i[6],m=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-c,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-c,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===t?(this._y=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u))):"YZX"===t?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,m))):"XZY"===t?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,m),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new $t;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(Dn=new en,function(e){return Dn.setFromEuler(this),this.setFromQuaternion(Dn,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new tn(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(On.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var In,Fn,Hn,Nn,jn=0;function zn(){Object.defineProperty(this,"id",{value:jn++}),this.uuid=Kt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zn.DefaultUp.clone();var e=new tn,t=new Yn,n=new en,r=new tn(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new $t},normalMatrix:{value:new nn}}),this.matrix=new $t,this.matrixWorld=new $t,this.matrixAutoUpdate=zn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new On,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}zn.DefaultUp=new tn(0,1,0),zn.DefaultMatrixAutoUpdate=!0,zn.prototype=Object.assign(Object.create(r.prototype),{constructor:zn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(Nn=new en,function(e,t){return Nn.setFromAxisAngle(e,t),this.quaternion.multiply(Nn),this}),rotateOnWorldAxis:function(){var e=new en;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new tn(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new tn(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new tn(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new tn;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new tn(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new tn(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new tn(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(Hn=new $t,function(e){return e.applyMatrix4(Hn.getInverse(this.matrixWorld))}),lookAt:function(){var e=new en,t=new $t,n=new tn,r=new tn;return function(i,a,o){i.isVector3?n.copy(i):n.set(i,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new tn),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(In=new tn,Fn=new tn,function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new en),this.updateMatrixWorld(!0),this.matrixWorld.decompose(In,e,Fn),e}),getWorldScale:function(){var e=new tn,t=new en;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new tn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new tn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(s=0,l=this.material.length;s<l;s++)h.push(i(e.materials,this.material[s]));r.material=h}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var c=p(e.geometries),d=p(e.materials),m=p(e.textures),f=p(e.images);o=p(e.shapes);c.length>0&&(n.geometries=c),d.length>0&&(n.materials=d),m.length>0&&(n.textures=m),f.length>0&&(n.images=f),o.length>0&&(n.shapes=o)}return n.object=r,n;function p(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var Bn,Un,Gn=0;function Wn(){Object.defineProperty(this,"id",{value:Gn+=2}),this.uuid=Kt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Vn(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Jn(e,t,n){Vn.call(this,new Int8Array(e),t,n)}function Xn(e,t,n){Vn.call(this,new Uint8Array(e),t,n)}function Zn(e,t,n){Vn.call(this,new Uint8ClampedArray(e),t,n)}function Kn(e,t,n){Vn.call(this,new Int16Array(e),t,n)}function Qn(e,t,n){Vn.call(this,new Uint16Array(e),t,n)}function $n(e,t,n){Vn.call(this,new Int32Array(e),t,n)}function er(e,t,n){Vn.call(this,new Uint32Array(e),t,n)}function tr(e,t,n){Vn.call(this,new Float32Array(e),t,n)}function nr(e,t,n){Vn.call(this,new Float64Array(e),t,n)}function rr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ir(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Wn.prototype=Object.assign(Object.create(r.prototype),{constructor:Wn,isGeometry:!0,applyMatrix:function(e){for(var t=(new nn).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new $t;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new $t;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new $t;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new $t;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new $t;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:(Un=new zn,function(e){Un.lookAt(e),Un.updateMatrix(),this.applyMatrix(Un.matrix)}),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,l=void 0!==r.uv2?r.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=0,h=0;u<i.length;u+=3,h+=2)t.vertices.push((new tn).fromArray(i,u)),void 0!==o&&t.colors.push((new En).fromArray(o,u));function c(e,n,r,i){var u=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],h=new Rn(e,n,r,void 0===a?[]:[(new tn).fromArray(a,3*e),(new tn).fromArray(a,3*n),(new tn).fromArray(a,3*r)],u,i);t.faces.push(h),void 0!==s&&t.faceVertexUvs[0].push([(new Qt).fromArray(s,2*e),(new Qt).fromArray(s,2*n),(new Qt).fromArray(s,2*r)]),void 0!==l&&t.faceVertexUvs[1].push([(new Qt).fromArray(l,2*e),(new Qt).fromArray(l,2*n),(new Qt).fromArray(l,2*r)])}var d=e.groups;if(d.length>0)for(u=0;u<d.length;u++)for(var m=d[u],f=m.start,p=(h=f,f+m.count);h<p;h+=3)void 0!==n?c(n[h],n[h+1],n[h+2],m.materialIndex):c(h,h+1,h+2,m.materialIndex);else if(void 0!==n)for(u=0;u<n.length;u+=3)c(n[u],n[u+1],n[u+2]);else for(u=0;u<i.length/3;u+=3)c(u,u+1,u+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:(Bn=new tn,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bn).negate(),this.translate(Bn.x,Bn.y,Bn.z),this}),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new $t;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new tn,t=new tn,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new tn;if(e){var s,l,u,h=new tn,c=new tn;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c],h.subVectors(u,l),c.subVectors(s,l),h.cross(c),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var d=(a=this.faces[r]).vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var a=new Wn;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)l=new tn,u={a:new tn,b:new tn,c:new tn},o.push(l),s.push(u)}var l,u,h=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],l=h.faceNormals[n],u=h.vertexNormals[n],l.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new vn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new gn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0],c=this.colors,d=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new nn).getNormalMatrix(t));for(var m=0,f=o.length;m<f;m++){var p=o[m].clone();void 0!==t&&p.applyMatrix4(t),a.push(p)}for(m=0,f=d.length;m<f;m++)c.push(d[m].clone());for(m=0,f=l.length;m<f;m++){var v,g,_,y=l[m],M=y.vertexNormals,x=y.vertexColors;(v=new Rn(y.a+i,y.b+i,y.c+i)).normal.copy(y.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var b=0,w=M.length;b<w;b++)g=M[b].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);v.color.copy(y.color);for(b=0,w=x.length;b<w;b++)_=x[b],v.vertexColors.push(_.clone());v.materialIndex=y.materialIndex+n,s.push(v)}for(m=0,f=h.length;m<f;m++){var L=h[m],q=[];if(void 0!==L){for(b=0,w=L.length;b<w;b++)q.push(L[b].clone());u.push(q)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,a,o,s,l={},u=[],h=[],c=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===l[t=Math.round(e.x*c)+"_"+Math.round(e.y*c)+"_"+Math.round(e.z*c)]?(l[t]=n,u.push(this.vertices[n]),h[n]=u.length-1):h[n]=h[l[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=h[i.a],i.b=h[i.b],i.c=h[i.c],a=[i.a,i.b,i.c];for(var m=0;m<3;m++)if(a[m]===a[(m+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var f=d[n];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var p=this.vertices.length-u.length;return this.vertices=u,p},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new tn(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var o=[],s=[],l={},u=[],h={},c=[],d={};for(i=0;i<this.faces.length;i++){var m=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],p=m.normal.length()>0,v=m.vertexNormals.length>0,g=1!==m.color.r||1!==m.color.g||1!==m.color.b,_=m.vertexColors.length>0,y=0;if(y=w(y,0,0),y=w(y,1,!0),y=w(y,2,!1),y=w(y,3,f),y=w(y,4,p),y=w(y,5,v),y=w(y,6,g),y=w(y,7,_),o.push(y),o.push(m.a,m.b,m.c),o.push(m.materialIndex),f){var M=this.faceVertexUvs[0][i];o.push(S(M[0]),S(M[1]),S(M[2]))}if(p&&o.push(L(m.normal)),v){var x=m.vertexNormals;o.push(L(x[0]),L(x[1]),L(x[2]))}if(g&&o.push(q(m.color)),_){var b=m.vertexColors;o.push(q(b[0]),q(b[1]),q(b[2]))}}function w(e,t,n){return n?e|1<<t:e&~(1<<t)}function L(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]?l[t]:(l[t]=s.length/3,s.push(e.x,e.y,e.z),l[t])}function q(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]?h[t]:(h[t]=u.length,u.push(e.getHex()),h[t])}function S(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]?d[t]:(d[t]=c.length/2,c.push(e.x,e.y),d[t])}return e.data={},e.data.vertices=r,e.data.normals=s,u.length>0&&(e.data.colors=u),c.length>0&&(e.data.uvs=[c]),e.data.faces=o,e},clone:function(){return(new Wn).copy(this)},copy:function(e){var t,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var u=e.faces;for(t=0,n=u.length;t<n;t++)this.faces.push(u[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var h=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=h.length;r<i;r++){var c=h[r],d=[];for(a=0,o=c.length;a<o;a++){var m=c[a];d.push(m.clone())}this.faceVertexUvs[t].push(d)}}var f=e.morphTargets;for(t=0,n=f.length;t<n;t++){var p={};if(p.name=f[t].name,void 0!==f[t].vertices)for(p.vertices=[],r=0,i=f[t].vertices.length;r<i;r++)p.vertices.push(f[t].vertices[r].clone());if(void 0!==f[t].normals)for(p.normals=[],r=0,i=f[t].normals.length;r<i;r++)p.normals.push(f[t].normals[r].clone());this.morphTargets.push(p)}var v=e.morphNormals;for(t=0,n=v.length;t<n;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],r=0,i=v[t].vertexNormals.length;r<i;r++){var _=v[t].vertexNormals[r],y={};y.a=_.a.clone(),y.b=_.b.clone(),y.c=_.c.clone(),g.vertexNormals.push(y)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],r=0,i=v[t].faceNormals.length;r<i;r++)g.faceNormals.push(v[t].faceNormals[r].clone());this.morphNormals.push(g)}var M=e.skinWeights;for(t=0,n=M.length;t<n;t++)this.skinWeights.push(M[t].clone());var x=e.skinIndices;for(t=0,n=x.length;t<n;t++)this.skinIndices.push(x[t].clone());var b=e.lineDistances;for(t=0,n=b.length;t<n;t++)this.lineDistances.push(b[t]);var w=e.boundingBox;null!==w&&(this.boundingBox=w.clone());var L=e.boundingSphere;return null!==L&&(this.boundingSphere=L.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Vn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Vn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new En),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new Qt),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new tn),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new dn),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),Jn.prototype=Object.create(Vn.prototype),Jn.prototype.constructor=Jn,Xn.prototype=Object.create(Vn.prototype),Xn.prototype.constructor=Xn,Zn.prototype=Object.create(Vn.prototype),Zn.prototype.constructor=Zn,Kn.prototype=Object.create(Vn.prototype),Kn.prototype.constructor=Kn,Qn.prototype=Object.create(Vn.prototype),Qn.prototype.constructor=Qn,$n.prototype=Object.create(Vn.prototype),$n.prototype.constructor=$n,er.prototype=Object.create(Vn.prototype),er.prototype.constructor=er,tr.prototype=Object.create(Vn.prototype),tr.prototype.constructor=tr,nr.prototype=Object.create(Vn.prototype),nr.prototype.constructor=nr,Object.assign(rr.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:r})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var u=0;u<l;u++)t[u]={name:s[u].name,data:[]};this.morphTargets.position=t}var h,c=e.morphNormals,d=c.length;if(d>0){h=[];for(u=0;u<d;u++)h[u]={name:c[u].name,data:[]};this.morphTargets.normal=h}var m=e.skinIndices,f=e.skinWeights,p=m.length===r.length,v=f.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(u=0;u<n.length;u++){var g=n[u];this.vertices.push(r[g.a],r[g.b],r[g.c]);var _=g.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var y=g.normal;this.normals.push(y,y,y)}var M,x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var b=g.color;this.colors.push(b,b,b)}if(!0===a)void 0!==(M=i[0][u])?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new Qt,new Qt,new Qt));if(!0===o)void 0!==(M=i[1][u])?this.uvs2.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new Qt,new Qt,new Qt));for(var w=0;w<l;w++){var L=s[w].vertices;t[w].data.push(L[g.a],L[g.b],L[g.c])}for(w=0;w<d;w++){var q=c[w].vertexNormals[u];h[w].data.push(q.a,q.b,q.c)}p&&this.skinIndices.push(m[g.a],m[g.b],m[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var ar=1;function or(){Object.defineProperty(this,"id",{value:ar+=2}),this.uuid=Kt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function sr(e,t,n,r,i,a){Wn.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new lr(e,t,n,r,i,a)),this.mergeVertices()}function lr(e,t,n,r,i,a){or.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var o=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;var s=[],l=[],u=[],h=[],c=0,d=0;function m(e,t,n,r,i,a,m,f,p,v,g){var _,y,M=a/p,x=m/v,b=a/2,w=m/2,L=f/2,q=p+1,S=v+1,T=0,E=0,D=new tn;for(y=0;y<S;y++){var k=y*x-w;for(_=0;_<q;_++){var A=_*M-b;D[e]=A*r,D[t]=k*i,D[n]=L,l.push(D.x,D.y,D.z),D[e]=0,D[t]=0,D[n]=f>0?1:-1,u.push(D.x,D.y,D.z),h.push(_/p),h.push(1-y/v),T+=1}}for(y=0;y<v;y++)for(_=0;_<p;_++){var P=c+_+q*y,C=c+_+q*(y+1),R=c+(_+1)+q*(y+1),Y=c+(_+1)+q*y;s.push(P,C,Y),s.push(C,R,Y),E+=6}o.addGroup(d,E,g),d+=E,c+=T}m("z","y","x",-1,-1,n,t,e,a,i,0),m("z","y","x",1,-1,n,t,-e,a,i,1),m("x","z","y",1,1,e,n,t,r,a,2),m("x","z","y",1,-1,e,n,-t,r,a,3),m("x","y","z",1,-1,e,t,n,r,i,4),m("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new tr(l,3)),this.addAttribute("normal",new tr(u,3)),this.addAttribute("uv",new tr(h,2))}function ur(e,t,n,r){Wn.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new hr(e,t,n,r)),this.mergeVertices()}function hr(e,t,n,r){or.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,a,o=(e=e||1)/2,s=(t=t||1)/2,l=Math.floor(n)||1,u=Math.floor(r)||1,h=l+1,c=u+1,d=e/l,m=t/u,f=[],p=[],v=[],g=[];for(a=0;a<c;a++){var _=a*m-s;for(i=0;i<h;i++){var y=i*d-o;p.push(y,-_,0),v.push(0,0,1),g.push(i/l),g.push(1-a/u)}}for(a=0;a<u;a++)for(i=0;i<l;i++){var M=i+h*a,x=i+h*(a+1),b=i+1+h*(a+1),w=i+1+h*a;f.push(M,x,w),f.push(x,b,w)}this.setIndex(f),this.addAttribute("position",new tr(p,3)),this.addAttribute("normal",new tr(v,3)),this.addAttribute("uv",new tr(g,2))}or.prototype=Object.assign(Object.create(r.prototype),{constructor:or,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(ir(e)>65535?er:Qn)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new Vn(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new nn).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new $t;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new $t;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new $t;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new $t;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new $t;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new zn;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new tn;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new tr(3*t.vertices.length,3),r=new tr(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new tr(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new tr(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new rr).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Vn(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Vn(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new Vn(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Vn(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Vn(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[o],u=0,h=l.length;u<h;u++){var c=l[u],d=new tr(3*c.data.length,3);d.name=c.name,s.push(d.copyVector3sArray(c.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var m=new tr(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new tr(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new vn);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new vn,t=new tn;return function(){null===this.boundingSphere&&(this.boundingSphere=new gn);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,a=0,o=n.count;a<o;a++)t.x=n.getX(a),t.y=n.getY(a),t.z=n.getZ(a),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Vn(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var o,s,l,u=t.normal.array,h=new tn,c=new tn,d=new tn,m=new tn,f=new tn;if(e){var p=e.array;for(i=0,a=e.count;i<a;i+=3)o=3*p[i+0],s=3*p[i+1],l=3*p[i+2],h.fromArray(n,o),c.fromArray(n,s),d.fromArray(n,l),m.subVectors(d,c),f.subVectors(h,c),m.cross(f),u[o]+=m.x,u[o+1]+=m.y,u[o+2]+=m.z,u[s]+=m.x,u[s+1]+=m.y,u[s+2]+=m.z,u[l]+=m.x,u[l+1]+=m.y,u[l+2]+=m.z}else for(i=0,a=n.length;i<a;i+=9)h.fromArray(n,i),c.fromArray(n,i+3),d.fromArray(n,i+6),m.subVectors(d,c),f.subVectors(h,c),m.cross(f),u[i]=m.x,u[i+1]=m.y,u[i+2]=m.z,u[i+3]=m.x,u[i+4]=m.y,u[i+5]=m.z,u[i+6]=m.x,u[i+7]=m.y,u[i+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=0,l=a.itemSize*t;s<o.length;s++,l++)i[l]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new tn;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new or,t=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],a=i.array,o=i.itemSize,s=new a.constructor(t.length*o),l=0,u=0,h=0,c=t.length;h<c;h++){l=t[h]*o;for(var d=0;d<o;d++)s[u++]=a[l++]}e.addAttribute(r,new Vn(s,o))}var m=this.groups;for(h=0,c=m.length;h<c;h++){var f=m[h];e.addGroup(f.start,f.count,f.materialIndex)}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var a=this.attributes;for(var n in a){var o=a[n];i=Array.prototype.slice.call(o.array);e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:i,normalized:o.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new or).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var l=[],u=s[t];for(n=0,r=u.length;n<r;n++)l.push(u[n].clone());this.morphAttributes[t]=l}var h=e.groups;for(n=0,r=h.length;n<r;n++){var c=h[n];this.addGroup(c.start,c.count,c.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var m=e.boundingSphere;return null!==m&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),sr.prototype=Object.create(Wn.prototype),sr.prototype.constructor=sr,lr.prototype=Object.create(or.prototype),lr.prototype.constructor=lr,ur.prototype=Object.create(Wn.prototype),ur.prototype.constructor=ur,hr.prototype=Object.create(or.prototype),hr.prototype.constructor=hr;var cr,dr,mr,fr,pr,vr,gr,_r,yr,Mr,xr,br,wr=0;function Lr(){Object.defineProperty(this,"id",{value:wr++}),this.uuid=Kt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=O,this.side=T,this.flatShading=!1,this.vertexColors=P,this.opacity=1,this.transparent=!1,this.blendSrc=Z,this.blendDst=K,this.blendEquation=j,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=oe,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function qr(e){Lr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Sr(e,t){this.origin=void 0!==e?e:new tn,this.direction=void 0!==t?t:new tn}function Tr(e,t,n){this.a=void 0!==e?e:new tn,this.b=void 0!==t?t:new tn,this.c=void 0!==n?n:new tn}function Er(e){Lr.call(this),this.type="MeshBasicMaterial",this.color=new En(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ce,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Dr(e,t){zn.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new or,this.material=void 0!==t?t:new Er({color:16777215*Math.random()}),this.drawMode=Ot,this.updateMorphTargets()}function kr(e,t,n,r){var i,a,o=new En(0),s=0,l=null,u=0;function h(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),h(o,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){h(o,s=e)},render:function(t,r,c,d){var m=r.background;if(null===m?(h(o,s),l=null,u=0):m&&m.isColor&&(h(m,1),d=!0,l=null,u=0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLRenderTargetCube)){void 0===a&&((a=new Dr(new lr(1,1,1),new qr({type:"BackgroundCubeMaterial",uniforms:xn(An.cube.uniforms),vertexShader:An.cube.vertexShader,fragmentShader:An.cube.fragmentShader,side:E,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var f=m.isWebGLRenderTargetCube?m.texture:m;a.material.uniforms.tCube.value=f,a.material.uniforms.tFlip.value=m.isWebGLRenderTargetCube?1:-1,l===m&&u===f.version||(a.material.needsUpdate=!0,l=m,u=f.version),t.unshift(a,a.geometry,a.material,0,null)}else m&&m.isTexture&&(void 0===i&&((i=new Dr(new hr(2,2),new qr({type:"BackgroundMaterial",uniforms:xn(An.background.uniforms),vertexShader:An.background.vertexShader,fragmentShader:An.background.fragmentShader,side:T,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),i.material.uniforms.uvTransform.value.copy(m.matrix),l===m&&u===m.version||(i.material.needsUpdate=!0,l=m,u=m.version),t.unshift(i,i.geometry,i.material,0,null))}}}function Ar(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(a,o,s){var l;if(r.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,o,s,a.maxInstancedCount),n.update(s,i,a.maxInstancedCount)}}function Pr(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),h=e.getParameter(35660),c=e.getParameter(3379),d=e.getParameter(34076),m=e.getParameter(34921),f=e.getParameter(36347),p=e.getParameter(36348),v=e.getParameter(36349),g=h>0,_=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:h,maxTextureSize:c,maxCubemapSize:d,maxAttributes:m,maxVertexUniforms:f,maxVaryings:p,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:_,floatVertexTextures:g&&_}}function Cr(){var e=this,t=null,n=0,r=!1,i=!1,a=new _n,o=new nn,s={value:null,needsUpdate:!1};function l(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(t,n,r,i){var l=null!==t?t.length:0,u=null;if(0!==l){if(u=s.value,!0!==i||null===u){var h=r+4*l,c=n.matrixWorldInverse;o.getNormalMatrix(c),(null===u||u.length<h)&&(u=new Float32Array(h));for(var d=0,m=r;d!==l;++d,m+=4)a.copy(t[d]).applyMatrix4(c,o),a.normal.toArray(u,m),u[m+3]=a.constant}s.value=u,s.needsUpdate=!0}return e.numPlanes=l,u}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,a){var o=0!==e.length||i||0!==n||r;return r=i,t=u(e,a,0),n=e.length,o},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1,l()},this.setState=function(e,a,o,h,c,d){if(!r||null===e||0===e.length||i&&!o)i?u(null):l();else{var m=i?0:n,f=4*m,p=c.clippingState||null;s.value=p,p=u(e,h,f,d);for(var v=0;v!==f;++v)p[v]=t[v];c.clippingState=p,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=m}}}function Rr(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function Yr(e,t,n){var r={},i={};function a(e){var o=e.target,s=r[o.id];for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);o.removeEventListener("dispose",a),delete r[o.id];var u=i[s.id];u&&(t.remove(u),delete i[s.id]),n.memory.geometries--}return{get:function(e,t){var i=r[t.id];return i||(t.addEventListener("dispose",a),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new or).setFromObject(e)),i=t._bufferGeometry),r[t.id]=i,n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var n=i[e.id];if(n)return n;var r,a=[],o=e.index,s=e.attributes;if(null!==o)for(var l=0,u=(r=o.array).length;l<u;l+=3){var h=r[l+0],c=r[l+1],d=r[l+2];a.push(h,c,c,d,d,h)}else for(l=0,u=(r=s.position.array).length/3-1;l<u;l+=3)h=l+0,c=l+1,d=l+2,a.push(h,c,c,d,d,h);return n=new(ir(a)>65535?er:Qn)(a,1),t.update(n,34963),i[e.id]=n,n}}}function Or(e,t,n,r){var i,a,o;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i)},this.renderInstances=function(s,l,u){var h;if(r.isWebGL2)h=e;else if(null===(h=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,u,a,l*o,s.maxInstancedCount),n.update(u,i,s.maxInstancedCount)}}function Ir(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Fr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Hr(e){var t={},n=new Float32Array(8);return{update:function(r,i,a,o){var s=r.morphTargetInfluences,l=s.length,u=t[i.id];if(void 0===u){u=[];for(var h=0;h<l;h++)u[h]=[h,0];t[i.id]=u}var c=a.morphTargets&&i.morphAttributes.position,d=a.morphNormals&&i.morphAttributes.normal;for(h=0;h<l;h++)0!==(m=u[h])[1]&&(c&&i.removeAttribute("morphTarget"+h),d&&i.removeAttribute("morphNormal"+h));for(h=0;h<l;h++)(m=u[h])[0]=h,m[1]=s[h];for(u.sort(Fr),h=0;h<8;h++){var m;if(m=u[h]){var f=m[0],p=m[1];if(p){c&&i.addAttribute("morphTarget"+h,c[f]),d&&i.addAttribute("morphNormal"+h,d[f]),n[h]=p;continue}}n[h]=0}o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Nr(e,t){var n={};return{update:function(r){var i=t.render.frame,a=r.geometry,o=e.get(r,a);return n[o.id]!==i&&(a.isGeometry&&o.updateFromObject(r),e.update(o),n[o.id]=i),o},dispose:function(){n={}}}}function jr(e,t,n,r,i,a,o,s,l,u){e=void 0!==e?e:[],t=void 0!==t?t:xe,cn.call(this,e,t,n,r,i,a,o,s,l,u),this.flipY=!1}function zr(e,t,n,r){cn.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ae,this.minFilter=Ae,this.generateMipmaps=!1,this.flipY=!1}Lr.prototype=Object.assign(Object.create(r.prototype),{constructor:Lr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===k;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==O&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==T&&(n.side=this.side),this.vertexColors!==P&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),qr.prototype=Object.create(Lr.prototype),qr.prototype.constructor=qr,qr.prototype.isShaderMaterial=!0,qr.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xn(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},qr.prototype.toJSON=function(e){var t=Lr.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}return Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(Sr.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new tn),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new tn;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new tn),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new tn;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:(dr=new tn,mr=new tn,fr=new tn,function(e,t,n,r){dr.copy(e).add(t).multiplyScalar(.5),mr.copy(t).sub(e).normalize(),fr.copy(this.origin).sub(dr);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(mr),h=fr.dot(this.direction),c=-fr.dot(mr),d=fr.lengthSq(),m=Math.abs(1-u*u);if(m>0)if(a=u*h-c,s=l*m,(i=u*c-h)>=0)if(a>=-s)if(a<=s){var f=1/m;o=(i*=f)*(i+u*(a*=f)+2*h)+a*(u*i+a+2*c)+d}else a=l,o=-(i=Math.max(0,-(u*a+h)))*i+a*(a+2*c)+d;else a=-l,o=-(i=Math.max(0,-(u*a+h)))*i+a*(a+2*c)+d;else a<=-s?o=-(i=Math.max(0,-(-u*l+h)))*i+(a=i>0?-l:Math.min(Math.max(-l,-c),l))*(a+2*c)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-c),l))*(a+2*c)+d):o=-(i=Math.max(0,-(u*l+h)))*i+(a=i>0?l:Math.min(Math.max(-l,-c),l))*(a+2*c)+d;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+h)))*i+a*(a+2*c)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(mr).multiplyScalar(a).add(dr),o}),intersectSphere:function(){var e=new tn;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,a=t.radius*t.radius;if(i>a)return null;var o=Math.sqrt(a-i),s=r-o,l=r+o;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,c=this.origin;return l>=0?(n=(e.min.x-c.x)*l,r=(e.max.x-c.x)*l):(n=(e.max.x-c.x)*l,r=(e.min.x-c.x)*l),u>=0?(i=(e.min.y-c.y)*u,a=(e.max.y-c.y)*u):(i=(e.max.y-c.y)*u,a=(e.min.y-c.y)*u),n>a||i>r?null:((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),h>=0?(o=(e.min.z-c.z)*h,s=(e.max.z-c.z)*h):(o=(e.max.z-c.z)*h,s=(e.min.z-c.z)*h),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:(cr=new tn,function(e){return null!==this.intersectBox(e,cr)}),intersectTriangle:function(){var e=new tn,t=new tn,n=new tn,r=new tn;return function(i,a,o,s,l){t.subVectors(a,i),n.subVectors(o,i),r.crossVectors(t,n);var u,h=this.direction.dot(r);if(h>0){if(s)return null;u=1}else{if(!(h<0))return null;u=-1,h=-h}e.subVectors(this.origin,i);var c=u*this.direction.dot(n.crossVectors(e,n));if(c<0)return null;var d=u*this.direction.dot(t.cross(e));if(d<0)return null;if(c+d>h)return null;var m=-u*e.dot(r);return m<0?null:this.at(m/h,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Tr,{getNormal:(vr=new tn,function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new tn),r.subVectors(n,t),vr.subVectors(e,t),r.cross(vr);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}),getBarycoord:function(){var e=new tn,t=new tn,n=new tn;return function(r,i,a,o,s){e.subVectors(o,i),t.subVectors(a,i),n.subVectors(r,i);var l=e.dot(e),u=e.dot(t),h=e.dot(n),c=t.dot(t),d=t.dot(n),m=l*c-u*u;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new tn),0===m)return s.set(-2,-1,-1);var f=1/m,p=(c*h-u*d)*f,v=(l*d-u*h)*f;return s.set(1-p-v,v,p)}}(),containsPoint:function(){var e=new tn;return function(t,n,r,i){return Tr.getBarycoord(t,n,r,i,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:(pr=new tn,function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,pr),s.set(0,0),s.addScaledVector(i,pr.x),s.addScaledVector(a,pr.y),s.addScaledVector(o,pr.z),s})}),Object.assign(Tr.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new tn,t=new tn;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new tn),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Tr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new tn),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Tr.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Tr.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return Tr.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(gr=new tn,_r=new tn,yr=new tn,Mr=new tn,xr=new tn,br=new tn,function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new tn);var n,r,i=this.a,a=this.b,o=this.c;gr.subVectors(a,i),_r.subVectors(o,i),Mr.subVectors(e,i);var s=gr.dot(Mr),l=_r.dot(Mr);if(s<=0&&l<=0)return t.copy(i);xr.subVectors(e,a);var u=gr.dot(xr),h=_r.dot(xr);if(u>=0&&h<=u)return t.copy(a);var c=s*h-u*l;if(c<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(gr,n);br.subVectors(e,o);var d=gr.dot(br),m=_r.dot(br);if(m>=0&&d<=m)return t.copy(o);var f=d*l-s*m;if(f<=0&&l>=0&&m<=0)return r=l/(l-m),t.copy(i).addScaledVector(_r,r);var p=u*m-d*h;if(p<=0&&h-u>=0&&d-m>=0)return yr.subVectors(o,a),r=(h-u)/(h-u+(d-m)),t.copy(a).addScaledVector(yr,r);var v=1/(p+f+c);return n=f*v,r=c*v,t.copy(i).addScaledVector(gr,n).addScaledVector(_r,r)}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Er.prototype=Object.create(Lr.prototype),Er.prototype.constructor=Er,Er.prototype.isMeshBasicMaterial=!0,Er.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Dr.prototype=Object.assign(Object.create(zn.prototype),{constructor:Dr,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return zn.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)n=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){var e=new $t,t=new Sr,n=new gn,r=new tn,i=new tn,a=new tn,o=new tn,s=new tn,l=new tn,u=new Qt,h=new Qt,c=new Qt,d=new tn,m=new tn;function f(e,t,n,r,i,a,o,s){if(null===(t.side===E?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==D,s)))return null;m.copy(s),m.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(m);return l<n.near||l>n.far?null:{distance:l,point:m.clone(),object:e}}function p(e,t,n,o,s,l,m,p,v){r.fromBufferAttribute(s,m),i.fromBufferAttribute(s,p),a.fromBufferAttribute(s,v);var g=f(e,t,n,o,r,i,a,d);if(g){l&&(u.fromBufferAttribute(l,m),h.fromBufferAttribute(l,p),c.fromBufferAttribute(l,v),g.uv=Tr.getUV(d,r,i,a,u,h,c,new Qt));var _=new Rn(m,p,v);Tr.getNormal(r,i,a,_.normal),g.face=_}return g}return function(m,v){var g,_=this.geometry,y=this.material,M=this.matrixWorld;if(void 0!==y&&(null===_.boundingSphere&&_.computeBoundingSphere(),n.copy(_.boundingSphere),n.applyMatrix4(M),!1!==m.ray.intersectsSphere(n)&&(e.getInverse(M),t.copy(m.ray).applyMatrix4(e),null===_.boundingBox||!1!==t.intersectsBox(_.boundingBox))))if(_.isBufferGeometry){var x,b,w,L,q,S,T,E,D,k=_.index,A=_.attributes.position,P=_.attributes.uv,C=_.groups,R=_.drawRange;if(null!==k)if(Array.isArray(y))for(L=0,S=C.length;L<S;L++)for(D=y[(E=C[L]).materialIndex],q=Math.max(E.start,R.start),T=Math.min(E.start+E.count,R.start+R.count);q<T;q+=3)x=k.getX(q),b=k.getX(q+1),w=k.getX(q+2),(g=p(this,D,m,t,A,P,x,b,w))&&(g.faceIndex=Math.floor(q/3),v.push(g));else for(L=Math.max(0,R.start),S=Math.min(k.count,R.start+R.count);L<S;L+=3)x=k.getX(L),b=k.getX(L+1),w=k.getX(L+2),(g=p(this,y,m,t,A,P,x,b,w))&&(g.faceIndex=Math.floor(L/3),v.push(g));else if(void 0!==A)if(Array.isArray(y))for(L=0,S=C.length;L<S;L++)for(D=y[(E=C[L]).materialIndex],q=Math.max(E.start,R.start),T=Math.min(E.start+E.count,R.start+R.count);q<T;q+=3)(g=p(this,D,m,t,A,P,x=q,b=q+1,w=q+2))&&(g.faceIndex=Math.floor(q/3),v.push(g));else for(L=Math.max(0,R.start),S=Math.min(A.count,R.start+R.count);L<S;L+=3)(g=p(this,y,m,t,A,P,x=L,b=L+1,w=L+2))&&(g.faceIndex=Math.floor(L/3),v.push(g))}else if(_.isGeometry){var Y,O,I,F,H=Array.isArray(y),N=_.vertices,j=_.faces,z=_.faceVertexUvs[0];z.length>0&&(F=z);for(var B=0,U=j.length;B<U;B++){var G=j[B],W=H?y[G.materialIndex]:y;if(void 0!==W){if(Y=N[G.a],O=N[G.b],I=N[G.c],!0===W.morphTargets){var V=_.morphTargets,J=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),a.set(0,0,0);for(var X=0,Z=V.length;X<Z;X++){var K=J[X];if(0!==K){var Q=V[X].vertices;r.addScaledVector(o.subVectors(Q[G.a],Y),K),i.addScaledVector(s.subVectors(Q[G.b],O),K),a.addScaledVector(l.subVectors(Q[G.c],I),K)}}r.add(Y),i.add(O),a.add(I),Y=r,O=i,I=a}if(g=f(this,W,m,t,Y,O,I,d)){if(F&&F[B]){var $=F[B];u.copy($[0]),h.copy($[1]),c.copy($[2]),g.uv=Tr.getUV(d,Y,O,I,u,h,c,new Qt)}g.face=G,g.faceIndex=B,v.push(g)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),jr.prototype=Object.create(cn.prototype),jr.prototype.constructor=jr,jr.prototype.isCubeTexture=!0,Object.defineProperty(jr.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),zr.prototype=Object.create(cn.prototype),zr.prototype.constructor=zr,zr.prototype.isDataTexture3D=!0;var Br=new cn,Ur=new zr,Gr=new jr;function Wr(){this.seq=[],this.map={}}var Vr=[],Jr=[],Xr=new Float32Array(16),Zr=new Float32Array(9),Kr=new Float32Array(4);function Qr(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Vr[i];if(void 0===a&&(a=new Float32Array(i),Vr[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function $r(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ei(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function ti(e,t){var n=Jr[t];void 0===n&&(n=new Int32Array(t),Jr[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function ni(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ri(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ii(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if($r(n,t))return;e.uniform2fv(this.addr,t),ei(n,t)}}function ai(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if($r(n,t))return;e.uniform3fv(this.addr,t),ei(n,t)}}function oi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if($r(n,t))return;e.uniform4fv(this.addr,t),ei(n,t)}}function si(e,t){var n=this.cache,r=t.elements;if(void 0===r){if($r(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ei(n,t)}else{if($r(n,r))return;Kr.set(r),e.uniformMatrix2fv(this.addr,!1,Kr),ei(n,r)}}function li(e,t){var n=this.cache,r=t.elements;if(void 0===r){if($r(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ei(n,t)}else{if($r(n,r))return;Zr.set(r),e.uniformMatrix3fv(this.addr,!1,Zr),ei(n,r)}}function ui(e,t){var n=this.cache,r=t.elements;if(void 0===r){if($r(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ei(n,t)}else{if($r(n,r))return;Xr.set(r),e.uniformMatrix4fv(this.addr,!1,Xr),ei(n,r)}}function hi(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Br,i)}function ci(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Ur,i)}function di(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Gr,i)}function mi(e,t){var n=this.cache;$r(n,t)||(e.uniform2iv(this.addr,t),ei(n,t))}function fi(e,t){var n=this.cache;$r(n,t)||(e.uniform3iv(this.addr,t),ei(n,t))}function pi(e,t){var n=this.cache;$r(n,t)||(e.uniform4iv(this.addr,t),ei(n,t))}function vi(e,t){var n=this.cache;$r(n,t)||(e.uniform1fv(this.addr,t),ei(n,t))}function gi(e,t){var n=this.cache;$r(n,t)||(e.uniform1iv(this.addr,t),ei(n,t))}function _i(e,t){var n=this.cache,r=Qr(t,this.size,2);$r(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function yi(e,t){var n=this.cache,r=Qr(t,this.size,3);$r(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function Mi(e,t){var n=this.cache,r=Qr(t,this.size,4);$r(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function xi(e,t){var n=this.cache,r=Qr(t,this.size,4);$r(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function bi(e,t){var n=this.cache,r=Qr(t,this.size,9);$r(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function wi(e,t){var n=this.cache,r=Qr(t,this.size,16);$r(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function Li(e,t,n){var r=this.cache,i=t.length,a=ti(n,i);!1===$r(r,a)&&(e.uniform1iv(this.addr,a),ei(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||Br,a[o])}function qi(e,t,n){var r=this.cache,i=t.length,a=ti(n,i);!1===$r(r,a)&&(e.uniform1iv(this.addr,a),ei(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||Gr,a[o])}function Si(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ni;case 35664:return ii;case 35665:return ai;case 35666:return oi;case 35674:return si;case 35675:return li;case 35676:return ui;case 35678:case 36198:return hi;case 35679:return ci;case 35680:return di;case 5124:case 35670:return ri;case 35667:case 35671:return mi;case 35668:case 35672:return fi;case 35669:case 35673:return pi}}(t.type)}function Ti(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return vi;case 35664:return _i;case 35665:return yi;case 35666:return Mi;case 35674:return xi;case 35675:return bi;case 35676:return wi;case 35678:return Li;case 35680:return qi;case 5124:case 35670:return gi;case 35667:case 35671:return mi;case 35668:case 35672:return fi;case 35669:case 35673:return pi}}(t.type)}function Ei(e){this.id=e,Wr.call(this)}Ti.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),ei(t,e)},Ei.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var Di=/([\w\d_]+)(\])?(\[|\.)?/g;function ki(e,t){e.seq.push(t),e.map[t.id]=t}function Ai(e,t,n){var r=e.name,i=r.length;for(Di.lastIndex=0;;){var a=Di.exec(r),o=Di.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){ki(n,void 0===u?new Si(s,e,t):new Ti(s,e,t));break}var h=n.map[s];void 0===h&&ki(n,h=new Ei(s)),n=h}}function Pi(e,t,n){Wr.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,35718),i=0;i<r;++i){var a=e.getActiveUniform(t,i);Ai(a,e.getUniformLocation(t,a.name),this)}}function Ci(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}Pi.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},Pi.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Pi.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},Pi.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var Ri=0;function Yi(e){switch(e){case Ht:return["Linear","( value )"];case Nt:return["sRGB","( value )"];case zt:return["RGBE","( value )"];case Ut:return["RGBM","( value, 7.0 )"];case Gt:return["RGBM","( value, 16.0 )"];case Wt:return["RGBD","( value, 256.0 )"];case jt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Oi(e,t){var n=Yi(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ii(e,t){var n;switch(t){case pe:n="Linear";break;case ve:n="Reinhard";break;case ge:n="Uncharted2";break;case _e:n="OptimizedCineon";break;case ye:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Fi(e){return""!==e}function Hi(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Ni(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function ji(e){return e.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(e,t){var n=Mn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ji(n)})}function zi(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]");return i})}function Bi(e,t,n,r,i,a,o){var s=e.context,l=r.defines,u=i.vertexShader,h=i.fragmentShader,c="SHADOWMAP_TYPE_BASIC";a.shadowMapType===q?c="SHADOWMAP_TYPE_PCF":a.shadowMapType===S&&(c="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case xe:case be:d="ENVMAP_TYPE_CUBE";break;case Se:case Te:d="ENVMAP_TYPE_CUBE_UV";break;case we:case Le:d="ENVMAP_TYPE_EQUIREC";break;case qe:d="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case be:case Le:m="ENVMAP_MODE_REFRACTION"}switch(r.combine){case ce:f="ENVMAP_BLENDING_MULTIPLY";break;case de:f="ENVMAP_BLENDING_MIX";break;case me:f="ENVMAP_BLENDING_ADD"}}var p,v,g,_,y,M=e.gammaFactor>0?e.gammaFactor:1,x=o.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Fi).join("\n")}(r.extensions,a,t),b=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(l),w=s.createProgram();if(r.isRawShaderMaterial?((p=[b].filter(Fi).join("\n")).length>0&&(p+="\n"),(v=[x,b].filter(Fi).join("\n")).length>0&&(v+="\n")):(p=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,b,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+M,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+c:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Fi).join("\n"),v=[x,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,b,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+M,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+m:"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+c:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==fe?"#define TONE_MAPPING":"",a.toneMapping!==fe?Mn.tonemapping_pars_fragment:"",a.toneMapping!==fe?Ii("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Mn.encodings_pars_fragment:"",a.mapEncoding?Oi("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?Oi("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?Oi("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Oi("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(g="linearToOutputTexel",_=a.outputEncoding,y=Yi(_),"vec4 "+g+"( vec4 value ) { return LinearTo"+y[0]+y[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Fi).join("\n")),u=Ni(u=Hi(u=ji(u),a),a),h=Ni(h=Hi(h=ji(h),a),a),u=zi(u),h=zi(h),o.isWebGL2&&!r.isRawShaderMaterial){var L=!1,T=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==u.match(T)&&null!==h.match(T)&&(L=!0,u=u.replace(T,""),h=h.replace(T,"")),p=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+p,v=["#version 300 es\n","#define varying in",L?"":"out highp vec4 pc_fragColor;",L?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v}var E=v+h,D=Ci(s,35633,p+u),k=Ci(s,35632,E);s.attachShader(w,D),s.attachShader(w,k),void 0!==r.index0AttributeName?s.bindAttribLocation(w,0,r.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(w,0,"position"),s.linkProgram(w);var A,P,C=s.getProgramInfoLog(w).trim(),R=s.getShaderInfoLog(D).trim(),Y=s.getShaderInfoLog(k).trim(),O=!0,I=!0;return!1===s.getProgramParameter(w,35714)?(O=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(w,35715),"gl.getProgramInfoLog",C,R,Y)):""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==R&&""!==Y||(I=!1),I&&(this.diagnostics={runnable:O,material:r,programLog:C,vertexShader:{log:R,prefix:p},fragmentShader:{log:Y,prefix:v}}),s.deleteShader(D),s.deleteShader(k),this.getUniforms=function(){return void 0===A&&(A=new Pi(s,w,e)),A},this.getAttributes=function(){return void 0===P&&(P=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(s,w)),P},this.destroy=function(){s.deleteProgram(w),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Ri++,this.code=n,this.usedTimes=1,this.program=w,this.vertexShader=D,this.fragmentShader=k,this}function Ui(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function o(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=Ht,n===Ht&&t&&(n=jt),n}this.getParameters=function(t,r,a,s,l,u,h){var c=i[t.type],d=h.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),a=Math.min(i,t.length);return a<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+a+"."),0):a}(h):0,m=n.precision;null!==t.precision&&(m=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",m,"instead.");var f=e.getRenderTarget();return{shaderID:c,precision:m,supportsVertexTextures:n.vertexTextures,outputEncoding:o(f?f.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:o(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:o(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:o(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Se||t.envMap.mapping===Te),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:o(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Zt,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:u,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.receiveShadow&&a.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===D,flipSided:t.side===E,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(i,a,o,s){for(var l,u=0,h=r.length;u<h;u++){var c=r[u];if(c.code===s){++(l=c).usedTimes;break}}return void 0===l&&(l=new Bi(e,t,s,i,a,o,n),r.push(l)),l},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Gi(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Wi(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Vi(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ji(){var e=[],t=0,n=[],r=[];function i(n,r,i,a,o){var s=e[t];return void 0===s?(s={id:n.id,object:n,geometry:r,material:i,program:i.program,renderOrder:n.renderOrder,z:a,group:o},e[t]=s):(s.id=n.id,s.object=n,s.geometry=r,s.material=i,s.program=i.program,s.renderOrder=n.renderOrder,s.z=a,s.group=o),t++,s}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,a,o,s){var l=i(e,t,a,o,s);(!0===a.transparent?r:n).push(l)},unshift:function(e,t,a,o,s){var l=i(e,t,a,o,s);(!0===a.transparent?r:n).unshift(l)},sort:function(){n.length>1&&n.sort(Wi),r.length>1&&r.sort(Vi)}}}function Xi(){var e={};return{get:function(t,n){var r,i=e[t.id];return void 0===i?(r=new Ji,e[t.id]={},e[t.id][n.id]=r):void 0===(r=i[n.id])&&(r=new Ji,i[n.id]=r),r},dispose:function(){e={}}}}function Zi(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new tn,color:new En,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Qt};break;case"SpotLight":n={position:new tn,direction:new tn,color:new En,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Qt};break;case"PointLight":n={position:new tn,color:new En,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Qt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new tn,skyColor:new En,groundColor:new En};break;case"RectAreaLight":n={color:new En,position:new tn,halfWidth:new tn,halfHeight:new tn}}return e[t.id]=n,n}}}var Ki=0;function Qi(){var e=new Zi,t={id:Ki++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new tn,r=new $t,i=new $t;return{setup:function(a,o,s){for(var l=0,u=0,h=0,c=0,d=0,m=0,f=0,p=0,v=s.matrixWorldInverse,g=0,_=a.length;g<_;g++){var y=a[g],M=y.color,x=y.intensity,b=y.distance,w=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)l+=M.r*x,u+=M.g*x,h+=M.b*x;else if(y.isDirectionalLight){if((q=e.get(y)).color.copy(y.color).multiplyScalar(y.intensity),q.direction.setFromMatrixPosition(y.matrixWorld),n.setFromMatrixPosition(y.target.matrixWorld),q.direction.sub(n),q.direction.transformDirection(v),q.shadow=y.castShadow,y.castShadow){var L=y.shadow;q.shadowBias=L.bias,q.shadowRadius=L.radius,q.shadowMapSize=L.mapSize}t.directionalShadowMap[c]=w,t.directionalShadowMatrix[c]=y.shadow.matrix,t.directional[c]=q,c++}else if(y.isSpotLight)(q=e.get(y)).position.setFromMatrixPosition(y.matrixWorld),q.position.applyMatrix4(v),q.color.copy(M).multiplyScalar(x),q.distance=b,q.direction.setFromMatrixPosition(y.matrixWorld),n.setFromMatrixPosition(y.target.matrixWorld),q.direction.sub(n),q.direction.transformDirection(v),q.coneCos=Math.cos(y.angle),q.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),q.decay=y.decay,q.shadow=y.castShadow,y.castShadow&&(L=y.shadow,q.shadowBias=L.bias,q.shadowRadius=L.radius,q.shadowMapSize=L.mapSize),t.spotShadowMap[m]=w,t.spotShadowMatrix[m]=y.shadow.matrix,t.spot[m]=q,m++;else if(y.isRectAreaLight)(q=e.get(y)).color.copy(M).multiplyScalar(x),q.position.setFromMatrixPosition(y.matrixWorld),q.position.applyMatrix4(v),i.identity(),r.copy(y.matrixWorld),r.premultiply(v),i.extractRotation(r),q.halfWidth.set(.5*y.width,0,0),q.halfHeight.set(0,.5*y.height,0),q.halfWidth.applyMatrix4(i),q.halfHeight.applyMatrix4(i),t.rectArea[f]=q,f++;else if(y.isPointLight)(q=e.get(y)).position.setFromMatrixPosition(y.matrixWorld),q.position.applyMatrix4(v),q.color.copy(y.color).multiplyScalar(y.intensity),q.distance=y.distance,q.decay=y.decay,q.shadow=y.castShadow,y.castShadow&&(L=y.shadow,q.shadowBias=L.bias,q.shadowRadius=L.radius,q.shadowMapSize=L.mapSize,q.shadowCameraNear=L.camera.near,q.shadowCameraFar=L.camera.far),t.pointShadowMap[d]=w,t.pointShadowMatrix[d]=y.shadow.matrix,t.point[d]=q,d++;else if(y.isHemisphereLight){var q;(q=e.get(y)).direction.setFromMatrixPosition(y.matrixWorld),q.direction.transformDirection(v),q.direction.normalize(),q.skyColor.copy(y.color).multiplyScalar(x),q.groundColor.copy(y.groundColor).multiplyScalar(x),t.hemi[p]=q,p++}}t.ambient[0]=l,t.ambient[1]=u,t.ambient[2]=h,t.directional.length=c,t.spot.length=m,t.rectArea.length=f,t.point.length=d,t.hemi.length=p,t.hash.stateID=t.id,t.hash.directionalLength=c,t.hash.pointLength=d,t.hash.spotLength=m,t.hash.rectAreaLength=f,t.hash.hemiLength=p,t.hash.shadowsLength=o.length},state:t}}function $i(){var e=new Qi,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function ea(){var e={};return{get:function(t,n){var r;return void 0===e[t.id]?(r=new $i,e[t.id]={},e[t.id][n.id]=r):void 0===e[t.id][n.id]?(r=new $i,e[t.id][n.id]=r):r=e[t.id][n.id],r},dispose:function(){e={}}}}function ta(e){Lr.call(this),this.type="MeshDepthMaterial",this.depthPacking=Vt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function na(e){Lr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new tn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function ra(e,t,n){for(var r=new yn,i=new $t,a=new Qt,o=new Qt(n,n),s=new tn,l=new tn,u=1,h=2,c=1+(u|h),d=new Array(c),m=new Array(c),f={},p={0:E,1:T,2:D},v=[new tn(1,0,0),new tn(-1,0,0),new tn(0,0,1),new tn(0,0,-1),new tn(0,1,0),new tn(0,-1,0)],g=[new tn(0,1,0),new tn(0,1,0),new tn(0,1,0),new tn(0,1,0),new tn(0,0,1),new tn(0,0,-1)],_=[new dn,new dn,new dn,new dn,new dn,new dn],y=0;y!==c;++y){var M=0!=(y&u),x=0!=(y&h),b=new ta({depthPacking:Jt,morphTargets:M,skinning:x});d[y]=b;var w=new na({morphTargets:M,skinning:x});m[y]=w}var L=this;function S(t,n,r,i,a,o){var s=t.geometry,l=null,c=d,v=t.customDepthMaterial;if(r&&(c=m,v=t.customDistanceMaterial),v)l=v;else{var g=!1;n.morphTargets&&(s&&s.isBufferGeometry?g=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(g=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var _=t.isSkinnedMesh&&n.skinning,y=0;g&&(y|=u),_&&(y|=h),l=c[y]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var M=l.uuid,x=n.uuid,b=f[M];void 0===b&&(b={},f[M]=b);var w=b[x];void 0===w&&(w=l.clone(),b[x]=w),l=w}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:p[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,r&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(i),l.nearDistance=a,l.farDistance=o),l}function k(n,i,a,o){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=t.update(n),u=n.material;if(Array.isArray(u))for(var h=s.groups,c=0,d=h.length;c<d;c++){var m=h[c],f=u[m.materialIndex];if(f&&f.visible){var p=S(n,f,o,l,a.near,a.far);e.renderBufferDirect(a,null,s,p,n,m)}}else if(u.visible){p=S(n,u,o,l,a.near,a.far);e.renderBufferDirect(a,null,s,p,n,null)}}for(var v=n.children,g=0,_=v.length;g<_;g++)k(v[g],i,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q,this.render=function(t,n,u){if(!1!==L.enabled&&(!1!==L.autoUpdate||!1!==L.needsUpdate)&&0!==t.length){e.context;var h,c=e.state;c.disable(3042),c.buffers.color.setClear(1,1,1,1),c.buffers.depth.setTest(!0),c.setScissorTest(!1);for(var d=0,m=t.length;d<m;d++){var f=t[d],p=f.shadow,y=f&&f.isPointLight;if(void 0!==p){var M=p.camera;if(a.copy(p.mapSize),a.min(o),y){var x=a.x,b=a.y;_[0].set(2*x,b,x,b),_[1].set(0,b,x,b),_[2].set(3*x,b,x,b),_[3].set(x,b,x,b),_[4].set(3*x,0,x,b),_[5].set(x,0,x,b),a.x*=4,a.y*=2}if(null===p.map){var w={minFilter:Ae,magFilter:Ae,format:Ke};p.map=new mn(a.x,a.y,w),p.map.texture.name=f.name+".shadowMap",M.updateProjectionMatrix()}p.isSpotLightShadow&&p.update(f);var q=p.map,S=p.matrix;l.setFromMatrixPosition(f.matrixWorld),M.position.copy(l),y?(h=6,S.makeTranslation(-l.x,-l.y,-l.z)):(h=1,s.setFromMatrixPosition(f.target.matrixWorld),M.lookAt(s),M.updateMatrixWorld(),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(M.projectionMatrix),S.multiply(M.matrixWorldInverse)),e.setRenderTarget(q),e.clear();for(var T=0;T<h;T++){if(y){s.copy(M.position),s.add(v[T]),M.up.copy(g[T]),M.lookAt(s),M.updateMatrixWorld();var E=_[T];c.viewport(E)}i.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),r.setFromMatrix(i),k(n,u,M,y)}}else console.warn("THREE.WebGLShadowMap:",f,"has no shadow.")}L.needsUpdate=!1}}}function ia(e,t,n,r){var i=new function(){var t=!1,n=new dn,r=null,i=new dn(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?K(2929):Q(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case re:e.depthFunc(512);break;case ie:e.depthFunc(519);break;case ae:e.depthFunc(513);break;case oe:e.depthFunc(515);break;case se:e.depthFunc(514);break;case le:e.depthFunc(518);break;case ue:e.depthFunc(516);break;case he:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},o=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){e?K(2960):Q(2960)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},s=e.getParameter(34921),l=new Uint8Array(s),u=new Uint8Array(s),h=new Uint8Array(s),c={},d=null,m=null,f=null,p=null,v=null,g=null,x=null,b=null,w=null,L=null,q=!1,S=null,T=null,k=null,A=null,P=null,C=e.getParameter(35661),R=!1,z=0,B=e.getParameter(7938);-1!==B.indexOf("WebGL")?(z=parseFloat(/^WebGL\ ([0-9])/.exec(B)[1]),R=z>=1):-1!==B.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(B)[1]),R=z>=2);var U=null,G={},W=new dn,V=new dn;function J(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var X={};function Z(n,i){(l[n]=1,0===u[n]&&(e.enableVertexAttribArray(n),u[n]=1),h[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),h[n]=i)}function K(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function Q(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}function $(t,r,i,a,o,s,l,u){if(t!==Y){if(f||(K(3042),f=!0),t===N)o=o||r,s=s||i,l=l||a,r===v&&o===b||(e.blendEquationSeparate(n.convert(r),n.convert(o)),v=r,b=o),i===g&&a===x&&s===w&&l===L||(e.blendFuncSeparate(n.convert(i),n.convert(a),n.convert(s),n.convert(l)),g=i,x=a,w=s,L=l),p=t,q=null;else if(t!==p||u!==q){if(v===j&&b===j||(e.blendEquation(32774),v=j,b=j),u)switch(t){case O:e.blendFuncSeparate(1,771,1,771);break;case I:e.blendFunc(1,1);break;case F:e.blendFuncSeparate(0,0,769,771);break;case H:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case O:e.blendFuncSeparate(770,771,1,771);break;case I:e.blendFunc(770,1);break;case F:e.blendFunc(0,769);break;case H:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,x=null,w=null,L=null,p=t,q=u}}else f&&(Q(3042),f=!1)}function ee(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function te(t){t!==_?(K(2884),t!==T&&(t===y?e.cullFace(1029):t===M?e.cullFace(1028):e.cullFace(1032))):Q(2884),T=t}function ne(t,n,r){t?(K(32823),A===n&&P===r||(e.polygonOffset(n,r),A=n,P=r)):Q(32823)}function ce(t){void 0===t&&(t=33984+C-1),U!==t&&(e.activeTexture(t),U=t)}return X[3553]=J(3553,3553,1),X[34067]=J(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),K(2929),a.setFunc(oe),ee(!1),te(y),K(2884),$(Y),{buffers:{color:i,depth:a,stencil:o},initAttributes:function(){for(var e=0,t=l.length;e<t;e++)l[e]=0},enableAttribute:function(e){Z(e,0)},enableAttributeAndDivisor:Z,disableUnusedAttributes:function(){for(var t=0,n=u.length;t!==n;++t)u[t]!==l[t]&&(e.disableVertexAttribArray(t),u[t]=0)},enable:K,disable:Q,getCompressedTextureFormats:function(){if(null===d&&(d=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)d.push(n[r]);return d},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:$,setMaterial:function(e,t){e.side===D?Q(2884):K(2884);var n=e.side===E;t&&(n=!n),ee(n),e.blending===O&&!1===e.transparent?$(Y):$(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite),ne(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:ee,setCullFace:te,setLineWidth:function(t){t!==k&&(R&&e.lineWidth(t),k=t)},setPolygonOffset:ne,setScissorTest:function(e){e?K(3089):Q(3089)},activeTexture:ce,bindTexture:function(t,n){null===U&&ce();var r=G[U];void 0===r&&(r={type:void 0,texture:void 0},G[U]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||X[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===W.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),W.copy(t))},viewport:function(t){!1===V.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),V.copy(t))},reset:function(){for(var t=0;t<u.length;t++)1===u[t]&&(e.disableVertexAttribArray(t),u[t]=0);c={},d=null,U=null,G={},m=null,p=null,S=null,T=null,i.reset(),a.reset(),o.reset()}}}function aa(e,t,n,r,i,a,o){var s,l={};function u(e,t){if(e.width>t||e.height>t){if("data"in e)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+e.width+"x"+e.height+").");var n=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height),r}return e}function h(e){return Kt.isPowerOfTwo(e.width)&&Kt.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ae&&e.minFilter!==Re}function d(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function m(e,t){if(!i.isWebGL2)return e;if(6403===e){if(5126===t)return 33326;if(5131===t)return 33325;if(5121===t)return 33321}if(6407===e){if(5126===t)return 34837;if(5131===t)return 34843;if(5121===t)return 32849}if(6408===e){if(5126===t)return 34836;if(5131===t)return 34842;if(5121===t)return 32856}return e}function f(e){return e===Ae||e===Pe||e===Ce?9728:9729}function p(t){var n=t.target;n.removeEventListener("dispose",p),function(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}(n),n.isVideoTexture&&delete l[n.id],o.memory.textures--}function v(t){var n=t.target;n.removeEventListener("dispose",v),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(n),o.memory.textures--}function g(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=o.render.frame;l[t]!==n&&(l[t]=n,e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void y(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function _(n,o,s){var l;if(s?(e.texParameteri(n,10242,a.convert(o.wrapS)),e.texParameteri(n,10243,a.convert(o.wrapT)),e.texParameteri(n,10240,a.convert(o.magFilter)),e.texParameteri(n,10241,a.convert(o.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),o.wrapS===De&&o.wrapT===De||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,f(o.magFilter)),e.texParameteri(n,10241,f(o.minFilter)),o.minFilter!==Ae&&o.minFilter!==Re&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===Be&&null===t.get("OES_texture_float_linear"))return;if(o.type===Ue&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function y(t,r,l){var f;f=r.isDataTexture3D?32879:3553,void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",p),t.__webglTexture=e.createTexture(),o.memory.textures++),n.activeTexture(33984+l),n.bindTexture(f,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var v=u(r.image,i.maxTextureSize);(function(e){return!i.isWebGL2&&(e.wrapS!==De||e.wrapT!==De||e.minFilter!==Ae&&e.minFilter!==Re)})(r)&&!1===h(v)&&(v=function(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap?(void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),s.width=Kt.floorPowerOfTwo(e.width),s.height=Kt.floorPowerOfTwo(e.height),s.getContext("2d").drawImage(e,0,0,s.width,s.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+s.width+"x"+s.height),s):e}(v));var g=h(v),y=a.convert(r.format),M=a.convert(r.type),x=m(y,M);_(f,r,g);var b,w=r.mipmaps;if(r.isDepthTexture){if(x=6402,r.type===Be){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");x=36012}else i.isWebGL2&&(x=33189);r.format===tt&&6402===x&&r.type!==Ne&&r.type!==ze&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Ne,M=a.convert(r.type)),r.format===nt&&(x=34041,r.type!==Je&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Je,M=a.convert(r.type))),n.texImage2D(3553,0,x,v.width,v.height,0,y,M,null)}else if(r.isDataTexture)if(w.length>0&&g){for(var L=0,q=w.length;L<q;L++)b=w[L],n.texImage2D(3553,L,x,b.width,b.height,0,y,M,b.data);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,x,v.width,v.height,0,y,M,v.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(L=0,q=w.length;L<q;L++)b=w[L],r.format!==Ke&&r.format!==Ze?n.getCompressedTextureFormats().indexOf(y)>-1?n.compressedTexImage2D(3553,L,x,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,L,x,b.width,b.height,0,y,M,b.data);t.__maxMipLevel=w.length-1}else if(r.isDataTexture3D)n.texImage3D(32879,0,x,v.width,v.height,v.depth,0,y,M,v.data),t.__maxMipLevel=0;else if(w.length>0&&g){for(L=0,q=w.length;L<q;L++)b=w[L],n.texImage2D(3553,L,x,y,M,b);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,x,y,M,v),t.__maxMipLevel=0;c(r,g)&&d(3553,r,v.width,v.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function M(t,i,o,s){var l=a.convert(i.texture.format),u=a.convert(i.texture.type),h=m(l,u);n.texImage2D(s,0,h,i.width,i.height,0,l,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function x(t,n){e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(36161,33189,n.width,n.height),e.framebufferRenderbuffer(36160,36096,36161,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)):e.renderbufferStorage(36161,32854,n.width,n.height),e.bindRenderbuffer(36161,null)}function b(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===tt)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==nt)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),x(n.__webglDepthbuffer[a],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),x(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}this.setTexture2D=g,this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?y(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,s){var l=r.get(t);if(6===t.image.length)if(t.version>0&&l.__version!==t.version){l.__image__webglTextureCube||(t.addEventListener("dispose",p),l.__image__webglTextureCube=e.createTexture(),o.memory.textures++),n.activeTexture(33984+s),n.bindTexture(34067,l.__image__webglTextureCube),e.pixelStorei(37440,t.flipY);for(var f=t&&t.isCompressedTexture,v=t.image[0]&&t.image[0].isDataTexture,g=[],y=0;y<6;y++)g[y]=f||v?v?t.image[y].image:t.image[y]:u(t.image[y],i.maxCubemapSize);var M=g[0],x=h(M),b=a.convert(t.format),w=a.convert(t.type),L=m(b,w);for(_(34067,t,x),y=0;y<6;y++)if(f)for(var q,S=g[y].mipmaps,T=0,E=S.length;T<E;T++)q=S[T],t.format!==Ke&&t.format!==Ze?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(34069+y,T,L,q.width,q.height,0,q.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,T,L,q.width,q.height,0,b,w,q.data);else v?n.texImage2D(34069+y,0,L,g[y].width,g[y].height,0,b,w,g[y].data):n.texImage2D(34069+y,0,L,b,w,g[y]);l.__maxMipLevel=f?S.length-1:0,c(t,x)&&d(34067,t,M.width,M.height),l.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+s),n.bindTexture(34067,l.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)},this.setupRenderTarget=function(t){var i=r.get(t),a=r.get(t.texture);t.addEventListener("dispose",v),a.__webglTexture=e.createTexture(),o.memory.textures++;var s=!0===t.isWebGLRenderTargetCube,l=h(t);if(s){i.__webglFramebuffer=[];for(var u=0;u<6;u++)i.__webglFramebuffer[u]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(s){for(n.bindTexture(34067,a.__webglTexture),_(34067,t.texture,l),u=0;u<6;u++)M(i.__webglFramebuffer[u],t,36064,34069+u);c(t.texture,l)&&d(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,a.__webglTexture),_(3553,t.texture,l),M(i.__webglFramebuffer,t,36064,3553),c(t.texture,l)&&d(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&b(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(c(t,h(e))){var i=e.isWebGLRenderTargetCube?34067:3553,a=r.get(t).__webglTexture;n.bindTexture(i,a),d(i,t,e.width,e.height),n.bindTexture(i,null)}}}function oa(e,t,n){return{convert:function(e){var r;if(e===Ee)return 10497;if(e===De)return 33071;if(e===ke)return 33648;if(e===Ae)return 9728;if(e===Pe)return 9984;if(e===Ce)return 9986;if(e===Re)return 9729;if(e===Ye)return 9985;if(e===Oe)return 9987;if(e===Ie)return 5121;if(e===Ge)return 32819;if(e===We)return 32820;if(e===Ve)return 33635;if(e===Fe)return 5120;if(e===He)return 5122;if(e===Ne)return 5123;if(e===je)return 5124;if(e===ze)return 5125;if(e===Be)return 5126;if(e===Ue){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(e===Xe)return 6406;if(e===Ze)return 6407;if(e===Ke)return 6408;if(e===Qe)return 6409;if(e===$e)return 6410;if(e===tt)return 6402;if(e===nt)return 34041;if(e===rt)return 6403;if(e===j)return 32774;if(e===z)return 32778;if(e===B)return 32779;if(e===W)return 0;if(e===V)return 1;if(e===J)return 768;if(e===X)return 769;if(e===Z)return 770;if(e===K)return 771;if(e===Q)return 772;if(e===$)return 773;if(e===ee)return 774;if(e===te)return 775;if(e===ne)return 776;if((e===it||e===at||e===ot||e===st)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(e===it)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===at)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===ot)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===st)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===lt||e===ut||e===ht||e===ct)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(e===lt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===ut)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ht)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ct)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===dt&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((e===mt||e===ft||e===pt||e===vt||e===gt||e===_t||e===yt||e===Mt||e===xt||e===bt||e===wt||e===Lt||e===qt||e===St)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(e===U||e===G){if(n.isWebGL2){if(e===U)return 32775;if(e===G)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(e===U)return r.MIN_EXT;if(e===G)return r.MAX_EXT}}if(e===Je){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function sa(){zn.call(this),this.type="Group"}function la(){zn.call(this),this.type="Camera",this.matrixWorldInverse=new $t,this.projectionMatrix=new $t,this.projectionMatrixInverse=new $t}function ua(e,t,n,r){la.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ha(e){ua.call(this),this.cameras=e||[]}ta.prototype=Object.create(Lr.prototype),ta.prototype.constructor=ta,ta.prototype.isMeshDepthMaterial=!0,ta.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},na.prototype=Object.create(Lr.prototype),na.prototype.constructor=na,na.prototype.isMeshDistanceMaterial=!0,na.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},sa.prototype=Object.assign(Object.create(zn.prototype),{constructor:sa,isGroup:!0}),la.prototype=Object.assign(Object.create(zn.prototype),{constructor:la,isCamera:!0,copy:function(e,t){return zn.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new tn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){zn.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),ua.prototype=Object.assign(Object.create(la.prototype),{constructor:ua,isPerspectiveCamera:!0,copy:function(e,t){return la.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Kt.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Kt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Kt.RAD2DEG*Math.atan(Math.tan(.5*Kt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Kt.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=zn.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),ha.prototype=Object.assign(Object.create(ua.prototype),{constructor:ha,isArrayCamera:!0});var ca,da,ma,fa,pa,va,ga=new tn,_a=new tn;function ya(e,t,n){ga.setFromMatrixPosition(t.matrixWorld),_a.setFromMatrixPosition(n.matrixWorld);var r=ga.distanceTo(_a),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],h=(i[8]-1)/i[0],c=(a[8]+1)/a[0],d=o*h,m=o*c,f=r/(-h+c),p=f*-h;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(p),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=o+f,g=s+f,_=d-p,y=m+(r-p),M=l*s/g*v,x=u*s/g*v;e.projectionMatrix.makePerspective(_,y,M,x,v,g)}function Ma(e){var t=this,n=null,r=null,i=null,a=[],o=new $t,s=new $t,l=1,u="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",y,!1));var h=new $t,c=new en,d=new tn,m=new ua;m.bounds=new dn(0,0,.5,1),m.layers.enable(1);var f=new ua;f.bounds=new dn(.5,0,.5,1),f.layers.enable(2);var p,v,g=new ha([m,f]);function _(){return null!==n&&!0===n.isPresenting}function y(){if(_()){var r=n.getEyeParameters("left"),i=r.renderWidth*l,a=r.renderHeight*l;v=e.getPixelRatio(),p=e.getSize(),e.setDrawingBufferSize(2*i,a,1),b.start()}else t.enabled&&e.setDrawingBufferSize(p.width,p.height,v),b.stop()}g.layers.enable(1),g.layers.enable(2);var M=[];function x(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var a=t[n];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===e)return a;r++}}}this.enabled=!1,this.getController=function(e){var t=a[e];return void 0===t&&((t=new sa).matrixAutoUpdate=!1,t.visible=!1,a[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),b.setContext(e)},this.setFramebufferScaleFactor=function(e){l=e},this.setFrameOfReferenceType=function(e){u=e},this.setPoseTarget=function(e){void 0!==e&&(i=e)},this.getCamera=function(e){var t="stage"===u?1.6:0;if(null===n)return e.position.set(0,t,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(r),"stage"===u){var l=n.stageParameters;l?o.fromArray(l.sittingToStandingTransform):o.makeTranslation(0,t,0)}var p=r.pose,v=null!==i?i:e;if(v.matrix.copy(o),v.matrix.decompose(v.position,v.quaternion,v.scale),null!==p.orientation&&(c.fromArray(p.orientation),v.quaternion.multiply(c)),null!==p.position&&(c.setFromRotationMatrix(o),d.fromArray(p.position),d.applyQuaternion(c),v.position.add(d)),v.updateMatrixWorld(),!1===n.isPresenting)return e;m.near=e.near,f.near=e.near,m.far=e.far,f.far=e.far,m.matrixWorldInverse.fromArray(r.leftViewMatrix),f.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(o),"stage"===u&&(m.matrixWorldInverse.multiply(s),f.matrixWorldInverse.multiply(s));var _=v.parent;null!==_&&(h.getInverse(_.matrixWorld),m.matrixWorldInverse.multiply(h),f.matrixWorldInverse.multiply(h)),m.matrixWorld.getInverse(m.matrixWorldInverse),f.matrixWorld.getInverse(f.matrixWorldInverse),m.projectionMatrix.fromArray(r.leftProjectionMatrix),f.projectionMatrix.fromArray(r.rightProjectionMatrix),ya(g,m,f);var y=n.getLayers();if(y.length){var b=y[0];null!==b.leftBounds&&4===b.leftBounds.length&&m.bounds.fromArray(b.leftBounds),null!==b.rightBounds&&4===b.rightBounds.length&&f.bounds.fromArray(b.rightBounds)}return function(){for(var e=0;e<a.length;e++){var t=a[e],n=x(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(o),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;M[e]!==n.buttons[i].pressed&&(M[e]=n.buttons[i].pressed,!0===M[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),g},this.getStandingMatrix=function(){return o},this.isPresenting=_;var b=new Pn;this.setAnimationLoop=function(e){b.setAnimationLoop(e)},this.submitFrame=function(){_()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",y)}}function xa(e){var t=e.context,n=null,r=null,i=1,a=null,o="stage",s=null,l=[],u=[];function h(){return null!==r&&null!==a}var c=new ua;c.layers.enable(1),c.viewport=new dn;var d=new ua;d.layers.enable(2),d.viewport=new dn;var m=new ha([c,d]);function f(e){var t=l[u.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function p(){e.setFramebuffer(null),_.stop()}function v(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}m.layers.enable(1),m.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=l[e];return void 0===t&&((t=new sa).matrixAutoUpdate=!1,t.visible=!1,l[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){i=e},this.setFrameOfReferenceType=function(e){o=e},this.setSession=function(n){null!==(r=n)&&(r.addEventListener("select",f),r.addEventListener("selectstart",f),r.addEventListener("selectend",f),r.addEventListener("end",p),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:i}),r.requestFrameOfReference(o).then(function(t){a=t,e.setFramebuffer(r.baseLayer.framebuffer),_.setContext(r),_.start()}),u=r.getInputSources(),r.addEventListener("inputsourceschange",function(){u=r.getInputSources(),console.log(u);for(var e=0;e<l.length;e++){l[e].userData.inputSource=u[e]}}))},this.getCamera=function(e){if(h()){var t=e.parent,n=m.cameras;v(m,t);for(var r=0;r<n.length;r++)v(n[r],t);e.matrixWorld.copy(m.matrixWorld);for(var i=e.children,a=(r=0,i.length);r<a;r++)i[r].updateMatrixWorld(!0);return ya(m,c,d),m}return e},this.isPresenting=h;var g=null;var _=new Pn;_.setAnimationLoop(function(e,t){if(null!==(s=t.getDevicePose(a)))for(var n=r.baseLayer,i=t.views,o=0;o<i.length;o++){var h=i[o],c=n.getViewport(h),d=s.getViewMatrix(h),f=m.cameras[o];f.matrix.fromArray(d).getInverse(f.matrix),f.projectionMatrix.fromArray(h.projectionMatrix),f.viewport.set(c.x,c.y,c.width,c.height),0===o&&m.matrix.copy(f.matrix)}for(o=0;o<l.length;o++){var p=l[o],v=u[o];if(v){var _=t.getInputPose(v,a);if(null!==_){"targetRay"in _?p.matrix.elements=_.targetRay.transformMatrix:"pointerMatrix"in _&&(p.matrix.elements=_.pointerMatrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.visible=!0;continue}}p.visible=!1}g&&g(e)}),this.setAnimationLoop=function(e){g=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function ba(e){console.log("THREE.WebGLRenderer",v);var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",h=null,c=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=pe,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,m,f,p,g,_,y,M,x,b,w,L,q,S,T,D,k,A,P=this,C=!1,R=null,Y=null,O=null,I=-1,F={geometry:null,program:null,wireframe:!1},H=null,N=null,j=new dn,z=new dn,B=null,U=0,G=t.width,W=t.height,V=1,J=new dn(0,0,G,W),X=new dn(0,0,G,W),Z=!1,K=new yn,Q=new Cr,$=!1,ee=!1,te=new $t,ne=new tn;function re(){return null===Y?V:1}try{var ie={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u};if(t.addEventListener("webglcontextlost",le,!1),t.addEventListener("webglcontextrestored",ue,!1),null===(d=n||t.getContext("webgl",ie)||t.getContext("experimental-webgl",ie)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}function ae(){m=new Rr(d),(f=new Pr(d,m,e)).isWebGL2||(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),A=new oa(d,m,f),(p=new ia(d,m,A,f)).scissor(z.copy(X).multiplyScalar(V)),p.viewport(j.copy(J).multiplyScalar(V)),g=new Ir(d),_=new Gi,y=new aa(d,m,p,_,f,A,g),M=new Cn(d),x=new Yr(d,M,g),b=new Nr(x,g),T=new Hr(d),w=new Ui(P,m,f),L=new Xi,q=new ea,S=new kr(P,p,b,s),D=new Ar(d,m,g,f),k=new Or(d,m,g,f),g.programs=w.programs,P.context=d,P.capabilities=f,P.extensions=m,P.properties=_,P.renderLists=L,P.state=p,P.info=g}ae();var oe=null;"undefined"!=typeof navigator&&(oe="xr"in navigator?new xa(P):new Ma(P)),this.vr=oe;var se=new ra(P,b,f.maxTextureSize);function le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function ue(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1,ae()}function he(e){var t=e.target;t.removeEventListener("dispose",he),function(e){ce(e),_.remove(e)}(t)}function ce(e){var t=_.get(e).program;e.program=void 0,void 0!==t&&w.releaseProgram(t)}this.shadowMap=se,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var e=m.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=m.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(e){void 0!==e&&(V=e,this.setSize(G,W,!1))},this.getSize=function(){return{width:G,height:W}},this.setSize=function(e,n,r){oe.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=e,W=n,t.width=e*V,t.height=n*V,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(){return{width:G*V,height:W*V}},this.setDrawingBufferSize=function(e,n,r){G=e,W=n,V=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(){return j},this.setViewport=function(e,t,n,r){J.set(e,W-t-r,n,r),p.viewport(j.copy(J).multiplyScalar(V))},this.setScissor=function(e,t,n,r){X.set(e,W-t-r,n,r),p.scissor(z.copy(X).multiplyScalar(V))},this.setScissorTest=function(e){p.setScissorTest(Z=e)},this.getClearColor=function(){return S.getClearColor()},this.setClearColor=function(){S.setClearColor.apply(S,arguments)},this.getClearAlpha=function(){return S.getClearAlpha()},this.setClearAlpha=function(){S.setClearAlpha.apply(S,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",le,!1),t.removeEventListener("webglcontextrestored",ue,!1),L.dispose(),q.dispose(),_.dispose(),b.dispose(),oe.dispose(),fe.stop()},this.renderBufferImmediate=function(e,t){p.initAttributes();var n=_.get(e);e.hasPositions&&!n.position&&(n.position=d.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=d.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=d.createBuffer()),e.hasColors&&!n.color&&(n.color=d.createBuffer());var r=t.getAttributes();e.hasPositions&&(d.bindBuffer(34962,n.position),d.bufferData(34962,e.positionArray,35048),p.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(d.bindBuffer(34962,n.normal),d.bufferData(34962,e.normalArray,35048),p.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(d.bindBuffer(34962,n.uv),d.bufferData(34962,e.uvArray,35048),p.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(d.bindBuffer(34962,n.color),d.bufferData(34962,e.colorArray,35048),p.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),p.disableUnusedAttributes(),d.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){var o=i.isMesh&&i.normalMatrix.determinant()<0;p.setMaterial(r,o);var s=ye(e,t,r,i),l=!1;F.geometry===n.id&&F.program===s.id&&F.wireframe===(!0===r.wireframe)||(F.geometry=n.id,F.program=s.id,F.wireframe=!0===r.wireframe,l=!0),i.morphTargetInfluences&&(T.update(i,n,r,s),l=!0);var u,h=n.index,c=n.attributes.position,v=1;!0===r.wireframe&&(h=x.getWireframeAttribute(n),v=2);var g=D;null!==h&&(u=M.get(h),(g=k).setIndex(u)),l&&(!function(e,t,n){if(n&&n.isInstancedBufferGeometry&!f.isWebGL2&&null===m.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");p.initAttributes();var r=n.attributes,i=t.getAttributes(),a=e.defaultAttributeValues;for(var o in i){var s=i[o];if(s>=0){var l=r[o];if(void 0!==l){var u=l.normalized,h=l.itemSize,c=M.get(l);if(void 0===c)continue;var v=c.buffer,g=c.type,_=c.bytesPerElement;if(l.isInterleavedBufferAttribute){var y=l.data,x=y.stride,b=l.offset;y&&y.isInstancedInterleavedBuffer?(p.enableAttributeAndDivisor(s,y.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=y.meshPerAttribute*y.count)):p.enableAttribute(s),d.bindBuffer(34962,v),d.vertexAttribPointer(s,h,g,u,x*_,b*_)}else l.isInstancedBufferAttribute?(p.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):p.enableAttribute(s),d.bindBuffer(34962,v),d.vertexAttribPointer(s,h,g,u,0,0)}else if(void 0!==a){var w=a[o];if(void 0!==w)switch(w.length){case 2:d.vertexAttrib2fv(s,w);break;case 3:d.vertexAttrib3fv(s,w);break;case 4:d.vertexAttrib4fv(s,w);break;default:d.vertexAttrib1fv(s,w)}}}}p.disableUnusedAttributes()}(r,s,n),null!==h&&d.bindBuffer(34963,u.buffer));var _=1/0;null!==h?_=h.count:void 0!==c&&(_=c.count);var y=n.drawRange.start*v,b=n.drawRange.count*v,w=null!==a?a.start*v:0,L=null!==a?a.count*v:1/0,q=Math.max(y,w),S=Math.min(_,y+b,w+L)-1,E=Math.max(0,S-q+1);if(0!==E){if(i.isMesh)if(!0===r.wireframe)p.setLineWidth(r.wireframeLinewidth*re()),g.setMode(1);else switch(i.drawMode){case Ot:g.setMode(4);break;case It:g.setMode(5);break;case Ft:g.setMode(6)}else if(i.isLine){var A=r.linewidth;void 0===A&&(A=1),p.setLineWidth(A*re()),i.isLineSegments?g.setMode(1):i.isLineLoop?g.setMode(2):g.setMode(3)}else i.isPoints?g.setMode(0):i.isSprite&&g.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&g.renderInstances(n,q,E):g.render(q,E)}},this.compile=function(e,t){(c=q.get(e,t)).init(),e.traverse(function(e){e.isLight&&(c.pushLight(e),e.castShadow&&c.pushShadow(e))}),c.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)_e(t.material[n],e.fog,t);else _e(t.material,e.fog,t)})};var de=null;var me,fe=new Pn;function ve(e,t,n,r){for(var i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=void 0===r?o.material:r,h=o.group;if(n.isArrayCamera){N=n;for(var d=n.cameras,m=0,f=d.length;m<f;m++){var v=d[m];if(s.layers.test(v.layers)){if("viewport"in v)p.viewport(j.copy(v.viewport));else{var g=v.bounds,_=g.x*G,y=g.y*W,M=g.z*G,x=g.w*W;p.viewport(j.set(_,y,M,x).multiplyScalar(V))}c.setupLights(v),ge(s,t,v,l,u,h)}}}else N=null,ge(s,t,n,l,u,h)}}function ge(e,t,n,r,i,a){if(e.onBeforeRender(P,t,n,r,i,a),c=q.get(t,N||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){p.setMaterial(i);var o=ye(n,t.fog,i,e);F.geometry=null,F.program=null,F.wireframe=!1,function(e,t){e.render(function(e){P.renderBufferImmediate(e,t)})}(e,o)}else P.renderBufferDirect(n,t.fog,r,i,e,a);e.onAfterRender(P,t,n,r,i,a),c=q.get(t,N||n)}function _e(e,t,n){var r=_.get(e),i=c.state.lights,a=c.state.shadowsArray,o=r.lightsHash,s=i.state.hash,l=w.getParameters(e,i.state,a,t,Q.numPlanes,Q.numIntersection,n),u=w.getProgramCode(e,l),h=r.program,d=!0;if(void 0===h)e.addEventListener("dispose",he);else if(h.code!==u)ce(e);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,d=!1;else{if(void 0!==l.shaderID)return;d=!1}if(d){if(l.shaderID){var m=An[l.shaderID];r.shader={name:e.type,uniforms:xn(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,P),u=w.getProgramCode(e,l),h=w.acquireProgram(e,r.shader,l,u),r.program=h,e.program=h}var f=h.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<P.maxMorphTargets;p++)f["morphTarget"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(p=0;p<P.maxMorphNormals;p++)f["morphNormal"+p]>=0&&e.numSupportedMorphNormals++}var v=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=Q.numPlanes,r.numIntersection=Q.numIntersection,v.clippingPlanes=Q.uniform),r.fog=t,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,e.lights&&(v.ambientLightColor.value=i.state.ambient,v.directionalLights.value=i.state.directional,v.spotLights.value=i.state.spot,v.rectAreaLights.value=i.state.rectArea,v.pointLights.value=i.state.point,v.hemisphereLights.value=i.state.hemi,v.directionalShadowMap.value=i.state.directionalShadowMap,v.directionalShadowMatrix.value=i.state.directionalShadowMatrix,v.spotShadowMap.value=i.state.spotShadowMap,v.spotShadowMatrix.value=i.state.spotShadowMatrix,v.pointShadowMap.value=i.state.pointShadowMap,v.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),y=Pi.seqWithValue(g.seq,v);r.uniformsList=y}function ye(e,t,n,r){U=0;var i=_.get(n),a=c.state.lights,o=i.lightsHash,s=a.state.hash;if($&&(ee||e!==H)){var l=e===H&&n.id===I;Q.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,l)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:(!n.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===Q.numPlanes&&i.numIntersection===Q.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(_e(n,t,r),n.needsUpdate=!1);var u,h,m=!1,v=!1,g=!1,y=i.program,M=y.getUniforms(),x=i.shader.uniforms;if(p.useProgram(y.program)&&(m=!0,v=!0,g=!0),n.id!==I&&(I=n.id,v=!0),m||H!==e){if(M.setValue(d,"projectionMatrix",e.projectionMatrix),f.logarithmicDepthBuffer&&M.setValue(d,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),H!==e&&(H=e,v=!0,g=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var b=M.map.cameraPosition;void 0!==b&&b.setValue(d,ne.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&M.setValue(d,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){M.setOptional(d,r,"bindMatrix"),M.setOptional(d,r,"bindMatrixInverse");var w=r.skeleton;if(w){var L=w.bones;if(f.floatVertexTextures){if(void 0===w.boneTexture){var q=Math.sqrt(4*L.length);q=Kt.ceilPowerOfTwo(q),q=Math.max(q,4);var S=new Float32Array(q*q*4);S.set(w.boneMatrices);var T=new pn(S,q,q,Ke,Be);T.needsUpdate=!0,w.boneMatrices=S,w.boneTexture=T,w.boneTextureSize=q}M.setValue(d,"boneTexture",w.boneTexture),M.setValue(d,"boneTextureSize",w.boneTextureSize)}else M.setOptional(d,w,"boneMatrices")}}return v&&(M.setValue(d,"toneMappingExposure",P.toneMappingExposure),M.setValue(d,"toneMappingWhitePoint",P.toneMappingWhitePoint),n.lights&&(h=g,(u=x).ambientLightColor.needsUpdate=h,u.directionalLights.needsUpdate=h,u.pointLights.needsUpdate=h,u.spotLights.needsUpdate=h,u.rectAreaLights.needsUpdate=h,u.hemisphereLights.needsUpdate=h),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(x,t),n.isMeshBasicMaterial?Me(x,n):n.isMeshLambertMaterial?(Me(x,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(x,n)):n.isMeshPhongMaterial?(Me(x,n),n.isMeshToonMaterial?function(e,t){xe(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(x,n):xe(x,n)):n.isMeshStandardMaterial?(Me(x,n),n.isMeshPhysicalMaterial?function(e,t){be(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(x,n):be(x,n)):n.isMeshMatcapMaterial?(Me(x,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===E&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===E&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isMeshDepthMaterial?(Me(x,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isMeshDistanceMaterial?(Me(x,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(x,n)):n.isMeshNormalMaterial?(Me(x,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===E&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===E&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(x,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(x,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*V,e.scale.value=.5*W,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(x,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(x,n):n.isShadowMaterial&&(x.color.value=n.color,x.opacity.value=n.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=kn.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=kn.LTC_2),Pi.upload(d,i.uniformsList,x,P)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Pi.upload(d,i.uniformsList,x,P),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&M.setValue(d,"center",r.center),M.setValue(d,"modelViewMatrix",r.modelViewMatrix),M.setValue(d,"normalMatrix",r.normalMatrix),M.setValue(d,"modelMatrix",r.matrixWorld),y}function Me(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=_.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function xe(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===E&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===E&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function be(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===E&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===E&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}fe.setAnimationLoop(function(e){oe.isPresenting()||de&&de(e)}),"undefined"!=typeof window&&fe.setContext(window),this.setAnimationLoop=function(e){de=e,oe.setAnimationLoop(e),fe.start()},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!C){F.geometry=null,F.program=null,F.wireframe=!1,I=-1,H=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),oe.enabled&&(t=oe.getCamera(t)),(c=q.get(e,t)).init(),e.onBeforeRender(P,e,t,n),te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),K.setFromMatrix(te),ee=this.localClippingEnabled,$=Q.init(this.clippingPlanes,ee,t),(h=L.get(e,t)).init(),function e(t,n,r){if(!1===t.visible)return;var i=t.layers.test(n.layers);if(i)if(t.isLight)c.pushLight(t),t.castShadow&&c.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||K.intersectsSprite(t)){r&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te);var a=b.update(t),o=t.material;h.push(t,a,o,ne.z,null)}}else if(t.isImmediateRenderObject)r&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te),h.push(t,null,t.material,ne.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||K.intersectsObject(t))){r&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te);var a=b.update(t),o=t.material;if(Array.isArray(o))for(var s=a.groups,l=0,u=s.length;l<u;l++){var d=s[l],m=o[d.materialIndex];m&&m.visible&&h.push(t,a,m,ne.z,d)}else o.visible&&h.push(t,a,o,ne.z,null)}var f=t.children;for(var l=0,u=f.length;l<u;l++)e(f[l],n,r)}(e,t,P.sortObjects),!0===P.sortObjects&&h.sort(),$&&Q.beginShadows();var i=c.state.shadowsArray;se.render(i,e,t),c.setupLights(t),$&&Q.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),S.render(h,e,t,r);var a=h.opaque,o=h.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&ve(a,e,t,s),o.length&&ve(o,e,t,s)}else a.length&&ve(a,e,t),o.length&&ve(o,e,t);n&&y.updateRenderTargetMipmap(n),p.buffers.depth.setTest(!0),p.buffers.depth.setMask(!0),p.buffers.color.setMask(!0),p.setPolygonOffset(!1),e.onAfterRender(P,e,t),oe.enabled&&oe.submitFrame(),h=null,c=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=U;return e>=f.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+f.maxTextures),U+=1,e},this.setTexture2D=(me=!1,function(e,t){e&&e.isWebGLRenderTarget&&(me||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),me=!0),e=e.texture),y.setTexture2D(e,t)}),this.setTexture3D=function(e,t){y.setTexture3D(e,t)},this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),y.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?y.setTextureCube(t,n):y.setTextureCubeDynamic(t,n)}}(),this.setFramebuffer=function(e){R=e},this.getRenderTarget=function(){return Y},this.setRenderTarget=function(e){Y=e,e&&void 0===_.get(e).__webglFramebuffer&&y.setupRenderTarget(e);var t=R,n=!1;if(e){var r=_.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,j.copy(e.viewport),z.copy(e.scissor),B=e.scissorTest}else j.copy(J).multiplyScalar(V),z.copy(X).multiplyScalar(V),B=Z;if(O!==t&&(d.bindFramebuffer(36160,t),O=t),p.viewport(j),p.scissor(z),p.setScissorTest(B),n){var i=_.get(e.texture);d.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,a){if(e&&e.isWebGLRenderTarget){var o=_.get(e).__webglFramebuffer;if(o){var s=!1;o!==O&&(d.bindFramebuffer(36160,o),s=!0);try{var l=e.texture,u=l.format,h=l.type;if(u!==Ke&&A.convert(u)!==d.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(h===Ie||A.convert(h)===d.getParameter(35738)||h===Be&&(f.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float"))||h===Ue&&(f.isWebGL2?m.get("EXT_color_buffer_float"):m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===d.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&d.readPixels(t,n,r,i,A.convert(u),A.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&d.bindFramebuffer(36160,O)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,a=A.convert(t.format);this.setTexture2D(t,0),d.copyTexImage2D(3553,n||0,a,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,a=t.image.height,o=A.convert(n.format),s=A.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?d.texSubImage2D(3553,r||0,e.x,e.y,i,a,o,s,t.image.data):d.texSubImage2D(3553,r||0,e.x,e.y,o,s,t.image)}}function wa(e,t){this.name="",this.color=new En(e),this.density=void 0!==t?t:25e-5}function La(e,t,n){this.name="",this.color=new En(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function qa(){zn.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Sa(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ta(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Ea(e){Lr.call(this),this.type="SpriteMaterial",this.color=new En(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function Da(e){if(zn.call(this),this.type="Sprite",void 0===ca){ca=new or;var t=new Sa(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);ca.setIndex([0,1,2,0,2,3]),ca.addAttribute("position",new Ta(t,3,0,!1)),ca.addAttribute("uv",new Ta(t,2,3,!1))}this.geometry=ca,this.material=void 0!==e?e:new Ea,this.center=new Qt(.5,.5)}function ka(){zn.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Aa(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Dr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new $t,this.bindMatrixInverse=new $t}function Pa(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new $t)}}function Ca(){zn.call(this),this.type="Bone"}function Ra(e){Lr.call(this),this.type="LineBasicMaterial",this.color=new En(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Ya(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),zn.call(this),this.type="Line",this.geometry=void 0!==e?e:new or,this.material=void 0!==t?t:new Ra({color:16777215*Math.random()})}function Oa(e,t){Ya.call(this,e,t),this.type="LineSegments"}function Ia(e,t){Ya.call(this,e,t),this.type="LineLoop"}function Fa(e){Lr.call(this),this.type="PointsMaterial",this.color=new En(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Ha(e,t){zn.call(this),this.type="Points",this.geometry=void 0!==e?e:new or,this.material=void 0!==t?t:new Fa({color:16777215*Math.random()})}function Na(e,t,n,r,i,a,o,s,l){cn.call(this,e,t,n,r,i,a,o,s,l),this.format=void 0!==o?o:Ze,this.minFilter=void 0!==a?a:Re,this.magFilter=void 0!==i?i:Re,this.generateMipmaps=!1}function ja(e,t,n,r,i,a,o,s,l,u,h,c){cn.call(this,null,a,o,s,l,u,r,i,h,c),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function za(e,t,n,r,i,a,o,s,l){cn.call(this,e,t,n,r,i,a,o,s,l),this.needsUpdate=!0}function Ba(e,t,n,r,i,a,o,s,l,u){if((u=void 0!==u?u:tt)!==tt&&u!==nt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===tt&&(n=Ne),void 0===n&&u===nt&&(n=Je),cn.call(this,null,r,i,a,o,s,u,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:Ae,this.minFilter=void 0!==s?s:Ae,this.flipY=!1,this.generateMipmaps=!1}function Ua(e){or.call(this),this.type="WireframeGeometry";var t,n,r,i,a,o,s,l,u,h,c=[],d=[0,0],m={},f=["a","b","c"];if(e&&e.isGeometry){var p=e.faces;for(t=0,r=p.length;t<r;t++){var v=p[t];for(n=0;n<3;n++)s=v[f[n]],l=v[f[(n+1)%3]],d[0]=Math.min(s,l),d[1]=Math.max(s,l),void 0===m[u=d[0]+","+d[1]]&&(m[u]={index1:d[0],index2:d[1]})}for(u in m)o=m[u],h=e.vertices[o.index1],c.push(h.x,h.y,h.z),h=e.vertices[o.index2],c.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var g,_,y,M,x,b,w;if(h=new tn,null!==e.index){for(g=e.attributes.position,_=e.index,0===(y=e.groups).length&&(y=[{start:0,count:_.count,materialIndex:0}]),i=0,a=y.length;i<a;++i)for(t=x=(M=y[i]).start,r=x+M.count;t<r;t+=3)for(n=0;n<3;n++)s=_.getX(t+n),l=_.getX(t+(n+1)%3),d[0]=Math.min(s,l),d[1]=Math.max(s,l),void 0===m[u=d[0]+","+d[1]]&&(m[u]={index1:d[0],index2:d[1]});for(u in m)o=m[u],h.fromBufferAttribute(g,o.index1),c.push(h.x,h.y,h.z),h.fromBufferAttribute(g,o.index2),c.push(h.x,h.y,h.z)}else for(t=0,r=(g=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)b=3*t+n,h.fromBufferAttribute(g,b),c.push(h.x,h.y,h.z),w=3*t+(n+1)%3,h.fromBufferAttribute(g,w),c.push(h.x,h.y,h.z)}this.addAttribute("position",new tr(c,3))}function Ga(e,t,n){Wn.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Wa(e,t,n)),this.mergeVertices()}function Wa(e,t,n){or.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,a=[],o=[],s=[],l=[],u=new tn,h=new tn,c=new tn,d=new tn,m=new tn;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=t+1;for(r=0;r<=n;r++){var p=r/n;for(i=0;i<=t;i++){var v=i/t;e(v,p,h),o.push(h.x,h.y,h.z),v-1e-5>=0?(e(v-1e-5,p,c),d.subVectors(h,c)):(e(v+1e-5,p,c),d.subVectors(c,h)),p-1e-5>=0?(e(v,p-1e-5,c),m.subVectors(h,c)):(e(v,p+1e-5,c),m.subVectors(c,h)),u.crossVectors(d,m).normalize(),s.push(u.x,u.y,u.z),l.push(v,p)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var g=r*f+i,_=r*f+i+1,y=(r+1)*f+i+1,M=(r+1)*f+i;a.push(g,_,M),a.push(_,y,M)}this.setIndex(a),this.addAttribute("position",new tr(o,3)),this.addAttribute("normal",new tr(s,3)),this.addAttribute("uv",new tr(l,2))}function Va(e,t,n,r){Wn.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Ja(e,t,n,r)),this.mergeVertices()}function Ja(e,t,n,r){or.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],a=[];function o(e,t,n,r){var i,a,o=Math.pow(2,r),l=[];for(i=0;i<=o;i++){l[i]=[];var u=e.clone().lerp(n,i/o),h=t.clone().lerp(n,i/o),c=o-i;for(a=0;a<=c;a++)l[i][a]=0===a&&i===o?u:u.clone().lerp(h,a/c)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var d=Math.floor(a/2);a%2==0?(s(l[i][d+1]),s(l[i+1][d]),s(l[i][d])):(s(l[i][d+1]),s(l[i+1][d+1]),s(l[i+1][d]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function u(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new tn,r=new tn,i=new tn,a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),o(n,r,i,e)}(r=r||0),function(e){for(var t=new tn,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new tn,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=h(e)/2/Math.PI+.5,r=(o=e,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);a.push(n,1-r)}var o;(function(){for(var e=new tn,t=new tn,n=new tn,r=new tn,o=new Qt,s=new Qt,l=new Qt,c=0,d=0;c<i.length;c+=9,d+=6){e.set(i[c+0],i[c+1],i[c+2]),t.set(i[c+3],i[c+4],i[c+5]),n.set(i[c+6],i[c+7],i[c+8]),o.set(a[d+0],a[d+1]),s.set(a[d+2],a[d+3]),l.set(a[d+4],a[d+5]),r.copy(e).add(t).add(n).divideScalar(3);var m=h(r);u(o,d+0,e,m),u(s,d+2,t,m),u(l,d+4,n,m)}})(),function(){for(var e=0;e<a.length;e+=6){var t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.addAttribute("position",new tr(i,3)),this.addAttribute("normal",new tr(i.slice(),3)),this.addAttribute("uv",new tr(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Xa(e,t){Wn.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Za(e,t)),this.mergeVertices()}function Za(e,t){Ja.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ka(e,t){Wn.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Qa(e,t)),this.mergeVertices()}function Qa(e,t){Ja.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $a(e,t){Wn.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new eo(e,t)),this.mergeVertices()}function eo(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Ja.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function to(e,t){Wn.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new no(e,t)),this.mergeVertices()}function no(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Ja.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ro(e,t,n,r,i,a){Wn.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new io(e,t,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function io(e,t,n,r,i){or.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,l=new tn,u=new tn,h=new Qt,c=new tn,d=[],m=[],f=[],p=[];function v(i){c=e.getPointAt(i/t,c);var o=a.normals[i],h=a.binormals[i];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,p=Math.sin(f),v=-Math.cos(f);u.x=v*o.x+p*h.x,u.y=v*o.y+p*h.y,u.z=v*o.z+p*h.z,u.normalize(),m.push(u.x,u.y,u.z),l.x=c.x+n*u.x,l.y=c.y+n*u.y,l.z=c.z+n*u.z,d.push(l.x,l.y,l.z)}}!function(){for(o=0;o<t;o++)v(o);v(!1===i?t:0),function(){for(o=0;o<=t;o++)for(s=0;s<=r;s++)h.x=o/t,h.y=s/r,f.push(h.x,h.y)}(),function(){for(s=1;s<=t;s++)for(o=1;o<=r;o++){var e=(r+1)*(s-1)+(o-1),n=(r+1)*s+(o-1),i=(r+1)*s+o,a=(r+1)*(s-1)+o;p.push(e,n,a),p.push(n,i,a)}}()}(),this.setIndex(p),this.addAttribute("position",new tr(d,3)),this.addAttribute("normal",new tr(m,3)),this.addAttribute("uv",new tr(f,2))}function ao(e,t,n,r,i,a,o){Wn.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new oo(e,t,n,r,i,a)),this.mergeVertices()}function oo(e,t,n,r,i,a){or.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var o,s,l=[],u=[],h=[],c=[],d=new tn,m=new tn,f=new tn,p=new tn,v=new tn,g=new tn,_=new tn;for(o=0;o<=n;++o){var y=o/n*i*Math.PI*2;for(T(y,i,a,e,f),T(y+.01,i,a,e,p),g.subVectors(p,f),_.addVectors(p,f),v.crossVectors(g,_),_.crossVectors(v,g),v.normalize(),_.normalize(),s=0;s<=r;++s){var M=s/r*Math.PI*2,x=-t*Math.cos(M),b=t*Math.sin(M);d.x=f.x+(x*_.x+b*v.x),d.y=f.y+(x*_.y+b*v.y),d.z=f.z+(x*_.z+b*v.z),u.push(d.x,d.y,d.z),m.subVectors(d,f).normalize(),h.push(m.x,m.y,m.z),c.push(o/n),c.push(s/r)}}for(s=1;s<=n;s++)for(o=1;o<=r;o++){var w=(r+1)*(s-1)+(o-1),L=(r+1)*s+(o-1),q=(r+1)*s+o,S=(r+1)*(s-1)+o;l.push(w,L,S),l.push(L,q,S)}function T(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new tr(u,3)),this.addAttribute("normal",new tr(h,3)),this.addAttribute("uv",new tr(c,2))}function so(e,t,n,r,i){Wn.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new lo(e,t,n,r,i)),this.mergeVertices()}function lo(e,t,n,r,i){or.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],l=[],u=[],h=[],c=new tn,d=new tn,m=new tn;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var f=o/r*i,p=a/n*Math.PI*2;d.x=(e+t*Math.cos(p))*Math.cos(f),d.y=(e+t*Math.cos(p))*Math.sin(f),d.z=t*Math.sin(p),l.push(d.x,d.y,d.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),m.subVectors(d,c).normalize(),u.push(m.x,m.y,m.z),h.push(o/r),h.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,_=(r+1)*(a-1)+o,y=(r+1)*a+o;s.push(v,g,y),s.push(g,_,y)}this.setIndex(s),this.addAttribute("position",new tr(l,3)),this.addAttribute("normal",new tr(u,3)),this.addAttribute("uv",new tr(h,2))}wa.prototype.isFogExp2=!0,wa.prototype.clone=function(){return new wa(this.color,this.density)},wa.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},La.prototype.isFog=!0,La.prototype.clone=function(){return new La(this.color,this.near,this.far)},La.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},qa.prototype=Object.assign(Object.create(zn.prototype),{constructor:qa,copy:function(e,t){return zn.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=zn.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Object.defineProperty(Sa.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Sa.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Ta.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ta.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Ea.prototype=Object.create(Lr.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isSpriteMaterial=!0,Ea.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},Da.prototype=Object.assign(Object.create(zn.prototype),{constructor:Da,isSprite:!0,raycast:function(){var e=new tn,t=new tn,n=new tn,r=new Qt,i=new Qt,a=new $t,o=new tn,s=new tn,l=new tn,u=new Qt,h=new Qt,c=new Qt;function d(e,t,n,o,s,l){r.subVectors(e,n).addScalar(.5).multiply(o),void 0!==s?(i.x=l*r.x-s*r.y,i.y=s*r.x+l*r.y):i.copy(r),e.copy(t),e.x+=i.x,e.y+=i.y,e.applyMatrix4(a)}return function(r,i){t.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var m,f,p=this.material.rotation;0!==p&&(f=Math.cos(p),m=Math.sin(p));var v=this.center;d(o.set(-.5,-.5,0),n,v,t,m,f),d(s.set(.5,-.5,0),n,v,t,m,f),d(l.set(.5,.5,0),n,v,t,m,f),u.set(0,0),h.set(1,0),c.set(1,1);var g=r.ray.intersectTriangle(o,s,l,!1,e);if(null!==g||(d(s.set(-.5,.5,0),n,v,t,m,f),h.set(0,1),null!==(g=r.ray.intersectTriangle(o,l,s,!1,e)))){var _=r.ray.origin.distanceTo(e);_<r.near||_>r.far||i.push({distance:_,point:e.clone(),uv:Tr.getUV(e,o,s,l,u,h,c,new Qt),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return zn.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),ka.prototype=Object.assign(Object.create(zn.prototype),{constructor:ka,copy:function(e){zn.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:(da=new tn,function(e,t){da.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(da);this.getObjectForDistance(n).raycast(e,t)}),update:function(){var e=new tn,t=new tn;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&i>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(e){var t=zn.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Aa.prototype=Object.assign(Object.create(Dr.prototype),{constructor:Aa,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new dn,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Dr.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Pa.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new $t;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(ma=new $t,fa=new $t,function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:fa;ma.multiplyMatrices(o,t[i]),ma.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new Pa(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),Ca.prototype=Object.assign(Object.create(zn.prototype),{constructor:Ca,isBone:!0}),Ra.prototype=Object.create(Lr.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isLineBasicMaterial=!0,Ra.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Ya.prototype=Object.assign(Object.create(zn.prototype),{constructor:Ya,isLine:!0,computeLineDistances:(pa=new tn,va=new tn,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)pa.fromBufferAttribute(t,r-1),va.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=pa.distanceTo(va);e.addAttribute("lineDistance",new tr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;for((n=e.lineDistances)[0]=0,r=1,i=a.length;r<i;r++)n[r]=n[r-1],n[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var e=new $t,t=new Sr,n=new gn;return function(r,i){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=a,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=new tn,c=new tn,d=new tn,m=new tn,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var p=o.index,v=o.attributes.position.array;if(null!==p)for(var g=p.array,_=0,y=g.length-1;_<y;_+=f){var M=g[_],x=g[_+1];if(h.fromArray(v,3*M),c.fromArray(v,3*x),!(t.distanceSqToSegment(h,c,m,d)>u))m.applyMatrix4(this.matrixWorld),(L=r.ray.origin.distanceTo(m))<r.near||L>r.far||i.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}else for(_=0,y=v.length/3-1;_<y;_+=f){if(h.fromArray(v,3*_),c.fromArray(v,3*_+3),!(t.distanceSqToSegment(h,c,m,d)>u))m.applyMatrix4(this.matrixWorld),(L=r.ray.origin.distanceTo(m))<r.near||L>r.far||i.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else if(o.isGeometry){var b=o.vertices,w=b.length;for(_=0;_<w-1;_+=f){var L;if(!(t.distanceSqToSegment(b[_],b[_+1],m,d)>u))m.applyMatrix4(this.matrixWorld),(L=r.ray.origin.distanceTo(m))<r.near||L>r.far||i.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),copy:function(e){return zn.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Oa.prototype=Object.assign(Object.create(Ya.prototype),{constructor:Oa,isLineSegments:!0,computeLineDistances:function(){var e=new tn,t=new tn;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],a=0,o=r.count;a<o;a+=2)e.fromBufferAttribute(r,a),t.fromBufferAttribute(r,a+1),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+e.distanceTo(t);n.addAttribute("lineDistance",new tr(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,a=0,o=s.length;a<o;a+=2)e.copy(s[a]),t.copy(s[a+1]),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+e.distanceTo(t)}return this}}()}),Ia.prototype=Object.assign(Object.create(Ya.prototype),{constructor:Ia,isLineLoop:!0}),Fa.prototype=Object.create(Lr.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isPointsMaterial=!0,Fa.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Ha.prototype=Object.assign(Object.create(zn.prototype),{constructor:Ha,isPoints:!0,raycast:function(){var e=new $t,t=new Sr,n=new gn;return function(r,i){var a=this,o=this.geometry,s=this.matrixWorld,l=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=l,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var u=l/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,c=new tn,d=new tn;if(o.isBufferGeometry){var m=o.index,f=o.attributes.position.array;if(null!==m)for(var p=m.array,v=0,g=p.length;v<g;v++){var _=p[v];c.fromArray(f,3*_),x(c,_)}else{v=0;for(var y=f.length/3;v<y;v++)c.fromArray(f,3*v),x(c,v)}}else{var M=o.vertices;for(v=0,y=M.length;v<y;v++)x(M[v],v)}}function x(e,n){var o=t.distanceSqToPoint(e);if(o<h){t.closestPointToPoint(e,d),d.applyMatrix4(s);var l=r.ray.origin.distanceTo(d);if(l<r.near||l>r.far)return;i.push({distance:l,distanceToRay:Math.sqrt(o),point:d.clone(),index:n,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Na.prototype=Object.assign(Object.create(cn.prototype),{constructor:Na,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ja.prototype=Object.create(cn.prototype),ja.prototype.constructor=ja,ja.prototype.isCompressedTexture=!0,za.prototype=Object.create(cn.prototype),za.prototype.constructor=za,za.prototype.isCanvasTexture=!0,Ba.prototype=Object.create(cn.prototype),Ba.prototype.constructor=Ba,Ba.prototype.isDepthTexture=!0,Ua.prototype=Object.create(or.prototype),Ua.prototype.constructor=Ua,Ga.prototype=Object.create(Wn.prototype),Ga.prototype.constructor=Ga,Wa.prototype=Object.create(or.prototype),Wa.prototype.constructor=Wa,Va.prototype=Object.create(Wn.prototype),Va.prototype.constructor=Va,Ja.prototype=Object.create(or.prototype),Ja.prototype.constructor=Ja,Xa.prototype=Object.create(Wn.prototype),Xa.prototype.constructor=Xa,Za.prototype=Object.create(Ja.prototype),Za.prototype.constructor=Za,Ka.prototype=Object.create(Wn.prototype),Ka.prototype.constructor=Ka,Qa.prototype=Object.create(Ja.prototype),Qa.prototype.constructor=Qa,$a.prototype=Object.create(Wn.prototype),$a.prototype.constructor=$a,eo.prototype=Object.create(Ja.prototype),eo.prototype.constructor=eo,to.prototype=Object.create(Wn.prototype),to.prototype.constructor=to,no.prototype=Object.create(Ja.prototype),no.prototype.constructor=no,ro.prototype=Object.create(Wn.prototype),ro.prototype.constructor=ro,io.prototype=Object.create(or.prototype),io.prototype.constructor=io,ao.prototype=Object.create(Wn.prototype),ao.prototype.constructor=ao,oo.prototype=Object.create(or.prototype),oo.prototype.constructor=oo,so.prototype=Object.create(Wn.prototype),so.prototype.constructor=so,lo.prototype=Object.create(or.prototype),lo.prototype.constructor=lo;var uo=function(e,t,n){n=n||2;var r,i,a,o,s,l,u,h=t&&t.length,c=h?t[0]*n:e.length,d=ho(e,0,c,n,!0),m=[];if(!d)return m;if(h&&(d=function(e,t,n,r){var i,a,o,s,l,u=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,(l=ho(e,o,s,r,!1))===l.next&&(l.steiner=!0),u.push(xo(l));for(u.sort(_o),i=0;i<u.length;i++)yo(u[i],n),n=co(n,n.next);return n}(e,t,d,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var f=n;f<c;f+=n)(s=e[f])<r&&(r=s),(l=e[f+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-r,o-i))?1/u:0}return mo(d,m,n,r,i,u),m};function ho(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Do(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Do(a,e[a],e[a+1],o);return o&&qo(o,o.next)&&(ko(o),o=o.next),o}function co(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!qo(r,r.next)&&0!==Lo(r.prev,r,r.next))r=r.next;else{if(ko(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function mo(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Mo(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?po(e,r,i,a):fo(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),ko(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?mo(e=vo(e,t,n),t,n,r,i,a,2):2===o&&go(e,t,n,r,i,a):mo(co(e),t,n,r,i,a,1);break}}}function fo(e){var t=e.prev,n=e,r=e.next;if(Lo(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(bo(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Lo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function po(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Lo(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,h=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,c=Mo(s,l,t,n,r),d=Mo(u,h,t,n,r),m=e.nextZ;m&&m.z<=d;){if(m!==e.prev&&m!==e.next&&bo(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&Lo(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(m=e.prevZ;m&&m.z>=c;){if(m!==e.prev&&m!==e.next&&bo(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&Lo(m.prev,m,m.next)>=0)return!1;m=m.prevZ}return!0}function vo(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!qo(i,a)&&So(i,r,r.next,a)&&To(i,a)&&To(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),ko(r),ko(r.next),r=e=a),r=r.next}while(r!==e);return r}function go(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&wo(o,s)){var l=Eo(o,s);return o=co(o,o.next),l=co(l,l.next),mo(o,t,n,r,i,a),void mo(l,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function _o(e,t){return e.x-t.x}function yo(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var l,u=n,h=n.x,c=n.y,d=1/0;r=n.next;for(;r!==u;)i>=r.x&&r.x>=h&&i!==r.x&&bo(a<c?i:o,a,h,c,a<c?o:i,a,r.x,r.y)&&((l=Math.abs(a-r.y)/(i-r.x))<d||l===d&&r.x>n.x)&&To(r,e)&&(n=r,d=l),r=r.next;return n}(e,t)){var n=Eo(t,e);co(n,n.next)}}function Mo(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function xo(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function bo(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function wo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&So(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&To(e,t)&&To(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function Lo(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function qo(e,t){return e.x===t.x&&e.y===t.y}function So(e,t,n,r){return!!(qo(e,t)&&qo(n,r)||qo(e,r)&&qo(n,t))||Lo(e,t,n)>0!=Lo(e,t,r)>0&&Lo(n,r,e)>0!=Lo(n,r,t)>0}function To(e,t){return Lo(e.prev,e,e.next)<0?Lo(e,t,e.next)>=0&&Lo(e,e.prev,t)>=0:Lo(e,t,e.prev)<0||Lo(e,e.next,t)<0}function Eo(e,t){var n=new Ao(e.i,e.x,e.y),r=new Ao(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Do(e,t,n,r){var i=new Ao(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ko(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ao(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Po={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Po.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Co(e),Ro(n,e);var a=e.length;t.forEach(Co);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Ro(n,t[o]);var s=uo(n,r);for(o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}};function Co(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Ro(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Yo(e,t){Wn.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Oo(e,t)),this.mergeVertices()}function Oo(e,t){or.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],a=0,o=e.length;a<o;a++){s(e[a])}function s(e){var a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:100,u=void 0===t.bevelEnabled||t.bevelEnabled,h=void 0!==t.bevelThickness?t.bevelThickness:6,c=void 0!==t.bevelSize?t.bevelSize:h-2,d=void 0!==t.bevelSegments?t.bevelSegments:3,m=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:Io;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);var p,v,g,_,y,M,x,b,w=!1;m&&(p=m.getSpacedPoints(s),w=!0,u=!1,v=m.computeFrenetFrames(s,!1),g=new tn,_=new tn,y=new tn),u||(d=0,h=0,c=0);var L=e.extractPoints(o),q=L.shape,S=L.holes;if(!Po.isClockWise(q))for(q=q.reverse(),x=0,b=S.length;x<b;x++)M=S[x],Po.isClockWise(M)&&(S[x]=M.reverse());var T=Po.triangulateShape(q,S),E=q;for(x=0,b=S.length;x<b;x++)M=S[x],q=q.concat(M);function D(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var k,A,P,C,R,Y,O=q.length,I=T.length;function F(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,h=o*o+s*s,c=o*u-s*l;if(Math.abs(c)>Number.EPSILON){var d=Math.sqrt(h),m=Math.sqrt(l*l+u*u),f=t.x-s/d,p=t.y+o/d,v=((n.x-u/m-f)*u-(n.y+l/m-p)*l)/(o*u-s*l),g=(r=f+o*v-e.x)*r+(i=p+s*v-e.y)*i;if(g<=2)return new Qt(r,i);a=Math.sqrt(g/2)}else{var _=!1;o>Number.EPSILON?l>Number.EPSILON&&(_=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(_=!0):Math.sign(s)===Math.sign(u)&&(_=!0),_?(r=-s,i=o,a=Math.sqrt(h)):(r=o,i=s,a=Math.sqrt(h/2))}return new Qt(r/a,i/a)}for(var H=[],N=0,j=E.length,z=j-1,B=N+1;N<j;N++,z++,B++)z===j&&(z=0),B===j&&(B=0),H[N]=F(E[N],E[z],E[B]);var U,G,W=[],V=H.concat();for(x=0,b=S.length;x<b;x++){for(M=S[x],U=[],N=0,z=(j=M.length)-1,B=N+1;N<j;N++,z++,B++)z===j&&(z=0),B===j&&(B=0),U[N]=F(M[N],M[z],M[B]);W.push(U),V=V.concat(U)}for(k=0;k<d;k++){for(P=k/d,C=h*Math.cos(P*Math.PI/2),A=c*Math.sin(P*Math.PI/2),N=0,j=E.length;N<j;N++)X((R=D(E[N],H[N],A)).x,R.y,-C);for(x=0,b=S.length;x<b;x++)for(M=S[x],U=W[x],N=0,j=M.length;N<j;N++)X((R=D(M[N],U[N],A)).x,R.y,-C)}for(A=c,N=0;N<O;N++)R=u?D(q[N],V[N],A):q[N],w?(_.copy(v.normals[0]).multiplyScalar(R.x),g.copy(v.binormals[0]).multiplyScalar(R.y),y.copy(p[0]).add(_).add(g),X(y.x,y.y,y.z)):X(R.x,R.y,0);for(G=1;G<=s;G++)for(N=0;N<O;N++)R=u?D(q[N],V[N],A):q[N],w?(_.copy(v.normals[G]).multiplyScalar(R.x),g.copy(v.binormals[G]).multiplyScalar(R.y),y.copy(p[G]).add(_).add(g),X(y.x,y.y,y.z)):X(R.x,R.y,l/s*G);for(k=d-1;k>=0;k--){for(P=k/d,C=h*Math.cos(P*Math.PI/2),A=c*Math.sin(P*Math.PI/2),N=0,j=E.length;N<j;N++)X((R=D(E[N],H[N],A)).x,R.y,l+C);for(x=0,b=S.length;x<b;x++)for(M=S[x],U=W[x],N=0,j=M.length;N<j;N++)R=D(M[N],U[N],A),w?X(R.x,R.y+p[s-1].y,p[s-1].x+C):X(R.x,R.y,l+C)}function J(e,t){var n,r;for(N=e.length;--N>=0;){n=N,(r=N-1)<0&&(r=e.length-1);var i=0,a=s+2*d;for(i=0;i<a;i++){var o=O*i,l=O*(i+1);K(t+n+o,t+r+o,t+r+l,t+n+l)}}}function X(e,t,n){a.push(e),a.push(t),a.push(n)}function Z(e,t,i){Q(e),Q(t),Q(i);var a=r.length/3,o=f.generateTopUV(n,r,a-3,a-2,a-1);$(o[0]),$(o[1]),$(o[2])}function K(e,t,i,a){Q(e),Q(t),Q(a),Q(t),Q(i),Q(a);var o=r.length/3,s=f.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function Q(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function $(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(u){var t=0,i=O*t;for(N=0;N<I;N++)Z((Y=T[N])[2]+i,Y[1]+i,Y[0]+i);for(i=O*(t=s+2*d),N=0;N<I;N++)Z((Y=T[N])[0]+i,Y[1]+i,Y[2]+i)}else{for(N=0;N<I;N++)Z((Y=T[N])[2],Y[1],Y[0]);for(N=0;N<I;N++)Z((Y=T[N])[0]+O*s,Y[1]+O*s,Y[2]+O*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(J(E,t),t+=E.length,x=0,b=S.length;x<b;x++)J(M=S[x],t),t+=M.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new tr(r,3)),this.addAttribute("uv",new tr(i,2)),this.computeVertexNormals()}Yo.prototype=Object.create(Wn.prototype),Yo.prototype.constructor=Yo,Yo.prototype.toJSON=function(){var e=Wn.prototype.toJSON.call(this);return Fo(this.parameters.shapes,this.parameters.options,e)},Oo.prototype=Object.create(or.prototype),Oo.prototype.constructor=Oo,Oo.prototype.toJSON=function(){var e=or.prototype.toJSON.call(this);return Fo(this.parameters.shapes,this.parameters.options,e)};var Io={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],h=t[3*i+1];return[new Qt(a,o),new Qt(s,l),new Qt(u,h)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],h=t[3*r+1],c=t[3*r+2],d=t[3*i],m=t[3*i+1],f=t[3*i+2],p=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-h)<.01?[new Qt(o,1-l),new Qt(u,1-c),new Qt(d,1-f),new Qt(p,1-g)]:[new Qt(s,1-l),new Qt(h,1-c),new Qt(m,1-f),new Qt(v,1-g)]}};function Fo(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Ho(e,t){Wn.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new No(e,t)),this.mergeVertices()}function No(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Wn;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Oo.call(this,r,t),this.type="TextBufferGeometry"}function jo(e,t,n,r,i,a,o){Wn.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new zo(e,t,n,r,i,a,o)),this.mergeVertices()}function zo(e,t,n,r,i,a,o){or.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,l,u=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),h=0,c=[],d=new tn,m=new tn,f=[],p=[],v=[],g=[];for(l=0;l<=n;l++){var _=[],y=l/n;for(s=0;s<=t;s++){var M=s/t;d.x=-e*Math.cos(r+M*i)*Math.sin(a+y*o),d.y=e*Math.cos(a+y*o),d.z=e*Math.sin(r+M*i)*Math.sin(a+y*o),p.push(d.x,d.y,d.z),m.set(d.x,d.y,d.z).normalize(),v.push(m.x,m.y,m.z),g.push(M,1-y),_.push(h++)}c.push(_)}for(l=0;l<n;l++)for(s=0;s<t;s++){var x=c[l][s+1],b=c[l][s],w=c[l+1][s],L=c[l+1][s+1];(0!==l||a>0)&&f.push(x,b,L),(l!==n-1||u<Math.PI)&&f.push(b,w,L)}this.setIndex(f),this.addAttribute("position",new tr(p,3)),this.addAttribute("normal",new tr(v,3)),this.addAttribute("uv",new tr(g,2))}function Bo(e,t,n,r,i,a){Wn.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new Uo(e,t,n,r,i,a)),this.mergeVertices()}function Uo(e,t,n,r,i,a){or.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},e=e||.5,t=t||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,l,u=[],h=[],c=[],d=[],m=e,f=(t-e)/(r=void 0!==r?Math.max(1,r):1),p=new tn,v=new Qt;for(s=0;s<=r;s++){for(l=0;l<=n;l++)o=i+l/n*a,p.x=m*Math.cos(o),p.y=m*Math.sin(o),h.push(p.x,p.y,p.z),c.push(0,0,1),v.x=(p.x/t+1)/2,v.y=(p.y/t+1)/2,d.push(v.x,v.y);m+=f}for(s=0;s<r;s++){var g=s*(n+1);for(l=0;l<n;l++){var _=o=l+g,y=o+n+1,M=o+n+2,x=o+1;u.push(_,y,x),u.push(y,M,x)}}this.setIndex(u),this.addAttribute("position",new tr(h,3)),this.addAttribute("normal",new tr(c,3)),this.addAttribute("uv",new tr(d,2))}function Go(e,t,n,r){Wn.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Wo(e,t,n,r)),this.mergeVertices()}function Wo(e,t,n,r){or.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Kt.clamp(r,0,2*Math.PI);var i,a,o,s=[],l=[],u=[],h=1/t,c=new tn,d=new Qt;for(a=0;a<=t;a++){var m=n+a*h*r,f=Math.sin(m),p=Math.cos(m);for(o=0;o<=e.length-1;o++)c.x=e[o].x*f,c.y=e[o].y,c.z=e[o].x*p,l.push(c.x,c.y,c.z),d.x=a/t,d.y=o/(e.length-1),u.push(d.x,d.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var v=i=o+a*e.length,g=i+e.length,_=i+e.length+1,y=i+1;s.push(v,g,y),s.push(g,_,y)}if(this.setIndex(s),this.addAttribute("position",new tr(l,3)),this.addAttribute("uv",new tr(u,2)),this.computeVertexNormals(),r===2*Math.PI){var M=this.attributes.normal.array,x=new tn,b=new tn,w=new tn;for(i=t*e.length*3,a=0,o=0;a<e.length;a++,o+=3)x.x=M[o+0],x.y=M[o+1],x.z=M[o+2],b.x=M[i+o+0],b.y=M[i+o+1],b.z=M[i+o+2],w.addVectors(x,b).normalize(),M[o+0]=M[i+o+0]=w.x,M[o+1]=M[i+o+1]=w.y,M[o+2]=M[i+o+2]=w.z}}function Vo(e,t){Wn.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Jo(e,t)),this.mergeVertices()}function Jo(e,t){or.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],a=[],o=0,s=0;if(!1===Array.isArray(e))u(e);else for(var l=0;l<e.length;l++)u(e[l]),this.addGroup(o,s,l),o+=s,s=0;function u(e){var o,l,u,h=r.length/3,c=e.extractPoints(t),d=c.shape,m=c.holes;if(!1===Po.isClockWise(d))for(d=d.reverse(),o=0,l=m.length;o<l;o++)u=m[o],!0===Po.isClockWise(u)&&(m[o]=u.reverse());var f=Po.triangulateShape(d,m);for(o=0,l=m.length;o<l;o++)u=m[o],d=d.concat(u);for(o=0,l=d.length;o<l;o++){var p=d[o];r.push(p.x,p.y,0),i.push(0,0,1),a.push(p.x,p.y)}for(o=0,l=f.length;o<l;o++){var v=f[o],g=v[0]+h,_=v[1]+h,y=v[2]+h;n.push(g,_,y),s+=3}}this.setIndex(n),this.addAttribute("position",new tr(r,3)),this.addAttribute("normal",new tr(i,3)),this.addAttribute("uv",new tr(a,2))}function Xo(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Zo(e,t){or.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,a,o=[],s=Math.cos(Kt.DEG2RAD*t),l=[0,0],u={},h=["a","b","c"];e.isBufferGeometry?(a=new Wn).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,d=a.faces,m=0,f=d.length;m<f;m++)for(var p=d[m],v=0;v<3;v++)n=p[h[v]],r=p[h[(v+1)%3]],l[0]=Math.min(n,r),l[1]=Math.max(n,r),void 0===u[i=l[0]+","+l[1]]?u[i]={index1:l[0],index2:l[1],face1:m,face2:void 0}:u[i].face2=m;for(i in u){var g=u[i];if(void 0===g.face2||d[g.face1].normal.dot(d[g.face2].normal)<=s){var _=c[g.index1];o.push(_.x,_.y,_.z),_=c[g.index2],o.push(_.x,_.y,_.z)}}this.addAttribute("position",new tr(o,3))}function Ko(e,t,n,r,i,a,o,s){Wn.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Qo(e,t,n,r,i,a,o,s)),this.mergeVertices()}function Qo(e,t,n,r,i,a,o,s){or.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};var l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var u=[],h=[],c=[],d=[],m=0,f=[],p=n/2,v=0;function g(n){var i,a,f,g=new Qt,_=new tn,y=0,M=!0===n?e:t,x=!0===n?1:-1;for(a=m,i=1;i<=r;i++)h.push(0,p*x,0),c.push(0,x,0),d.push(.5,.5),m++;for(f=m,i=0;i<=r;i++){var b=i/r*s+o,w=Math.cos(b),L=Math.sin(b);_.x=M*L,_.y=p*x,_.z=M*w,h.push(_.x,_.y,_.z),c.push(0,x,0),g.x=.5*w+.5,g.y=.5*L*x+.5,d.push(g.x,g.y),m++}for(i=0;i<r;i++){var q=a+i,S=f+i;!0===n?u.push(S,S+1,q):u.push(S+1,S,q),y+=3}l.addGroup(v,y,!0===n?1:2),v+=y}!function(){var a,g,_=new tn,y=new tn,M=0,x=(t-e)/n;for(g=0;g<=i;g++){var b=[],w=g/i,L=w*(t-e)+e;for(a=0;a<=r;a++){var q=a/r,S=q*s+o,T=Math.sin(S),E=Math.cos(S);y.x=L*T,y.y=-w*n+p,y.z=L*E,h.push(y.x,y.y,y.z),_.set(T,x,E).normalize(),c.push(_.x,_.y,_.z),d.push(q,1-w),b.push(m++)}f.push(b)}for(a=0;a<r;a++)for(g=0;g<i;g++){var D=f[g][a],k=f[g+1][a],A=f[g+1][a+1],P=f[g][a+1];u.push(D,k,P),u.push(k,A,P),M+=6}l.addGroup(v,M,0),v+=M}(),!1===a&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(u),this.addAttribute("position",new tr(h,3)),this.addAttribute("normal",new tr(c,3)),this.addAttribute("uv",new tr(d,2))}function $o(e,t,n,r,i,a,o){Ko.call(this,0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function es(e,t,n,r,i,a,o){Qo.call(this,0,e,t,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function ts(e,t,n,r){Wn.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new ns(e,t,n,r)),this.mergeVertices()}function ns(e,t,n,r){or.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,a,o=[],s=[],l=[],u=[],h=new tn,c=new Qt;for(s.push(0,0,0),l.push(0,0,1),u.push(.5,.5),a=0,i=3;a<=t;a++,i+=3){var d=n+a/t*r;h.x=e*Math.cos(d),h.y=e*Math.sin(d),s.push(h.x,h.y,h.z),l.push(0,0,1),c.x=(s[i]/e+1)/2,c.y=(s[i+1]/e+1)/2,u.push(c.x,c.y)}for(i=1;i<=t;i++)o.push(i,i+1,0);this.setIndex(o),this.addAttribute("position",new tr(s,3)),this.addAttribute("normal",new tr(l,3)),this.addAttribute("uv",new tr(u,2))}Ho.prototype=Object.create(Wn.prototype),Ho.prototype.constructor=Ho,No.prototype=Object.create(Oo.prototype),No.prototype.constructor=No,jo.prototype=Object.create(Wn.prototype),jo.prototype.constructor=jo,zo.prototype=Object.create(or.prototype),zo.prototype.constructor=zo,Bo.prototype=Object.create(Wn.prototype),Bo.prototype.constructor=Bo,Uo.prototype=Object.create(or.prototype),Uo.prototype.constructor=Uo,Go.prototype=Object.create(Wn.prototype),Go.prototype.constructor=Go,Wo.prototype=Object.create(or.prototype),Wo.prototype.constructor=Wo,Vo.prototype=Object.create(Wn.prototype),Vo.prototype.constructor=Vo,Vo.prototype.toJSON=function(){var e=Wn.prototype.toJSON.call(this);return Xo(this.parameters.shapes,e)},Jo.prototype=Object.create(or.prototype),Jo.prototype.constructor=Jo,Jo.prototype.toJSON=function(){var e=or.prototype.toJSON.call(this);return Xo(this.parameters.shapes,e)},Zo.prototype=Object.create(or.prototype),Zo.prototype.constructor=Zo,Ko.prototype=Object.create(Wn.prototype),Ko.prototype.constructor=Ko,Qo.prototype=Object.create(or.prototype),Qo.prototype.constructor=Qo,$o.prototype=Object.create(Ko.prototype),$o.prototype.constructor=$o,es.prototype=Object.create(Qo.prototype),es.prototype.constructor=es,ts.prototype=Object.create(Wn.prototype),ts.prototype.constructor=ts,ns.prototype=Object.create(or.prototype),ns.prototype.constructor=ns;var rs=Object.freeze({WireframeGeometry:Ua,ParametricGeometry:Ga,ParametricBufferGeometry:Wa,TetrahedronGeometry:Xa,TetrahedronBufferGeometry:Za,OctahedronGeometry:Ka,OctahedronBufferGeometry:Qa,IcosahedronGeometry:$a,IcosahedronBufferGeometry:eo,DodecahedronGeometry:to,DodecahedronBufferGeometry:no,PolyhedronGeometry:Va,PolyhedronBufferGeometry:Ja,TubeGeometry:ro,TubeBufferGeometry:io,TorusKnotGeometry:ao,TorusKnotBufferGeometry:oo,TorusGeometry:so,TorusBufferGeometry:lo,TextGeometry:Ho,TextBufferGeometry:No,SphereGeometry:jo,SphereBufferGeometry:zo,RingGeometry:Bo,RingBufferGeometry:Uo,PlaneGeometry:ur,PlaneBufferGeometry:hr,LatheGeometry:Go,LatheBufferGeometry:Wo,ShapeGeometry:Vo,ShapeBufferGeometry:Jo,ExtrudeGeometry:Yo,ExtrudeBufferGeometry:Oo,EdgesGeometry:Zo,ConeGeometry:$o,ConeBufferGeometry:es,CylinderGeometry:Ko,CylinderBufferGeometry:Qo,CircleGeometry:ts,CircleBufferGeometry:ns,BoxGeometry:sr,BoxBufferGeometry:lr});function is(e){Lr.call(this),this.type="ShadowMaterial",this.color=new En(0),this.transparent=!0,this.setValues(e)}function as(e){qr.call(this,e),this.type="RawShaderMaterial"}function os(e){Lr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new En(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new Qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ss(e){os.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function ls(e){Lr.call(this),this.type="MeshPhongMaterial",this.color=new En(16777215),this.specular=new En(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new Qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ce,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function us(e){ls.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function hs(e){Lr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new Qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function cs(e){Lr.call(this),this.type="MeshLambertMaterial",this.color=new En(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ce,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ds(e){Lr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new En(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new Qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function ms(e){Ra.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}is.prototype=Object.create(Lr.prototype),is.prototype.constructor=is,is.prototype.isShadowMaterial=!0,is.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.color.copy(e.color),this},as.prototype=Object.create(qr.prototype),as.prototype.constructor=as,as.prototype.isRawShaderMaterial=!0,os.prototype=Object.create(Lr.prototype),os.prototype.constructor=os,os.prototype.isMeshStandardMaterial=!0,os.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ss.prototype=Object.create(os.prototype),ss.prototype.constructor=ss,ss.prototype.isMeshPhysicalMaterial=!0,ss.prototype.copy=function(e){return os.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},ls.prototype=Object.create(Lr.prototype),ls.prototype.constructor=ls,ls.prototype.isMeshPhongMaterial=!0,ls.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},us.prototype=Object.create(ls.prototype),us.prototype.constructor=us,us.prototype.isMeshToonMaterial=!0,us.prototype.copy=function(e){return ls.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},hs.prototype=Object.create(Lr.prototype),hs.prototype.constructor=hs,hs.prototype.isMeshNormalMaterial=!0,hs.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},cs.prototype=Object.create(Lr.prototype),cs.prototype.constructor=cs,cs.prototype.isMeshLambertMaterial=!0,cs.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ds.prototype=Object.create(Lr.prototype),ds.prototype.constructor=ds,ds.prototype.isMeshMatcapMaterial=!0,ds.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ms.prototype=Object.create(Ra.prototype),ms.prototype.constructor=ms,ms.prototype.isLineDashedMaterial=!0,ms.prototype.copy=function(e){return Ra.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var fs=Object.freeze({ShadowMaterial:is,SpriteMaterial:Ea,RawShaderMaterial:as,ShaderMaterial:qr,PointsMaterial:Fa,MeshPhysicalMaterial:ss,MeshStandardMaterial:os,MeshPhongMaterial:ls,MeshToonMaterial:us,MeshNormalMaterial:hs,MeshLambertMaterial:cs,MeshDepthMaterial:ta,MeshDistanceMaterial:na,MeshBasicMaterial:Er,MeshMatcapMaterial:ds,LineDashedMaterial:ms,LineBasicMaterial:Ra,Material:Lr}),ps={arraySlice:function(e,t,n){return ps.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}};function vs(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function gs(e,t,n,r){vs.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function _s(e,t,n,r){vs.call(this,e,t,n,r)}function ys(e,t,n,r){vs.call(this,e,t,n,r)}function Ms(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ps.convertArray(t,this.TimeBufferType),this.values=ps.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function xs(e,t,n){Ms.call(this,e,t,n)}function bs(e,t,n,r){Ms.call(this,e,t,n,r)}function ws(e,t,n,r){Ms.call(this,e,t,n,r)}function Ls(e,t,n,r){vs.call(this,e,t,n,r)}function qs(e,t,n,r){Ms.call(this,e,t,n,r)}function Ss(e,t,n,r){Ms.call(this,e,t,n,r)}function Ts(e,t,n,r){Ms.call(this,e,t,n,r)}function Es(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Kt.generateUUID(),this.duration<0&&this.resetDuration()}function Ds(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ws;case"vector":case"vector2":case"vector3":case"vector4":return Ts;case"color":return bs;case"quaternion":return qs;case"bool":case"boolean":return xs;case"string":return Ss}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];ps.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(vs.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(vs.prototype,{beforeStart_:vs.prototype.copySampleValue_,afterEnd_:vs.prototype.copySampleValue_}),gs.prototype=Object.assign(Object.create(vs.prototype),{constructor:gs,DefaultSettings_:{endingStart:Ct,endingEnd:Ct},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Rt:i=e,o=2*t-n;break;case Yt:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Rt:a=e,s=2*n-t;break;case Yt:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,d=this._weightNext,m=(n-t)/(r-t),f=m*m,p=f*m,v=-c*p+2*c*f-c*m,g=(1+c)*p+(-1.5-2*c)*f+(-.5+c)*m+1,_=(-1-d)*p+(1.5+d)*f+.5*m,y=d*p-d*f,M=0;M!==o;++M)i[M]=v*a[u+M]+g*a[l+M]+_*a[s+M]+y*a[h+M];return i}}),_s.prototype=Object.assign(Object.create(vs.prototype),{constructor:_s,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),h=1-u,c=0;c!==o;++c)i[c]=a[l+c]*h+a[s+c]*u;return i}}),ys.prototype=Object.assign(Object.create(vs.prototype),{constructor:ys,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Ms,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:ps.convertArray(e.times,Array),values:ps.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Ms.prototype,{constructor:Ms,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:At,InterpolantFactoryMethodDiscrete:function(e){return new ys(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new _s(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new gs(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case kt:t=this.InterpolantFactoryMethodDiscrete;break;case At:t=this.InterpolantFactoryMethodLinear;break;case Pt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return kt;case this.InterpolantFactoryMethodLinear:return At;case this.InterpolantFactoryMethodSmooth:return Pt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=ps.arraySlice(n,i,a),this.values=ps.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&ps.isTypedArray(r)){o=0;for(var l=r.length;o!==l;++o){var u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===Pt,i=1,a=e.length-1,o=1;o<a;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(r)s=!0;else for(var u=o*n,h=u-n,c=u+n,d=0;d!==n;++d){var m=t[u+d];if(m!==t[h+d]||m!==t[c+d]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];var f=o*n,p=i*n;for(d=0;d!==n;++d)t[p+d]=t[f+d]}++i}}if(a>0){e[i]=e[a];for(f=a*n,p=i*n,d=0;d!==n;++d)t[p+d]=t[f+d];++i}return i!==e.length&&(this.times=ps.arraySlice(e,0,i),this.values=ps.arraySlice(t,0,i*n)),this}}),xs.prototype=Object.assign(Object.create(Ms.prototype),{constructor:xs,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:kt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),bs.prototype=Object.assign(Object.create(Ms.prototype),{constructor:bs,ValueTypeName:"color"}),ws.prototype=Object.assign(Object.create(Ms.prototype),{constructor:ws,ValueTypeName:"number"}),Ls.prototype=Object.assign(Object.create(vs.prototype),{constructor:Ls,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=(n-t)/(r-t),u=s+o;s!==u;s+=4)en.slerpFlat(i,0,a,s-o,a,s,l);return i}}),qs.prototype=Object.assign(Object.create(Ms.prototype),{constructor:qs,ValueTypeName:"quaternion",DefaultInterpolation:At,InterpolantFactoryMethodLinear:function(e){return new Ls(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Ss.prototype=Object.assign(Object.create(Ms.prototype),{constructor:Ss,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:kt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ts.prototype=Object.assign(Object.create(Ms.prototype),{constructor:Ts,ValueTypeName:"vector"}),Object.assign(Es,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Ds(n[i]).scale(r));return new Es(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,a=n.length;i!==a;++i)t.push(Ms.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=ps.getKeyframeOrder(s);s=ps.sortedArray(s,1,u),l=ps.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new ws(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new Es(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var u=r[c=l[1]];u||(r[c]=u=[]),u.push(s)}}var h=[];for(var c in r)h.push(Es.CreateFromMorphTargetSequence(c,r[c],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];ps.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var h={},c=0;c<u.length;c++)if(u[c].morphTargets)for(var d=0;d<u[c].morphTargets.length;d++)h[u[c].morphTargets[d]]=-1;for(var m in h){var f=[],p=[];for(d=0;d!==u[c].morphTargets.length;++d){var v=u[c];f.push(v.time),p.push(v.morphTarget===m?1:0)}r.push(new ws(".morphTargetInfluence["+m+"]",f,p))}a=h.length*(o||1)}else{var g=".bones["+t[l].name+"]";n(Ts,g+".position",u,"pos",r),n(qs,g+".quaternion",u,"rot",r),n(Ts,g+".scale",u,"scl",r)}}return 0===r.length?null:new Es(i,a,r)}}),Object.assign(Es.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var ks={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function As(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var Ps=new As,Cs={};function Rs(e){this.manager=void 0!==e?e:Ps}function Ys(e){this.manager=void 0!==e?e:Ps}function Os(e){this.manager=void 0!==e?e:Ps,this._parser=null}function Is(e){this.manager=void 0!==e?e:Ps,this._parser=null}function Fs(e){this.manager=void 0!==e?e:Ps}function Hs(e){this.manager=void 0!==e?e:Ps}function Ns(e){this.manager=void 0!==e?e:Ps}function js(){this.type="Curve",this.arcLengthDivisions=200}function zs(e,t,n,r,i,a,o,s){js.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Bs(e,t,n,r,i,a){zs.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function Us(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,u*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}Object.assign(Rs.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ks.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;if(void 0===Cs[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],l=!!o[2],u=o[3];u=decodeURIComponent(u),l&&(u=atob(u));try{var h,c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var d=new Uint8Array(u.length),m=0;m<u.length;m++)d[m]=u.charCodeAt(m);h="blob"===c?new Blob([d.buffer],{type:s}):d.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(u,s);break;case"json":h=JSON.parse(u);break;default:h=u}setTimeout(function(){t&&t(h),i.manager.itemEnd(e)},0)}catch(t){setTimeout(function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{Cs[e]=[],Cs[e].push({onLoad:t,onProgress:n,onError:r});var p=new XMLHttpRequest;for(var v in p.open("GET",e,!0),p.addEventListener("load",function(t){var n=this.response;ks.add(e,n);var r=Cs[e];if(delete Cs[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=r.length;a<o;a++){(s=r[a]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),p.addEventListener("progress",function(t){for(var n=Cs[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}},!1),p.addEventListener("error",function(t){var n=Cs[e];delete Cs[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),p.addEventListener("abort",function(t){var n=Cs[e];delete Cs[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(p.responseType=this.responseType),void 0!==this.withCredentials&&(p.withCredentials=this.withCredentials),p.overrideMimeType&&p.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)p.setRequestHeader(v,this.requestHeader[v]);p.send(null)}return i.manager.itemStart(e),p}Cs[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(Ys.prototype,{load:function(e,t,n,r){var i=this,a=new Rs(i.manager);a.setPath(i.path),a.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=Es.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}}),Object.assign(Os.prototype,{load:function(e,t,n,r){var i=this,a=[],o=new ja;o.image=a;var s=new Rs(this.manager);function l(l){s.load(e[l],function(e){var n=i._parser(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=Re),o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,h=0,c=e.length;h<c;++h)l(h);else s.load(e,function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Re),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,r);return o},setPath:function(e){return this.path=e,this}}),Object.assign(Is.prototype,{load:function(e,t,n,r){var i=this,a=new pn,o=new Rs(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,function(e){var n=i._parser(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:De,a.wrapT=void 0!==n.wrapT?n.wrapT:De,a.magFilter=void 0!==n.magFilter?n.magFilter:Re,a.minFilter=void 0!==n.minFilter?n.minFilter:Oe,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=Re),a.needsUpdate=!0,t&&t(a,n))},n,r),a},setPath:function(e){return this.path=e,this}}),Object.assign(Fs.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ks.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),ks.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Hs.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new jr,a=new Fs(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(var l=0;l<e.length;++l)s(l);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ns.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new cn,a=new Fs(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?Ze:Ke,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(js.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(i),r.push(a),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,a=new tn,o=[],s=[],l=[],u=new tn,h=new $t;for(n=0;n<=e;n++)r=n/e,o[n]=this.getTangentAt(r),o[n].normalize();s[0]=new tn,l[0]=new tn;var c=Number.MAX_VALUE,d=Math.abs(o[0].x),m=Math.abs(o[0].y),f=Math.abs(o[0].z);for(d<=c&&(c=d,a.set(1,0,0)),m<=c&&(c=m,a.set(0,1,0)),f<=c&&a.set(0,0,1),u.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],u),l[0].crossVectors(o[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),u.crossVectors(o[n-1],o[n]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(Kt.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(h.makeRotationAxis(u,i))),l[n].crossVectors(o[n],s[n]);if(!0===t)for(i=Math.acos(Kt.clamp(s[0].dot(s[e]),-1,1)),i/=e,o[0].dot(u.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(h.makeRotationAxis(o[n],i*n)),l[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),zs.prototype=Object.create(js.prototype),zs.prototype.constructor=zs,zs.prototype.isEllipseCurve=!0,zs.prototype.getPoint=function(e,t){for(var n=t||new Qt,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),c=s-this.aX,d=l-this.aY;s=c*u-d*h+this.aX,l=c*h+d*u+this.aY}return n.set(s,l)},zs.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},zs.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},zs.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Bs.prototype=Object.create(zs.prototype),Bs.prototype.constructor=Bs,Bs.prototype.isArcCurve=!0;var Gs=new tn,Ws=new Us,Vs=new Us,Js=new Us;function Xs(e,t,n,r){js.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Zs(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Ks(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Qs(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function $s(e,t,n,r){js.call(this),this.type="CubicBezierCurve",this.v0=e||new Qt,this.v1=t||new Qt,this.v2=n||new Qt,this.v3=r||new Qt}function el(e,t,n,r){js.call(this),this.type="CubicBezierCurve3",this.v0=e||new tn,this.v1=t||new tn,this.v2=n||new tn,this.v3=r||new tn}function tl(e,t){js.call(this),this.type="LineCurve",this.v1=e||new Qt,this.v2=t||new Qt}function nl(e,t){js.call(this),this.type="LineCurve3",this.v1=e||new tn,this.v2=t||new tn}function rl(e,t,n){js.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Qt,this.v1=t||new Qt,this.v2=n||new Qt}function il(e,t,n){js.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new tn,this.v1=t||new tn,this.v2=n||new tn}function al(e){js.call(this),this.type="SplineCurve",this.points=e||[]}Xs.prototype=Object.create(js.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isCatmullRomCurve3=!0,Xs.prototype.getPoint=function(e,t){var n,r,i,a,o=t||new tn,s=this.points,l=s.length,u=(l-(this.closed?0:1))*e,h=Math.floor(u),c=u-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/l)+1)*l:0===c&&h===l-1&&(h=l-2,c=1),this.closed||h>0?n=s[(h-1)%l]:(Gs.subVectors(s[0],s[1]).add(s[0]),n=Gs),r=s[h%l],i=s[(h+1)%l],this.closed||h+2<l?a=s[(h+2)%l]:(Gs.subVectors(s[l-1],s[l-2]).add(s[l-1]),a=Gs),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,m=Math.pow(n.distanceToSquared(r),d),f=Math.pow(r.distanceToSquared(i),d),p=Math.pow(i.distanceToSquared(a),d);f<1e-4&&(f=1),m<1e-4&&(m=f),p<1e-4&&(p=f),Ws.initNonuniformCatmullRom(n.x,r.x,i.x,a.x,m,f,p),Vs.initNonuniformCatmullRom(n.y,r.y,i.y,a.y,m,f,p),Js.initNonuniformCatmullRom(n.z,r.z,i.z,a.z,m,f,p)}else"catmullrom"===this.curveType&&(Ws.initCatmullRom(n.x,r.x,i.x,a.x,this.tension),Vs.initCatmullRom(n.y,r.y,i.y,a.y,this.tension),Js.initCatmullRom(n.z,r.z,i.z,a.z,this.tension));return o.set(Ws.calc(c),Vs.calc(c),Js.calc(c)),o},Xs.prototype.copy=function(e){js.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Xs.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Xs.prototype.fromJSON=function(e){js.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new tn).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},$s.prototype=Object.create(js.prototype),$s.prototype.constructor=$s,$s.prototype.isCubicBezierCurve=!0,$s.prototype.getPoint=function(e,t){var n=t||new Qt,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Qs(e,r.x,i.x,a.x,o.x),Qs(e,r.y,i.y,a.y,o.y)),n},$s.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},$s.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},$s.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},el.prototype=Object.create(js.prototype),el.prototype.constructor=el,el.prototype.isCubicBezierCurve3=!0,el.prototype.getPoint=function(e,t){var n=t||new tn,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Qs(e,r.x,i.x,a.x,o.x),Qs(e,r.y,i.y,a.y,o.y),Qs(e,r.z,i.z,a.z,o.z)),n},el.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},el.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},el.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},tl.prototype=Object.create(js.prototype),tl.prototype.constructor=tl,tl.prototype.isLineCurve=!0,tl.prototype.getPoint=function(e,t){var n=t||new Qt;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},tl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},tl.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},tl.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},tl.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},tl.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},nl.prototype=Object.create(js.prototype),nl.prototype.constructor=nl,nl.prototype.isLineCurve3=!0,nl.prototype.getPoint=function(e,t){var n=t||new tn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},nl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},nl.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},nl.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},nl.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},rl.prototype=Object.create(js.prototype),rl.prototype.constructor=rl,rl.prototype.isQuadraticBezierCurve=!0,rl.prototype.getPoint=function(e,t){var n=t||new Qt,r=this.v0,i=this.v1,a=this.v2;return n.set(Ks(e,r.x,i.x,a.x),Ks(e,r.y,i.y,a.y)),n},rl.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},rl.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},rl.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},il.prototype=Object.create(js.prototype),il.prototype.constructor=il,il.prototype.isQuadraticBezierCurve3=!0,il.prototype.getPoint=function(e,t){var n=t||new tn,r=this.v0,i=this.v1,a=this.v2;return n.set(Ks(e,r.x,i.x,a.x),Ks(e,r.y,i.y,a.y),Ks(e,r.z,i.z,a.z)),n},il.prototype.copy=function(e){return js.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},il.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},il.prototype.fromJSON=function(e){return js.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},al.prototype=Object.create(js.prototype),al.prototype.constructor=al,al.prototype.isSplineCurve=!0,al.prototype.getPoint=function(e,t){var n=t||new Qt,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return n.set(Zs(o,s.x,l.x,u.x,h.x),Zs(o,s.y,l.y,u.y,h.y)),n},al.prototype.copy=function(e){js.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},al.prototype.toJSON=function(){var e=js.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},al.prototype.fromJSON=function(e){js.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Qt).fromArray(r))}return this};var ol=Object.freeze({ArcCurve:Bs,CatmullRomCurve3:Xs,CubicBezierCurve:$s,CubicBezierCurve3:el,EllipseCurve:zs,LineCurve:tl,LineCurve3:nl,QuadraticBezierCurve:rl,QuadraticBezierCurve3:il,SplineCurve:al});function sl(){js.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ll(e){sl.call(this),this.type="Path",this.currentPoint=new Qt,e&&this.setFromPoints(e)}function ul(e){ll.call(this,e),this.uuid=Kt.generateUUID(),this.type="Shape",this.holes=[]}function hl(e,t){zn.call(this),this.type="Light",this.color=new En(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function cl(e,t,n){hl.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(zn.DefaultUp),this.updateMatrix(),this.groundColor=new En(t)}function dl(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Qt(512,512),this.map=null,this.matrix=new $t}function ml(){dl.call(this,new ua(50,1,.5,500))}function fl(e,t,n,r,i,a){hl.call(this,e,t),this.type="SpotLight",this.position.copy(zn.DefaultUp),this.updateMatrix(),this.target=new zn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new ml}function pl(e,t,n,r){hl.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new dl(new ua(90,1,.5,500))}function vl(e,t,n,r,i,a){la.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function gl(){dl.call(this,new vl(-5,5,5,-5,.5,500))}function _l(e,t){hl.call(this,e,t),this.type="DirectionalLight",this.position.copy(zn.DefaultUp),this.updateMatrix(),this.target=new zn,this.shadow=new gl}function yl(e,t){hl.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Ml(e,t,n,r){hl.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function xl(e){this.manager=void 0!==e?e:Ps,this.textures={}}sl.prototype=Object.assign(Object.create(js.prototype),{constructor:sl,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new tl(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];t&&t.equals(u)||(n.push(u),t=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){js.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=js.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){js.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new ol[r.type]).fromJSON(r))}return this}}),ll.prototype=Object.assign(Object.create(sl.prototype),{constructor:ll,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new tl(this.currentPoint.clone(),new Qt(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new rl(this.currentPoint.clone(),new Qt(e,t),new Qt(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,a){var o=new $s(this.currentPoint.clone(),new Qt(e,t),new Qt(n,r),new Qt(i,a));this.curves.push(o),this.currentPoint.set(i,a)},splineThru:function(e){var t=new al([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,n,r,i,a)},absarc:function(e,t,n,r,i,a){this.absellipse(e,t,n,n,r,i,a)},ellipse:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(e+l,t+u,n,r,i,a,o,s)},absellipse:function(e,t,n,r,i,a,o,s){var l=new zs(e,t,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var h=l.getPoint(1);this.currentPoint.copy(h)},copy:function(e){return sl.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=sl.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return sl.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),ul.prototype=Object.assign(Object.create(ll.prototype),{constructor:ul,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ll.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=ll.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){ll.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new ll).fromJSON(r))}return this}}),hl.prototype=Object.assign(Object.create(zn.prototype),{constructor:hl,isLight:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=zn.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),cl.prototype=Object.assign(Object.create(hl.prototype),{constructor:cl,isHemisphereLight:!0,copy:function(e){return hl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(dl.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),ml.prototype=Object.assign(Object.create(dl.prototype),{constructor:ml,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Kt.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),fl.prototype=Object.assign(Object.create(hl.prototype),{constructor:fl,isSpotLight:!0,copy:function(e){return hl.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),pl.prototype=Object.assign(Object.create(hl.prototype),{constructor:pl,isPointLight:!0,copy:function(e){return hl.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),vl.prototype=Object.assign(Object.create(la.prototype),{constructor:vl,isOrthographicCamera:!0,copy:function(e,t){return la.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;a=(i+=h*(this.view.offsetX/l))+h*(this.view.width/l),s=(o-=c*(this.view.offsetY/u))-c*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=zn.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),gl.prototype=Object.assign(Object.create(dl.prototype),{constructor:gl}),_l.prototype=Object.assign(Object.create(hl.prototype),{constructor:_l,isDirectionalLight:!0,copy:function(e){return hl.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),yl.prototype=Object.assign(Object.create(hl.prototype),{constructor:yl,isAmbientLight:!0}),Ml.prototype=Object.assign(Object.create(hl.prototype),{constructor:Ml,isRectAreaLight:!0,copy:function(e){return hl.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=hl.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(xl.prototype,{load:function(e,t,n,r){var i=this,a=new Rs(i.manager);a.setPath(i.path),a.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new fs[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new En).setHex(a.value);break;case"v2":r.uniforms[i].value=(new Qt).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new tn).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new dn).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new $t).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var o=e.normalScale;!1===Array.isArray(o)&&(o=[o,o]),r.normalScale=(new Qt).fromArray(o)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var bl={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function wl(e){this.manager=void 0!==e?e:Ps}Object.assign(wl.prototype,{load:function(e,t,n,r){var i=this,a=new Rs(i.manager);a.setPath(i.path),a.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new or,n=e.data.index;if(void 0!==n){var r=new Ll[n.type](n.array);t.setIndex(new Vn(r,1))}var i=e.data.attributes;for(var a in i){var o=i[a];r=new Ll[o.type](o.array);t.addAttribute(a,new Vn(r,o.itemSize,o.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var l=0,u=s.length;l!==u;++l){var h=s[l];t.addGroup(h.start,h.count,h.materialIndex)}var c=e.data.boundingSphere;if(void 0!==c){var d=new tn;void 0!==c.center&&d.fromArray(c.center),t.boundingSphere=new gn(d,c.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var Ll={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function ql(e){this.manager=void 0!==e?e:Ps,this.resourcePath=""}Object.assign(ql.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,a=void 0===this.path?bl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new Rs(i.manager);o.setPath(this.path),o.load(e,function(n){var a=null;try{a=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)},n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,function(){void 0!==t&&t(s)}),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new ul).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new wl,i=0,a=e.length;i<a;i++){var o,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new rs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new rs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new rs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new rs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new rs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new rs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new rs[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new rs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new rs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new rs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new rs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new rs[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],u=0,h=s.shapes.length;u<h;u++){var c=t[s.shapes[u]];l.push(c)}o=new rs[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],u=0,h=s.shapes.length;u<h;u++){c=t[s.shapes[u]];l.push(c)}var d=s.options.extrudePath;void 0!==d&&(s.options.extrudePath=(new ol[d.type]).fromJSON(d)),o=new rs[s.type](l,s.options);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new xl;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var l=[],u=0;u<s.materials.length;u++){var h=s.materials[u];void 0===n[h.uuid]&&(n[h.uuid]=i.parse(h)),l.push(n[h.uuid])}r[s.uuid]=l}else r[s.uuid]=i.parse(s),n[s.uuid]=r[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Es.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),a.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}if(void 0!==e&&e.length>0){var a=new Fs(new As(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var l=e[o],u=l.url;if(Array.isArray(u)){r[l.uuid]=[];for(var h=0,c=u.length;h<c;h++){var d=u[h],m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;r[l.uuid].push(i(m))}}else{m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url;r[l.uuid]=i(m)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(t[s.image])?new jr(t[s.image]):new cn(t[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,Al)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],Pl),o.wrapT=n(s.wrap[1],Pl)),void 0!==s.format&&(o.format=s.format),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,Cl)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,Cl)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),r[s.uuid]=o}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new qa,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new En(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new La(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new wa(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new ua(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new vl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new yl(e.color,e.intensity);break;case"DirectionalLight":r=new _l(e.color,e.intensity);break;case"PointLight":r=new pl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Ml(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new fl(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new cl(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=i(e.geometry),s=a(e.material);r=o.bones&&o.bones.length>0?new Aa(o,s):new Dr(o,s);break;case"LOD":r=new ka;break;case"Line":r=new Ya(i(e.geometry),a(e.material),e.mode);break;case"LineLoop":r=new Ia(i(e.geometry),a(e.material));break;case"LineSegments":r=new Oa(i(e.geometry),a(e.material));break;case"PointCloud":case"Points":r=new Ha(i(e.geometry),a(e.material));break;case"Sprite":r=new Da(a(e.material));break;case"Group":r=new sa;break;default:r=new zn}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var l=e.children,u=0;u<l.length;u++)r.add(this.parseObject(l[u],t,n));if("LOD"===e.type)for(var h=e.levels,c=0;c<h.length;c++){var d=h[c],m=r.getObjectByProperty("uuid",d.object);void 0!==m&&r.addLevel(m,d.distance)}return r}});var Sl,Tl,El,Dl,kl,Al={UVMapping:Me,CubeReflectionMapping:xe,CubeRefractionMapping:be,EquirectangularReflectionMapping:we,EquirectangularRefractionMapping:Le,SphericalReflectionMapping:qe,CubeUVReflectionMapping:Se,CubeUVRefractionMapping:Te},Pl={RepeatWrapping:Ee,ClampToEdgeWrapping:De,MirroredRepeatWrapping:ke},Cl={NearestFilter:Ae,NearestMipMapNearestFilter:Pe,NearestMipMapLinearFilter:Ce,LinearFilter:Re,LinearMipMapNearestFilter:Ye,LinearMipMapLinearFilter:Oe};function Rl(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Ps,this.options=void 0}function Yl(){this.type="ShapePath",this.color=new En,this.subPaths=[],this.currentPath=null}function Ol(e){this.type="Font",this.data=e}function Il(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,l,u,h,c,d,m,f=new Yl;if(a.o)for(var p=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=p.length;v<g;){switch(p[v++]){case"m":o=p[v++]*t+n,s=p[v++]*t+r,f.moveTo(o,s);break;case"l":o=p[v++]*t+n,s=p[v++]*t+r,f.lineTo(o,s);break;case"q":l=p[v++]*t+n,u=p[v++]*t+r,h=p[v++]*t+n,c=p[v++]*t+r,f.quadraticCurveTo(h,c,l,u);break;case"b":l=p[v++]*t+n,u=p[v++]*t+r,h=p[v++]*t+n,c=p[v++]*t+r,d=p[v++]*t+n,m=p[v++]*t+r,f.bezierCurveTo(h,c,d,m,l,u)}}return{offsetX:a.ha*t,path:f}}}function Fl(e){this.manager=void 0!==e?e:Ps}function Hl(){}Rl.prototype={constructor:Rl,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ks.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;fetch(e).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,i.options)}).then(function(n){ks.add(e,n),t&&t(n),i.manager.itemEnd(e)}).catch(function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(Yl.prototype,{moveTo:function(e,t){this.currentPath=new ll,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,a){this.currentPath.bezierCurveTo(e,t,n,r,i,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new ul;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[i],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var h=u*(e.x-o.x)-l*(e.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i=Po.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);var o,s,l,u=[];if(1===a.length)return s=a[0],(l=new ul).curves=s.curves,u.push(l),u;var h=!i(a[0].getPoints());h=e?!h:h;var c,d,m=[],f=[],p=[],v=0;f[v]=void 0,p[v]=[];for(var g=0,_=a.length;g<_;g++)o=i(c=(s=a[g]).getPoints()),(o=e?!o:o)?(!h&&f[v]&&v++,f[v]={s:new ul,p:c},f[v].s.curves=s.curves,h&&v++,p[v]=[]):p[v].push({h:s,p:c[0]});if(!f[0])return n(a);if(f.length>1){for(var y=!1,M=[],x=0,b=f.length;x<b;x++)m[x]=[];for(x=0,b=f.length;x<b;x++)for(var w=p[x],L=0;L<w.length;L++){for(var q=w[L],S=!0,T=0;T<f.length;T++)r(q.p,f[T].p)&&(x!==T&&M.push({froms:x,tos:T,hole:L}),S?(S=!1,m[T].push(q)):y=!0);S&&m[x].push(q)}M.length>0&&(y||(p=m))}g=0;for(var E=f.length;g<E;g++){l=f[g].s,u.push(l);for(var D=0,k=(d=p[g]).length;D<k;D++)l.holes.push(d[D].h)}return u}}),Object.assign(Ol.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,l=0,u=0;u<r.length;u++){var h=r[u];if("\n"===h)s=0,l-=a;else{var c=Il(h,i,s,l,n);s+=c.offsetX,o.push(c.path)}}return o}(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(Fl.prototype,{load:function(e,t,n,r){var i=this,a=new Rs(this.manager);a.setPath(this.path),a.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)},n,r)},parse:function(e){return new Ol(e)},setPath:function(e){return this.path=e,this}}),Hl.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],a=t[n+1];if(i.test(e))return a}return null}},Object.assign(Hl.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:(Sl={NoBlending:Y,NormalBlending:O,AdditiveBlending:I,SubtractiveBlending:F,MultiplyBlending:H,CustomBlending:N},Tl=new En,El=new Ns,Dl=new xl,function(e,t,n){var r={};function i(e,i,a,o,s){var l,u=t+e,h=Hl.Handlers.get(u);null!==h?l=h.load(u):(El.setCrossOrigin(n),l=El.load(u)),void 0!==i&&(l.repeat.fromArray(i),1!==i[0]&&(l.wrapS=Ee),1!==i[1]&&(l.wrapT=Ee)),void 0!==a&&l.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(l.wrapS=Ee),"mirror"===o[0]&&(l.wrapS=ke),"repeat"===o[1]&&(l.wrapT=Ee),"mirror"===o[1]&&(l.wrapT=ke)),void 0!==s&&(l.anisotropy=s);var c=Kt.generateUUID();return r[c]=l,c}var a={uuid:Kt.generateUUID(),type:"MeshLambertMaterial"};for(var o in e){var s=e[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":a.name=s;break;case"blending":a.blending=Sl[s];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",o,"is no longer supported.");break;case"colorDiffuse":a.color=Tl.fromArray(s).getHex();break;case"colorSpecular":a.specular=Tl.fromArray(s).getHex();break;case"colorEmissive":a.emissive=Tl.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=i(s,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":a.emissiveMap=i(s,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":a.lightMap=i(s,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":a.aoMap=i(s,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":a.bumpMap=i(s,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":a.normalMap=i(s,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":a.specularMap=i(s,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":a.metalnessMap=i(s,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":a.roughnessMap=i(s,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":a.alphaMap=i(s,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":a.side=E;break;case"doubleSided":a.side=D;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=R),"face"===s&&(a.vertexColors=C);break;default:console.error("THREE.Loader.createMaterial: Unsupported",o,s)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),Dl.setTextures(r),Dl.parse(a)})});var Nl,jl,zl,Bl,Ul,Gl,Wl,Vl,Jl,Xl,Zl={getContext:function(){return void 0===kl&&(kl=new(window.AudioContext||window.webkitAudioContext)),kl},setContext:function(e){kl=e}};function Kl(e){this.manager=void 0!==e?e:Ps}function Ql(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ua,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ua,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function $l(e,t,n,r){zn.call(this),this.type="CubeCamera";var i=new ua(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new tn(1,0,0)),this.add(i);var a=new ua(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new tn(-1,0,0)),this.add(a);var o=new ua(90,1,e,t);o.up.set(0,0,1),o.lookAt(new tn(0,1,0)),this.add(o);var s=new ua(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new tn(0,-1,0)),this.add(s);var l=new ua(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new tn(0,0,1)),this.add(l);var u=new ua(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new tn(0,0,-1)),this.add(u),r=r||{format:Ze,magFilter:Re,minFilter:Re},this.renderTarget=new fn(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,a,n),n.activeCubeFace=2,e.render(t,o,n),n.activeCubeFace=3,e.render(t,s,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,u,n),e.setRenderTarget(null)},this.clear=function(e,t,n,r){for(var i=this.renderTarget,a=0;a<6;a++)i.activeCubeFace=a,e.setRenderTarget(i),e.clear(t,n,r);e.setRenderTarget(null)}}function eu(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function tu(){zn.call(this),this.type="AudioListener",this.context=Zl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function nu(e){zn.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function ru(e){nu.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function iu(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function au(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(Kl.prototype,{load:function(e,t,n,r){var i=new Rs(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(e){var n=e.slice(0);Zl.getContext().decodeAudioData(n,function(e){t(e)})},n,r)},setPath:function(e){return this.path=e,this}}),Object.assign(Ql.prototype,{update:(Jl=new $t,Xl=new $t,function(e){if(Nl!==this||jl!==e.focus||zl!==e.fov||Bl!==e.aspect*this.aspect||Ul!==e.near||Gl!==e.far||Wl!==e.zoom||Vl!==this.eyeSep){Nl=this,jl=e.focus,zl=e.fov,Bl=e.aspect*this.aspect,Ul=e.near,Gl=e.far,Wl=e.zoom;var t,n,r=e.projectionMatrix.clone(),i=(Vl=this.eyeSep/2)*Ul/jl,a=Ul*Math.tan(Kt.DEG2RAD*zl*.5)/Wl;Xl.elements[12]=-Vl,Jl.elements[12]=Vl,t=-a*Bl+i,n=a*Bl+i,r.elements[0]=2*Ul/(n-t),r.elements[8]=(n+t)/(n-t),this.cameraL.projectionMatrix.copy(r),t=-a*Bl-i,n=a*Bl-i,r.elements[0]=2*Ul/(n-t),r.elements[8]=(n+t)/(n-t),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Xl),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Jl)})}),$l.prototype=Object.create(zn.prototype),$l.prototype.constructor=$l,Object.assign(eu.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),tu.prototype=Object.assign(Object.create(zn.prototype),{constructor:tu,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new tn,t=new en,n=new tn,r=new tn,i=new eu;return function(a){zn.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX){var l=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(e.x,l),o.positionY.linearRampToValueAtTime(e.y,l),o.positionZ.linearRampToValueAtTime(e.z,l),o.forwardX.linearRampToValueAtTime(r.x,l),o.forwardY.linearRampToValueAtTime(r.y,l),o.forwardZ.linearRampToValueAtTime(r.z,l),o.upX.linearRampToValueAtTime(s.x,l),o.upY.linearRampToValueAtTime(s.y,l),o.upZ.linearRampToValueAtTime(s.z,l)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),nu.prototype=Object.assign(Object.create(zn.prototype),{constructor:nu,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.detune.value=this.detune,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){return this.detune=e,!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),ru.prototype=Object.assign(Object.create(nu.prototype),{constructor:ru,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new tn,t=new en,n=new tn,r=new tn;return function(i){zn.prototype.updateMatrixWorld.call(this,i);var a=this.panner;if(this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t),a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(e.x,o),a.positionY.linearRampToValueAtTime(e.y,o),a.positionZ.linearRampToValueAtTime(e.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z)}}()}),Object.assign(iu.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(au.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*t;this._mixBufferRegion(n,r,o,1-i,t)}for(var s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){en.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}});var ou,su,lu,uu,hu,cu,du,mu,fu,pu,vu,gu,_u,yu,Mu;function xu(e,t,n){var r=n||bu.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function bu(e,t,n){this.path=t,this.parsedPath=n||bu.parseTrackName(t),this.node=bu.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function wu(){this.uuid=Kt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Lu(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,a=new Array(i),o={endingStart:Ct,endingEnd:Ct},s=0;s!==i;++s){var l=r[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Et,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function qu(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Su(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Tu(){or.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Eu(e,t,n){Sa.call(this,e,t),this.meshPerAttribute=n||1}function Du(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Vn.call(this,e,t,n),this.meshPerAttribute=r||1}function ku(e,t,n,r){this.ray=new Sr(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Au(e,t){return e.distance-t.distance}function Pu(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,a=0,o=i.length;a<o;a++)Pu(i[a],t,n,!0)}function Cu(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Ru(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function Yu(e,t){this.min=void 0!==e?e:new Qt(1/0,1/0),this.max=void 0!==t?t:new Qt(-1/0,-1/0)}function Ou(e,t){this.start=void 0!==e?e:new tn,this.end=void 0!==t?t:new tn}function Iu(e){zn.call(this),this.material=e,this.render=function(){}}function Fu(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var l=new or,u=new tr(2*o*3,3);l.addAttribute("position",u),Oa.call(this,l,new Ra({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Hu(e,t){zn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new or,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var o=i/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new tr(r,3));var l=new Ra({fog:!1});this.cone=new Oa(n,l),this.add(this.cone),this.update()}function Nu(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new or,r=[],i=[],a=new En(0,0,1),o=new En(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.addAttribute("position",new tr(r,3)),n.addAttribute("color",new tr(i,3));var u=new Ra({vertexColors:R,depthTest:!1,depthWrite:!1,transparent:!0});Oa.call(this,n,u),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function ju(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new zo(t,4,2),i=new Er({wireframe:!0,fog:!1});Dr.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function zu(e,t){zn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new Ra({fog:!1}),r=new or;r.addAttribute("position",new Vn(new Float32Array(15),3)),this.line=new Ya(r,n),this.add(this.line),this.update()}function Bu(e,t,n){zn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Qa(t);r.rotateY(.5*Math.PI),this.material=new Er({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=R);var i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.addAttribute("color",new Vn(a,3)),this.add(new Dr(r,this.material)),this.update()}function Uu(e,t,n,r){e=e||10,t=t||10,n=new En(void 0!==n?n:4473924),r=new En(void 0!==r?r:8947848);for(var i=t/2,a=e/t,o=e/2,s=[],l=[],u=0,h=0,c=-o;u<=t;u++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);var d=u===i?n:r;d.toArray(l,h),h+=3,d.toArray(l,h),h+=3,d.toArray(l,h),h+=3,d.toArray(l,h),h+=3}var m=new or;m.addAttribute("position",new tr(s,3)),m.addAttribute("color",new tr(l,3));var f=new Ra({vertexColors:R});Oa.call(this,m,f)}function Gu(e,t,n,r,i,a){e=e||10,t=t||16,n=n||8,r=r||64,i=new En(void 0!==i?i:4473924),a=new En(void 0!==a?a:8947848);var o,s,l,u,h,c,d,m=[],f=[];for(u=0;u<=t;u++)l=u/t*(2*Math.PI),o=Math.sin(l)*e,s=Math.cos(l)*e,m.push(0,0,0),m.push(o,0,s),d=1&u?i:a,f.push(d.r,d.g,d.b),f.push(d.r,d.g,d.b);for(u=0;u<=n;u++)for(d=1&u?i:a,c=e-e/n*u,h=0;h<r;h++)l=h/r*(2*Math.PI),o=Math.sin(l)*c,s=Math.cos(l)*c,m.push(o,0,s),f.push(d.r,d.g,d.b),l=(h+1)/r*(2*Math.PI),o=Math.sin(l)*c,s=Math.cos(l)*c,m.push(o,0,s),f.push(d.r,d.g,d.b);var p=new or;p.addAttribute("position",new tr(m,3)),p.addAttribute("color",new tr(f,3));var v=new Ra({vertexColors:R});Oa.call(this,p,v)}function Wu(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new or,u=new tr(2*o*3,3);l.addAttribute("position",u),Oa.call(this,l,new Ra({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Vu(e,t,n){zn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new or;r.addAttribute("position",new tr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Ra({fog:!1});this.lightPlane=new Ya(r,i),this.add(this.lightPlane),(r=new or).addAttribute("position",new tr([0,0,0,0,0,1],3)),this.targetLine=new Ya(r,i),this.add(this.targetLine),this.update()}function Ju(e){var t=new or,n=new Ra({color:16777215,vertexColors:C}),r=[],i=[],a={},o=new En(16755200),s=new En(16711680),l=new En(43775),u=new En(16777215),h=new En(3355443);function c(e,t,n){d(e,n),d(t,n)}function d(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",l),c("u2","u3",l),c("u3","u1",l),c("c","t",u),c("p","c",h),c("cn1","cn2",h),c("cn3","cn4",h),c("cf1","cf2",h),c("cf3","cf4",h),t.addAttribute("position",new tr(r,3)),t.addAttribute("color",new tr(i,3)),Oa.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Xu(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new or;i.setIndex(new Vn(n,1)),i.addAttribute("position",new Vn(r,3)),Oa.call(this,i,new Ra({color:t})),this.matrixAutoUpdate=!1,this.update()}function Zu(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new or;i.setIndex(new Vn(r,1)),i.addAttribute("position",new tr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Oa.call(this,i,new Ra({color:n})),this.geometry.computeBoundingSphere()}function Ku(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new or;i.addAttribute("position",new tr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Ya.call(this,i,new Ra({color:r}));var a=new or;a.addAttribute("position",new tr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Dr(a,new Er({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Qu(e,t,n,r,i,a){zn.call(this),void 0===e&&(e=new THREE.Vector3(0,0,1)),void 0===t&&(t=new THREE.Vector3(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===gu&&((gu=new or).addAttribute("position",new tr([0,0,0,0,1,0],3)),(_u=new Qo(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Ya(gu,new Ra({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Dr(_u,new Er({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}function $u(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new or;n.addAttribute("position",new tr(t,3)),n.addAttribute("color",new tr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Ra({vertexColors:R});Oa.call(this,n,r)}function eh(e,t,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Rn(e,t,n,i,a,o)}Object.assign(xu.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(bu,{Composite:xu,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new bu.Composite(e,t,n):new bu(e,t,n)},sanitizeNodeName:(fu=new RegExp("[\\[\\]\\.:\\/]","g"),function(e){return e.replace(/\s/g,"_").replace(fu,"")}),parseTrackName:(ou="[^\\[\\]\\.:\\/]",su="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",lu=/((?:WC+[\/:])*)/.source.replace("WC",ou),uu=/(WCOD+)?/.source.replace("WCOD",su),hu=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ou),cu=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ou),du=new RegExp("^"+lu+uu+hu+cu+"$"),mu=["material","materials","bones"],function(e){var t=du.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==mu.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var a=r(i.children);if(a)return a}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(bu.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=bu.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===i){i=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===i){i=o;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{var h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(bu.prototype,{_getValue_unbound:bu.prototype.getValue,_setValue_unbound:bu.prototype.setValue}),Object.assign(wu.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=void 0,u=0,h=arguments.length;u!==h;++u){var c=arguments[u],d=c.uuid,m=r[d];if(void 0===m){m=t++,r[d]=m,e.push(c);for(var f=0,p=s;f!==p;++f)o[f].push(new bu(c,i[f],a[f]))}else if(m<n){l=e[m];var v=--n,g=e[v];r[g.uuid]=m,e[m]=g,r[d]=v,e[v]=c;for(f=0,p=s;f!==p;++f){var _=o[f],y=_[v],M=_[m];_[m]=y,void 0===M&&(M=new bu(c,i[f],a[f])),_[v]=M}}else e[m]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=n[l];if(void 0!==u&&u>=t){var h=t++,c=e[h];n[c.uuid]=u,e[u]=c,n[l]=h,e[h]=s;for(var d=0,m=i;d!==m;++d){var f=r[d],p=f[h],v=f[u];f[u]=p,f[h]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,u=r[l];if(void 0!==u)if(delete r[l],u<n){var h=--n,c=e[h],d=e[g=--t];r[c.uuid]=u,e[u]=c,r[d.uuid]=h,e[h]=d,e.pop();for(var m=0,f=a;m!==f;++m){var p=(_=i[m])[h],v=_[g];_[u]=p,_[h]=v,_.pop()}}else{var g;r[(d=e[g=--t]).uuid]=u,e[u]=d,e.pop();for(m=0,f=a;m!==f;++m){var _;(_=i[m])[u]=_[g],_.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,h=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(h);for(var c=u,d=s.length;c!==d;++c){var m=s[c];h[c]=new bu(m,e,t)}return h},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}),Object.assign(Lu.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,h=0,c=l.length;h!==c;++h)l[h].evaluate(o),u[h].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,a=r===Dt;if(0===e)return-1===i?t:a&&1==(1&i)?n-t:t;if(r===Tt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Rt,r.endingEnd=Rt):(r.endingStart=e?this.zeroSlopeAtStart?Rt:Ct:Yt,r.endingEnd=t?this.zeroSlopeAtEnd?Rt:Ct:Yt)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}),qu.prototype=Object.assign(Object.create(r.prototype),{constructor:qu,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var h=0;h!==i;++h){var c=r[h],d=c.name,m=u[d];if(void 0!==m)a[h]=m;else{if(void 0!==(m=a[h])){null===m._cacheIndex&&(++m.referenceCount,this._addInactiveBinding(m,s,d));continue}var f=t&&t._propertyBindings[h].binding.parsedPath;++(m=new au(bu.create(n,d,f),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(m,s,d),a[h]=m}o[h].resultBuffer=m.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],a=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i];e:{for(var u in o)break e;delete a[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new _s(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Es.findByName(n,e):e,a=null!==i?i.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[r];if(void 0!==l)return l;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Lu(this,i,t);return this._bindAction(u,s),this._addInactiveAction(u,a,r),u},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Es.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}var s=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,h=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Su.prototype.clone=function(){return new Su(void 0===this.value.clone?this.value:this.value.clone())},Tu.prototype=Object.assign(Object.create(or.prototype),{constructor:Tu,isInstancedBufferGeometry:!0,copy:function(e){return or.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Eu.prototype=Object.assign(Object.create(Sa.prototype),{constructor:Eu,isInstancedInterleavedBuffer:!0,copy:function(e){return Sa.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Du.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Du,isInstancedBufferAttribute:!0,copy:function(e){return Vn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(ku.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Pu(e,this,r,t),r.sort(Au),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)Pu(e[i],this,r,t);return r.sort(Au),r}}),Object.assign(Cu.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Kt.clamp(t/this.radius,-1,1))),this}}),Object.assign(Ru.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(Yu.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Qt;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Qt),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Qt),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Qt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Qt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Qt;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Ou.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new tn),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new tn),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new tn),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(pu=new tn,vu=new tn,function(e,t){pu.subVectors(e,this.start),vu.subVectors(this.end,this.start);var n=vu.dot(vu),r=vu.dot(pu)/n;return t&&(r=Kt.clamp(r,0,1)),r}),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new tn),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Iu.prototype=Object.create(zn.prototype),Iu.prototype.constructor=Iu,Iu.prototype.isImmediateRenderObject=!0,Fu.prototype=Object.create(Oa.prototype),Fu.prototype.constructor=Fu,Fu.prototype.update=function(){var e=new tn,t=new tn,n=new nn;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,u=0,h=0,c=l.length;h<c;h++)for(var d=l[h],m=0,f=d.vertexNormals.length;m<f;m++){var p=s[d[r[m]]],v=d.vertexNormals[m];e.copy(p).applyMatrix4(i),t.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(u,e.x,e.y,e.z),u+=1,a.setXYZ(u,t.x,t.y,t.z),u+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,_=o.attributes.normal;for(u=0,m=0,f=g.count;m<f;m++)e.set(g.getX(m),g.getY(m),g.getZ(m)).applyMatrix4(i),t.set(_.getX(m),_.getY(m),_.getZ(m)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(u,e.x,e.y,e.z),u+=1,a.setXYZ(u,t.x,t.y,t.z),u+=1}a.needsUpdate=!0}}(),Hu.prototype=Object.create(zn.prototype),Hu.prototype.constructor=Hu,Hu.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Hu.prototype.update=function(){var e=new tn;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Nu.prototype=Object.create(Oa.prototype),Nu.prototype.constructor=Nu,Nu.prototype.updateMatrixWorld=function(){var e=new tn,t=new $t,n=new $t;return function(r){var i=this.bones,a=this.geometry,o=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<i.length;s++){var u=i[s];u.parent&&u.parent.isBone&&(t.multiplyMatrices(n,u.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,u.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l+1,e.x,e.y,e.z),l+=2)}a.getAttribute("position").needsUpdate=!0,zn.prototype.updateMatrixWorld.call(this,r)}}(),ju.prototype=Object.create(Dr.prototype),ju.prototype.constructor=ju,ju.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ju.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},zu.prototype=Object.create(zn.prototype),zu.prototype.constructor=zu,zu.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},zu.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=e,r[1]=-t,r[2]=0,r[3]=e,r[4]=t,r[5]=0,r[6]=-e,r[7]=t,r[8]=0,r[9]=-e,r[10]=-t,r[11]=0,r[12]=e,r[13]=-t,r[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},Bu.prototype=Object.create(zn.prototype),Bu.prototype.constructor=Bu,Bu.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Bu.prototype.update=function(){var e=new tn,t=new En,n=new En;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=i.count;a<o;a++){var s=a<o/2?t:n;i.setXYZ(a,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Uu.prototype=Object.create(Oa.prototype),Uu.prototype.constructor=Uu,Gu.prototype=Object.create(Oa.prototype),Gu.prototype.constructor=Gu,Wu.prototype=Object.create(Oa.prototype),Wu.prototype.constructor=Wu,Wu.prototype.update=function(){var e=new tn,t=new tn,n=new nn;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,l=0,u=0,h=s.length;u<h;u++){var c=s[u],d=c.normal;e.copy(o[c.a]).add(o[c.b]).add(o[c.c]).divideScalar(3).applyMatrix4(r),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(l,e.x,e.y,e.z),l+=1,i.setXYZ(l,t.x,t.y,t.z),l+=1}i.needsUpdate=!0}}(),Vu.prototype=Object.create(zn.prototype),Vu.prototype.constructor=Vu,Vu.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Vu.prototype.update=function(){var e=new tn,t=new tn,n=new tn;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),Ju.prototype=Object.create(Oa.prototype),Ju.prototype.constructor=Ju,Ju.prototype.update=function(){var e,t,n=new tn,r=new la;function i(i,a,o,s){n.set(a,o,s).unproject(r);var l=t[i];if(void 0!==l)for(var u=e.getAttribute("position"),h=0,c=l.length;h<c;h++)u.setXYZ(l[h],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Xu.prototype=Object.create(Oa.prototype),Xu.prototype.constructor=Xu,Xu.prototype.update=function(){var e=new vn;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Xu.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Xu.prototype.copy=function(e){return Oa.prototype.copy.call(this,e),this.object=e.object,this},Xu.prototype.clone=function(){return(new this.constructor).copy(this)},Zu.prototype=Object.create(Oa.prototype),Zu.prototype.constructor=Zu,Zu.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),zn.prototype.updateMatrixWorld.call(this,e))},Ku.prototype=Object.create(Ya.prototype),Ku.prototype.constructor=Ku,Ku.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?E:T,this.lookAt(this.plane.normal),zn.prototype.updateMatrixWorld.call(this,e)},Qu.prototype=Object.create(zn.prototype),Qu.prototype.constructor=Qu,Qu.prototype.setDirection=(Mu=new tn,function(e){e.y>.99999?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(Mu.set(e.z,0,-e.x).normalize(),yu=Math.acos(e.y),this.quaternion.setFromAxisAngle(Mu,yu))}),Qu.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Qu.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Qu.prototype.copy=function(e){return zn.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Qu.prototype.clone=function(){return(new this.constructor).copy(this)},$u.prototype=Object.create(Oa.prototype),$u.prototype.constructor=$u;var th=0,nh=1;function rh(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function ih(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function ah(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ha(e,t)}function oh(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Da(e)}function sh(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ha(e,t)}function lh(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Fa(e)}function uh(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Fa(e)}function hh(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Fa(e)}function ch(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new tn(e,t,n)}function dh(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Vn(e,t).setDynamic(!0)}function mh(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Jn(e,t)}function fh(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Xn(e,t)}function ph(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Zn(e,t)}function vh(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Kn(e,t)}function gh(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Qn(e,t)}function _h(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new $n(e,t)}function yh(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new er(e,t)}function Mh(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new tr(e,t)}function xh(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new nr(e,t)}function bh(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Xs.call(this,e),this.type="catmullrom",this.closed=!0}function wh(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Xs.call(this,e),this.type="catmullrom"}function Lh(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Xs.call(this,e),this.type="catmullrom"}function qh(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new $u(e)}function Sh(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Xu(e,t)}function Th(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Oa(new Zo(e.geometry),new Ra({color:void 0!==t?t:16777215}))}function Eh(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Oa(new Ua(e.geometry),new Ra({color:void 0!==t?t:16777215}))}function Dh(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Rs(e)}function kh(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Is(e)}js.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(js.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(sl.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Wn,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new tn(i.x,i.y,i.z||0))}return t}}),Object.assign(ll.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),bh.prototype=Object.create(Xs.prototype),wh.prototype=Object.create(Xs.prototype),Lh.prototype=Object.create(Xs.prototype),Object.assign(Lh.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Uu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Nu.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Hl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),bl.extractUrlBase(e)}}),Object.assign(ql.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Yu.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(vn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Ou.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Kt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Kt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Kt.ceilPowerOfTwo(e)}}),Object.assign(nn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign($t.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new tn),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)}}),_n.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},en.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Sr.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Tr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Tr,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Tr.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Tr.getNormal(e,t,n,r)}}),Object.assign(ul.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Yo(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Vo(this,e)}}),Object.assign(Qt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(tn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(dn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Wn.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(zn.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(zn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ka.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Pa.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Aa.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(js.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),ua.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(hl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Vn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(or.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(or.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Oo.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Su.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Lr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new En}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===k}}}),Object.defineProperties(ls.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(qr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(ba.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(ba.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ra.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(mn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Ma.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),nu.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Kl).load(e,function(e){t.setBuffer(e)}),this},iu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},$l.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Ah={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function Ph(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Ch(){console.error("THREE.CanvasRenderer has been removed")}function Rh(){console.error("THREE.JSONLoader has been removed.")}un.crossOrigin=void 0,un.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Ns;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},un.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Hs;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},un.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},un.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Yh={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Oh(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"b",function(){return m}),n.d(t,"h",function(){return p}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"g",function(){return w}),n.d(t,"a",function(){return T});var r=n(34),i=n.n(r),a=n(11),o=n.n(a),s=n(0),l=n(45),u=n(74);l.a.defs("EPSG:4978","+proj=geocent +datum=WGS84 +units=m +no_defs");var h={},c={x:6378137,y:6378137,z:6356752.314245179},d=new u.a(c),m={DEGREE:1,METER:2};function f(e){switch(e){case"EPSG:4326":return m.DEGREE;case"EPSG:4978":return m.METER;default:var t=l.a.defs(e);if(!t)return;return"degrees"===(n=t.units)?m.DEGREE:"m"===n?m.METER:void 0}var n}function p(e){return w(e)?.01:.001}function v(e){var t=f(e);if(void 0===e||void 0===t)throw new Error("Invalid crs paramater value '".concat(e,"'"));return t}function g(e){v(e)}function _(e){return v(e)!=m.METER}function y(e){return v(e)==m.METER}function M(e){if(!_(e))throw new Error("Can't query crs ".concat(e," long/lat"))}function x(e){if(!y(e))throw new Error("Can't query crs ".concat(e," x/y/z"))}function b(e,t){if(h[e]){var n=h[e];if(n[t])return n[t]}else h[e]={};var r=Object(l.a)(e,t);return h[e][t]=r,r}function w(e){return 0==e.indexOf("EPSG:4326")}var L=new s.Vector3;function q(e){var t=this;this._values=new Float64Array(3);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.set.apply(this,[e].concat(r)),this._normalNeedsUpdate=!0,this._normal=new s.Vector3,Object.defineProperty(this,"geodesicNormal",{configurable:!0,get:function(){return t._normalNeedsUpdate?function(e){if(e._normalNeedsUpdate=!1,w(e.crs))return d.geodeticSurfaceNormalCartographic(e,e._normal);if("EPSG:4978"==e.crs)return d.geodeticSurfaceNormal(e,e._normal);return e._normal.copy(S),S}(t):t._normal}})}var S=new s.Vector3(0,0,1);q.prototype.set=function(e){v(e),this.crs=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(1==n.length&&n[0]instanceof s.Vector3)this._values[0]=n[0].x,this._values[1]=n[0].y,this._values[2]=n[0].z;else{for(var i=0;i<n.length&&i<3;i++)this._values[i]=n[i];for(var a=n.length;a<3;a++)this._values[a]=0}return this._normalNeedsUpdate=!0,this},q.prototype.clone=function(e){var t;return e?(q.call.apply(q,[e,this.crs].concat(o()(this._values))),t=e):t=i()(q,[this.crs].concat(o()(this._values))),this._normal&&t._normal.copy(this._normal),t},q.prototype.copy=function(e){return this.set.apply(this,[e.crs].concat(o()(e._values))),this},q.prototype.longitude=function(){return M(this.crs),this._values[0]},q.prototype.latitude=function(){return this._values[1]},q.prototype.altitude=function(){return M(this.crs),this._values[2]},q.prototype.setAltitude=function(e){M(this.crs),this._values[2]=e},q.prototype.x=function(){return x(this.crs),this._values[0]},q.prototype.y=function(){return x(this.crs),this._values[1]},q.prototype.z=function(){return x(this.crs),this._values[2]},q.prototype.xyz=function(e){x(this.crs);var t=e||new s.Vector3;return t.fromArray(this._values),t},q.prototype.as=function(e,t){if(void 0===e||void 0===f(e))throw new Error("Invalid crs paramater value '".concat(e,"'"));return function(e,t,n){if(n=n||new q(t,0,0),t===e.crs)return n.copy(e);if(w(e.crs)&&"EPSG:4978"===t)return d.cartographicToCartesian(e,L),n.set(t,L),n._normal=e._normal,n._normalNeedsUpdate=!1,n;if("EPSG:4978"===e.crs&&w(t))return d.cartesianToCartographic({x:e._values[0],y:e._values[1],z:e._values[2]},n),n;if(e.crs in l.a.defs&&t in l.a.defs){var r=e._values[0],i=e._values[1],a=e.crs;if("EPSG:4978"==t){var o=b(a,"EPSG:4326").forward([r,i]);return n.set("EPSG:4326",o[0],o[1],e._values[2]),n.as("EPSG:4978",n)}if("EPSG:4978"===e.crs){e.as("EPSG:4326",n);var u=b(n.crs,t).forward([n._values[0],n._values[1]]);return n.set(t,u[0],u[1],n._values[2]),n}if(w(a)&&"EPSG:3857"==t){i=s.Math.clamp(i,-89.999999,89.999999);var h=b(a,t).forward([r,i]);return n.set(t,h[0],h[1],e._values[2])}var c=b(a,t).forward([r,i]);return n.set(t,c[0],c[1],e._values[2])}throw new Error("Cannot convert from crs ".concat(e.crs," to ").concat(t))}(this,e,t)},q.prototype.offsetInExtent=function(e,t){if(this.crs!=e.crs())throw new Error("unsupported mix");var n=Math.abs(e.east()-e.west()),r=Math.abs(e.north()-e.south()),i=y(this.crs)?this.x():this.longitude(),a=y(this.crs)?this.y():this.latitude(),o=(i-e.west())/n,l=(e.north()-a)/r;return(t=t||new s.Vector2).set(o,l),t};var T={EPSG_4326:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i()(q,["EPSG:4326"].concat(t))}};t.e=q},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,r){return Dt(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var t=f(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=m(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=i.momentProperties=[];function _(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=f(t)),s(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)r=g[n],s(i=t[r])||(e[r]=i);return e}var y=!1;function M(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,i.updateOffset(this),y=!1)}function x(e){return e instanceof M||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function L(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&o++;return o+a}function q(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return d(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,a=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var s in r+="\n["+o+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[o];a.push(r)}q(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var T,E={};function D(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),E[e]||(q(t),E[e]=!0)}function k(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,r=d({},e);for(n in t)c(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)c(e,n)&&!c(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function P(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var C={};function R(e,t){var n=e.toLowerCase();C[n]=C[n+"s"]=C[t]=e}function Y(e){return"string"==typeof e?C[e]||C[e.toLowerCase()]:void 0}function O(e){var t,n,r={};for(n in e)c(e,n)&&(t=Y(n))&&(r[t]=e[n]);return r}var I={};function F(e,t){I[e]=t}function H(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},B={};function U(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(B[e]=i),t&&(B[t[0]]=function(){return H(i.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e,t){return e.isValid()?(t=W(t,e.localeData()),z[t]=z[t]||function(e){var t,n,r,i=e.match(N);for(t=0,n=i.length;t<n;t++)B[i[t]]?i[t]=B[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,a="";for(r=0;r<n;r++)a+=k(i[r])?i[r].call(t,e):i[r];return a}}(t),z[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var V=/\d/,J=/\d\d/,X=/\d{3}/,Z=/\d{4}/,K=/[+-]?\d{6}/,Q=/\d\d?/,$=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ie=/\d+/,ae=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue={};function he(e,t,n){ue[e]=k(t)?t:function(e,r){return e&&n?n:t}}function ce(e,t){return c(ue,e)?ue[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var me={};function fe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)me[e[n]]=r}function pe(e,t){fe(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ve(e,t,n){null!=t&&c(me,e)&&me[e](t,n._a,n,e)}var ge=0,_e=1,ye=2,Me=3,xe=4,be=5,we=6,Le=7,qe=8;function Se(e){return Te(e)?366:365}function Te(e){return e%4==0&&e%100!=0||e%400==0}U("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),R("year","y"),F("year",1),he("Y",ae),he("YY",Q,J),he("YYYY",ne,Z),he("YYYYY",re,K),he("YYYYYY",re,K),fe(["YYYYY","YYYYYY"],ge),fe("YYYY",function(e,t){t[ge]=2===e.length?i.parseTwoDigitYear(e):w(e)}),fe("YY",function(e,t){t[ge]=i.parseTwoDigitYear(e)}),fe("Y",function(e,t){t[ge]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var Ee,De=ke("FullYear",!0);function ke(e,t){return function(n){return null!=n?(Pe(this,e,n),i.updateOffset(this,t),this):Ae(this,e)}}function Ae(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Te(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ce(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ce(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Te(e)?29:28:31-r%7%2}Ee=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),F("month",8),he("M",Q),he("MM",Q,J),he("MMM",function(e,t){return t.monthsShortRegex(e)}),he("MMMM",function(e,t){return t.monthsRegex(e)}),fe(["M","MM"],function(e,t){t[_e]=w(e)-1}),fe(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[_e]=i:f(n).invalidMonth=e});var Re=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ye="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Oe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ie(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ce(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Fe(e){return null!=e?(Ie(this,e),i.updateOffset(this,!0),this):Ae(this,"Month")}var He=le,Ne=le;function je(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=m([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=de(r[t]),i[t]=de(i[t]);for(t=0;t<24;t++)a[t]=de(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ze(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Be(e,t,n){var r=7+t-n,i=(7+ze(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Ue(e,t,n,r,i){var a,o,s=(7+n-r)%7,l=Be(e,r,i),u=1+7*(t-1)+s+l;return u<=0?o=Se(a=e-1)+u:u>Se(e)?(a=e+1,o=u-Se(e)):(a=e,o=u),{year:a,dayOfYear:o}}function Ge(e,t,n){var r,i,a=Be(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?(i=e.year()-1,r=o+We(i,t,n)):o>We(e.year(),t,n)?(r=o-We(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function We(e,t,n){var r=Be(e,t,n),i=Be(e+1,t,n);return(Se(e)-r+i)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),F("week",5),F("isoWeek",5),he("w",Q),he("ww",Q,J),he("W",Q),he("WW",Q,J),pe(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=w(e)}),U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),he("d",Q),he("e",Q),he("E",Q),he("dd",function(e,t){return t.weekdaysMinRegex(e)}),he("ddd",function(e,t){return t.weekdaysShortRegex(e)}),he("dddd",function(e,t){return t.weekdaysRegex(e)}),pe(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),pe(["d","e","E"],function(e,t,n,r){t[r]=w(e)});var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ze=le,Ke=le,Qe=le;function $e(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),l.push(a),u.push(r),u.push(i),u.push(a);for(o.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=de(s[t]),l[t]=de(l[t]),u[t]=de(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function et(){return this.hours()%12||12}function tt(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function nt(e,t){return t._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,et),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+et.apply(this)+H(this.minutes(),2)}),U("hmmss",0,0,function(){return""+et.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),tt("a",!0),tt("A",!1),R("hour","h"),F("hour",13),he("a",nt),he("A",nt),he("H",Q),he("h",Q),he("k",Q),he("HH",Q,J),he("hh",Q,J),he("kk",Q,J),he("hmm",$),he("hmmss",ee),he("Hmm",$),he("Hmmss",ee),fe(["H","HH"],Me),fe(["k","kk"],function(e,t,n){var r=w(e);t[Me]=24===r?0:r}),fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),fe(["h","hh"],function(e,t,n){t[Me]=w(e),f(n).bigHour=!0}),fe("hmm",function(e,t,n){var r=e.length-2;t[Me]=w(e.substr(0,r)),t[xe]=w(e.substr(r)),f(n).bigHour=!0}),fe("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Me]=w(e.substr(0,r)),t[xe]=w(e.substr(r,2)),t[be]=w(e.substr(i)),f(n).bigHour=!0}),fe("Hmm",function(e,t,n){var r=e.length-2;t[Me]=w(e.substr(0,r)),t[xe]=w(e.substr(r))}),fe("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Me]=w(e.substr(0,r)),t[xe]=w(e.substr(r,2)),t[be]=w(e.substr(i))});var rt,it=ke("Hours",!0),at={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ye,monthsShort:Oe,week:{dow:0,doy:6},weekdays:Ve,weekdaysMin:Xe,weekdaysShort:Je,meridiemParse:/[ap]\.?m?\.?/i},ot={},st={};function lt(e){return e?e.toLowerCase().replace("_","-"):e}function ut(t){var r=null;if(!ot[t]&&void 0!==e&&e&&e.exports)try{r=rt._abbr,n(531)("./"+t),ht(r)}catch(e){}return ot[t]}function ht(e,t){var n;return e&&((n=s(t)?dt(e):ct(e,t))?rt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rt._abbr}function ct(e,t){if(null!==t){var n,r=at;if(t.abbr=e,null!=ot[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ot[e]._config;else if(null!=t.parentLocale)if(null!=ot[t.parentLocale])r=ot[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return st[t.parentLocale]||(st[t.parentLocale]=[]),st[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ot[e]=new P(A(r,t)),st[e]&&st[e].forEach(function(e){ct(e.name,e.config)}),ht(e),ot[e]}return delete ot[e],null}function dt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!a(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,r,i,a=0;a<e.length;){for(i=lt(e[a]).split("-"),t=i.length,n=(n=lt(e[a+1]))?n.split("-"):null;t>0;){if(r=ut(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&L(i,n,!0)>=t-1)break;t--}a++}return rt}(e)}function mt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[_e]<0||n[_e]>11?_e:n[ye]<1||n[ye]>Ce(n[ge],n[_e])?ye:n[Me]<0||n[Me]>24||24===n[Me]&&(0!==n[xe]||0!==n[be]||0!==n[we])?Me:n[xe]<0||n[xe]>59?xe:n[be]<0||n[be]>59?be:n[we]<0||n[we]>999?we:-1,f(e)._overflowDayOfYear&&(t<ge||t>ye)&&(t=ye),f(e)._overflowWeeks&&-1===t&&(t=Le),f(e)._overflowWeekday&&-1===t&&(t=qe),f(e).overflow=t),e}function ft(e,t,n){return null!=e?e:null!=t?t:n}function pt(e){var t,n,r,a,o,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ye]&&null==e._a[_e]&&function(e){var t,n,r,i,a,o,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,o=4,n=ft(t.GG,e._a[ge],Ge(kt(),1,4).year),r=ft(t.W,1),((i=ft(t.E,1))<1||i>7)&&(l=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var u=Ge(kt(),a,o);n=ft(t.gg,e._a[ge],u.year),r=ft(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a}r<1||r>We(n,a,o)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=Ue(n,r,i,a,o),e._a[ge]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=ft(e._a[ge],r[ge]),(e._dayOfYear>Se(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=ze(o,0,e._dayOfYear),e._a[_e]=n.getUTCMonth(),e._a[ye]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Me]&&0===e._a[xe]&&0===e._a[be]&&0===e._a[we]&&(e._nextDay=!0,e._a[Me]=0),e._d=(e._useUTC?ze:function(e,t,n,r,i,a,o){var s=new Date(e,t,n,r,i,a,o);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Me]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(f(e).weekdayMismatch=!0)}}var vt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/Z|[+-]\d\d(?::?\d\d)?/,yt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xt=/^\/?Date\((\-?\d+)/i;function bt(e){var t,n,r,i,a,o,s=e._i,l=vt.exec(s)||gt.exec(s);if(l){for(f(e).iso=!0,t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(l[1])){i=yt[t][0],r=!1!==yt[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Mt.length;t<n;t++)if(Mt[t][1].exec(l[3])){a=(l[2]||" ")+Mt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(l[4]){if(!_t.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Tt(e)}else e._isValid=!1}var wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Lt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var qt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,n,r,i,a,o,s,l=wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var u=(t=l[4],n=l[3],r=l[2],i=l[5],a=l[6],o=l[7],s=[Lt(t),Oe.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(a,10)],o&&s.push(parseInt(o,10)),s);if(!function(e,t,n){if(e){var r=Je.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(l[1],u,e))return;e._a=u,e._tzm=function(e,t,n){if(e)return qt[e];if(t)return 0;var r=parseInt(n,10),i=r%100,a=(r-i)/100;return 60*a+i}(l[8],l[9],l[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function Tt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],f(e).empty=!0;var t,n,r,a,o,s=""+e._i,l=s.length,u=0;for(r=W(e._f,e._locale).match(N)||[],t=0;t<r.length;t++)a=r[t],(n=(s.match(ce(a,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&f(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),u+=n.length),B[a]?(n?f(e).empty=!1:f(e).unusedTokens.push(a),ve(a,n,e)):e._strict&&!n&&f(e).unusedTokens.push(a);f(e).charsLeftOver=l-u,s.length>0&&f(e).unusedInput.push(s),e._a[Me]<=12&&!0===f(e).bigHour&&e._a[Me]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Me]=(h=e._locale,c=e._a[Me],null==(d=e._meridiem)?c:null!=h.meridiemHour?h.meridiemHour(c,d):null!=h.isPM?((m=h.isPM(d))&&c<12&&(c+=12),m||12!==c||(c=0),c):c),pt(e),mt(e)}else St(e);else bt(e);var h,c,d,m}function Et(e){var t=e._i,n=e._f;return e._locale=e._locale||dt(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new M(mt(t)):(u(t)?e._d=t:a(n)?function(e){var t,n,r,i,a;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Tt(t),p(t)&&(a+=f(t).charsLeftOver,a+=10*f(t).unusedTokens.length,f(t).score=a,(null==r||a<r)&&(r=a,n=t));d(e,n||t)}(e):n?Tt(e):function(e){var t=e._i;s(t)?e._d=new Date(i.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=xt.exec(e._i);null===t?(bt(e),!1===e._isValid&&(delete e._isValid,St(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=h(t.slice(0),function(e){return parseInt(e,10)}),pt(e)):o(t)?function(e){if(!e._d){var t=O(e._i);e._a=h([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),pt(e)}}(e):l(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),p(e)||(e._d=null),e))}function Dt(e,t,n,r,i){var s,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||a(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=e,l._f=t,l._strict=r,(s=new M(mt(Et(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function kt(e,t,n,r){return Dt(e,t,n,r,!1)}i.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var At=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Pt=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()});function Ct(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return kt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Rt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Yt(e){var t=O(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,h=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ee.call(Rt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Rt.length;++r)if(e[Rt[r]]){if(n)return!1;parseFloat(e[Rt[r]])!==w(e[Rt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+h+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=dt(),this._bubble()}function Ot(e){return e instanceof Yt}function It(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){U(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),he("Z",se),he("ZZ",se),fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(se,e)});var Ht=/([\+\-]|\d\d)/gi;function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Ht)||["-",0,0],a=60*i[1]+w(i[2]);return 0===a?0:"+"===i[0]?a:-a}function jt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(x(e)||u(e)?e.valueOf():kt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):kt(e).local()}function zt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ut=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Gt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var n,r,i,a,o,s,u=e,h=null;return Ot(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(u={},t?u[t]=e:u.milliseconds=e):(h=Ut.exec(e))?(n="-"===h[1]?-1:1,u={y:0,d:w(h[ye])*n,h:w(h[Me])*n,m:w(h[xe])*n,s:w(h[be])*n,ms:w(It(1e3*h[we]))*n}):(h=Gt.exec(e))?(n="-"===h[1]?-1:(h[1],1),u={y:Vt(h[2],n),M:Vt(h[3],n),w:Vt(h[4],n),d:Vt(h[5],n),h:Vt(h[6],n),m:Vt(h[7],n),s:Vt(h[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(a=kt(u.from),o=kt(u.to),i=a.isValid()&&o.isValid()?(o=jt(o,a),a.isBefore(o)?s=Jt(a,o):((s=Jt(o,a)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),r=new Yt(u),Ot(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Xt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Zt(this,Wt(n="string"==typeof n?+n:n,r),e),this}}function Zt(e,t,n,r){var a=t._milliseconds,o=It(t._days),s=It(t._months);e.isValid()&&(r=null==r||r,s&&Ie(e,Ae(e,"Month")+s*n),o&&Pe(e,"Date",Ae(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&i.updateOffset(e,o||s))}Wt.fn=Yt.prototype,Wt.invalid=function(){return Wt(NaN)};var Kt=Xt(1,"add"),Qt=Xt(-1,"subtract");function $t(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return t-a<0?(n=e.clone().add(i-1,"months"),r=(t-a)/(a-n)):(n=e.clone().add(i+1,"months"),r=(t-a)/(n-a)),-(i+r)||0}function en(e){var t;return void 0===e?this._locale._abbr:(null!=(t=dt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function nn(){return this._locale}function rn(e,t){U(0,[e,e.length],0,t)}function an(e,t,n,r,i){var a;return null==e?Ge(this,r,i).year:(a=We(e,r,i),t>a&&(t=a),function(e,t,n,r,i){var a=Ue(e,t,n,r,i),o=ze(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,r,i))}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),he("G",ae),he("g",ae),he("GG",Q,J),he("gg",Q,J),he("GGGG",ne,Z),he("gggg",ne,Z),he("GGGGG",re,K),he("ggggg",re,K),pe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=w(e)}),pe(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),R("quarter","Q"),F("quarter",7),he("Q",V),fe("Q",function(e,t){t[_e]=3*(w(e)-1)}),U("D",["DD",2],"Do","date"),R("date","D"),F("date",9),he("D",Q),he("DD",Q,J),he("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],ye),fe("Do",function(e,t){t[ye]=w(e.match(Q)[0])});var on=ke("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),F("dayOfYear",4),he("DDD",te),he("DDDD",X),fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),U("m",["mm",2],0,"minute"),R("minute","m"),F("minute",14),he("m",Q),he("mm",Q,J),fe(["m","mm"],xe);var sn=ke("Minutes",!1);U("s",["ss",2],0,"second"),R("second","s"),F("second",15),he("s",Q),he("ss",Q,J),fe(["s","ss"],be);var ln,un=ke("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),F("millisecond",16),he("S",te,V),he("SS",te,J),he("SSS",te,X),ln="SSSS";ln.length<=9;ln+="S")he(ln,ie);function hn(e,t){t[we]=w(1e3*("0."+e))}for(ln="S";ln.length<=9;ln+="S")fe(ln,hn);var cn=ke("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var dn=M.prototype;function mn(e){return e}dn.add=Kt,dn.calendar=function(e,t){var n=e||kt(),r=jt(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",o=t&&(k(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,kt(n)))},dn.clone=function(){return new M(this)},dn.diff=function(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=jt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=Y(t)){case"year":a=$t(this,r)/12;break;case"month":a=$t(this,r);break;case"quarter":a=$t(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:b(a)},dn.endOf=function(e){return void 0===(e=Y(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},dn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)},dn.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||kt(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.fromNow=function(e){return this.from(kt(),e)},dn.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||kt(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.toNow=function(e){return this.to(kt(),e)},dn.get=function(e){return k(this[e=Y(e)])?this[e]():this},dn.invalidAt=function(){return f(this).overflow},dn.isAfter=function(e,t){var n=x(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Y(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},dn.isBefore=function(e,t){var n=x(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Y(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},dn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},dn.isSame=function(e,t){var n,r=x(e)?e:kt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Y(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},dn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},dn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},dn.isValid=function(){return p(this)},dn.lang=tn,dn.locale=en,dn.localeData=nn,dn.max=Pt,dn.min=At,dn.parsingFlags=function(){return d({},f(this))},dn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:I[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=O(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(k(this[e=Y(e)]))return this[e](t);return this},dn.startOf=function(e){switch(e=Y(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},dn.subtract=Qt,dn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},dn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},dn.toDate=function(){return new Date(this.valueOf())},dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},dn.toJSON=function(){return this.isValid()?this.toISOString():null},dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.year=De,dn.isLeapYear=function(){return Te(this.year())},dn.weekYear=function(e){return an.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function(e){return an.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},dn.month=Fe,dn.daysInMonth=function(){return Ce(this.year(),this.month())},dn.week=dn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},dn.isoWeek=dn.isoWeeks=function(e){var t=Ge(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},dn.weeksInYear=function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},dn.isoWeeksInYear=function(){return We(this.year(),1,4)},dn.date=on,dn.day=dn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},dn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},dn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},dn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},dn.hour=dn.hours=it,dn.minute=dn.minutes=sn,dn.second=dn.seconds=un,dn.millisecond=dn.milliseconds=cn,dn.utcOffset=function(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Nt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=zt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Zt(this,Wt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:zt(this)},dn.utc=function(e){return this.utcOffset(0,e)},dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},dn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},dn.isUtc=Bt,dn.isUTC=Bt,dn.zoneAbbr=function(){return this._isUTC?"UTC":""},dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=S("dates accessor is deprecated. Use date instead.",on),dn.months=S("months accessor is deprecated. Use month instead",Fe),dn.years=S("years accessor is deprecated. Use year instead",De),dn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),dn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),(e=Et(e))._a){var t=e._isUTC?m(e._a):kt(e._a);this._isDSTShifted=this.isValid()&&L(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var fn=P.prototype;function pn(e,t,n,r){var i=dt(),a=m().set(r,t);return i[n](a,e)}function vn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return pn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=pn(e,r,n,"month");return i}function gn(e,t,n,r){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=dt(),o=e?a._week.dow:0;if(null!=n)return pn(t,(n+o)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=pn(t,(i+o)%7,r,"day");return s}fn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return k(r)?r.call(t,n):r},fn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(e){return this._ordinal.replace("%d",e)},fn.preparse=mn,fn.postformat=mn,fn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return k(i)?i(e,t,n,r):i.replace(/%d/i,e)},fn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)},fn.set=function(e){var t,n;for(n in e)k(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Re).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},fn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Re.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(e,t,n){var r,i,a;if(this._monthsParseExact)return function(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=m([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ee.call(this._shortMonthsParse,o))?i:null:-1!==(i=Ee.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Ee.call(this._shortMonthsParse,o))?i:-1!==(i=Ee.call(this._longMonthsParse,o))?i:null:-1!==(i=Ee.call(this._longMonthsParse,o))?i:-1!==(i=Ee.call(this._shortMonthsParse,o))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=m([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},fn.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||je.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||je.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=He),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(e){return Ge(e,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(e,t){return e?a(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},fn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},fn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},fn.weekdaysParse=function(e,t,n){var r,i,a;if(this._weekdaysParseExact)return function(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=m([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ee.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ee.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Ee.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Ee.call(this._weekdaysParse,o))?i:-1!==(i=Ee.call(this._shortWeekdaysParse,o))?i:-1!==(i=Ee.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ee.call(this._shortWeekdaysParse,o))?i:-1!==(i=Ee.call(this._weekdaysParse,o))?i:-1!==(i=Ee.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Ee.call(this._minWeekdaysParse,o))?i:-1!==(i=Ee.call(this._weekdaysParse,o))?i:-1!==(i=Ee.call(this._shortWeekdaysParse,o))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=m([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},fn.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ke),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},fn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ht("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),i.lang=S("moment.lang is deprecated. Use moment.locale instead.",ht),i.langData=S("moment.langData is deprecated. Use moment.localeData instead.",dt);var _n=Math.abs;function yn(e,t,n,r){var i=Wt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Mn(e){return e<0?Math.floor(e):Math.ceil(e)}function xn(e){return 4800*e/146097}function bn(e){return 146097*e/4800}function wn(e){return function(){return this.as(e)}}var Ln=wn("ms"),qn=wn("s"),Sn=wn("m"),Tn=wn("h"),En=wn("d"),Dn=wn("w"),kn=wn("M"),An=wn("y");function Pn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Cn=Pn("milliseconds"),Rn=Pn("seconds"),Yn=Pn("minutes"),On=Pn("hours"),In=Pn("days"),Fn=Pn("months"),Hn=Pn("years"),Nn=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,M:11},zn=Math.abs;function Bn(e){return(e>0)-(e<0)||+e}function Un(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=zn(this._milliseconds)/1e3,r=zn(this._days),i=zn(this._months);e=b(n/60),t=b(e/60),n%=60,e%=60;var a=b(i/12),o=i%=12,s=r,l=t,u=e,h=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var d=c<0?"-":"",m=Bn(this._months)!==Bn(c)?"-":"",f=Bn(this._days)!==Bn(c)?"-":"",p=Bn(this._milliseconds)!==Bn(c)?"-":"";return d+"P"+(a?m+a+"Y":"")+(o?m+o+"M":"")+(s?f+s+"D":"")+(l||u||h?"T":"")+(l?p+l+"H":"")+(u?p+u+"M":"")+(h?p+h+"S":"")}var Gn=Yt.prototype;return Gn.isValid=function(){return this._isValid},Gn.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},Gn.add=function(e,t){return yn(this,e,t,1)},Gn.subtract=function(e,t){return yn(this,e,t,-1)},Gn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=Y(e))||"year"===e)return t=this._days+r/864e5,n=this._months+xn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(bn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Gn.asMilliseconds=Ln,Gn.asSeconds=qn,Gn.asMinutes=Sn,Gn.asHours=Tn,Gn.asDays=En,Gn.asWeeks=Dn,Gn.asMonths=kn,Gn.asYears=An,Gn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},Gn._bubble=function(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Mn(bn(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=b(a/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,o+=b(n/24),i=b(xn(o)),s+=i,o-=Mn(bn(i)),r=b(s/12),s%=12,l.days=o,l.months=s,l.years=r,this},Gn.clone=function(){return Wt(this)},Gn.get=function(e){return e=Y(e),this.isValid()?this[e+"s"]():NaN},Gn.milliseconds=Cn,Gn.seconds=Rn,Gn.minutes=Yn,Gn.hours=On,Gn.days=In,Gn.weeks=function(){return b(this.days()/7)},Gn.months=Fn,Gn.years=Hn,Gn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Wt(e).abs(),i=Nn(r.as("s")),a=Nn(r.as("m")),o=Nn(r.as("h")),s=Nn(r.as("d")),l=Nn(r.as("M")),u=Nn(r.as("y")),h=i<=jn.ss&&["s",i]||i<jn.s&&["ss",i]||a<=1&&["m"]||a<jn.m&&["mm",a]||o<=1&&["h"]||o<jn.h&&["hh",o]||s<=1&&["d"]||s<jn.d&&["dd",s]||l<=1&&["M"]||l<jn.M&&["MM",l]||u<=1&&["y"]||["yy",u];return h[2]=t,h[3]=+e>0,h[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,h)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Gn.toISOString=Un,Gn.toString=Un,Gn.toJSON=Un,Gn.locale=en,Gn.localeData=nn,Gn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Un),Gn.lang=tn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),he("x",ae),he("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),fe("x",function(e,t,n){n._d=new Date(w(e))}),i.version="2.22.2",t=kt,i.fn=dn,i.min=function(){return Ct("isBefore",[].slice.call(arguments,0))},i.max=function(){return Ct("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=m,i.unix=function(e){return kt(1e3*e)},i.months=function(e,t){return vn(e,t,"months")},i.isDate=u,i.locale=ht,i.invalid=v,i.duration=Wt,i.isMoment=x,i.weekdays=function(e,t,n){return gn(e,t,n,"weekdays")},i.parseZone=function(){return kt.apply(null,arguments).parseZone()},i.localeData=dt,i.isDuration=Ot,i.monthsShort=function(e,t){return vn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return gn(e,t,n,"weekdaysMin")},i.defineLocale=ct,i.updateLocale=function(e,t){if(null!=t){var n,r,i=at;null!=(r=ut(e))&&(i=r._config),t=A(i,t),(n=new P(t)).parentLocale=ot[e],ot[e]=n,ht(e)}else null!=ot[e]&&(null!=ot[e].parentLocale?ot[e]=ot[e].parentLocale:null!=ot[e]&&delete ot[e]);return ot[e]},i.locales=function(){return T(ot)},i.weekdaysShort=function(e,t,n){return gn(e,t,n,"weekdaysShort")},i.normalizeUnits=Y,i.relativeTimeRounding=function(e){return void 0===e?Nn:"function"==typeof e&&(Nn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==jn[e]&&(void 0===t?jn[e]:(jn[e]=t,"s"===e&&(jn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=dn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n(530)(e))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},,function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(34),i=n.n(r),a=n(11),o=n.n(a),s=n(0),l=n(2),u=n(30),h={WEST:0,EAST:1,SOUTH:2,NORTH:3};function c(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this._crs=e,this.isTiledCrs()){if(3!=r.length)throw new Error("Unsupported constructor args '".concat(r,"'"));if(this.zoom=r[0],this.row=r[1],this.col=r[2],this.zoom<0)throw new Error("invlid WTMS values ".concat(r))}else if(2===r.length&&r[0]instanceof l.e&&r[1]instanceof l.e)this._values=new Float64Array(4),this._values[h.WEST]=r[0]._values[0],this._values[h.EAST]=r[1]._values[0],this._values[h.SOUTH]=r[0]._values[1],this._values[h.NORTH]=r[1]._values[1];else if(1==r.length&&null!=r[0].west)this._values=new Float64Array(4),this._values[h.WEST]=r[0].west,this._values[h.EAST]=r[0].east,this._values[h.SOUTH]=r[0].south,this._values[h.NORTH]=r[0].north;else{if(4!=r.length)throw new Error("Unsupported constructor args '".concat(r,"'"));this._values=new Float64Array(4),Object.keys(h).forEach(function(e){var n=h[e];t._values[n]=r[n]})}}c.prototype.clone=function(){return this.isTiledCrs()?new c(this._crs,this.zoom,this.row,this.col):i()(c,[this._crs].concat(o()(this._values)))},c.prototype.isTiledCrs=function(){return 0==this._crs.indexOf("WMTS:")||"TMS"==this._crs};var d=new l.e("EPSG:4326",180,85.06);d.as("EPSG:3857",d);var m=2*d._values[0],f=2*d._values[1];c.prototype.as=function(e){if(Object(l.c)(e),this.isTiledCrs()){if("WMTS:PM"==this._crs||"TMS"==this._crs){var t=Math.pow(2,this.zoom),n=1/t,r=1-n*(t-this.row),i=r+n;if("EPSG:3857"==e){var a=(.5-n*(t-this.col))*m;return new c("EPSG:3857",{west:a,east:a+n*m,south:(.5-i)*f,north:(.5-r)*f}).as(e)}var o=360/t,s=u.a.YToWGS84(r),h=u.a.YToWGS84(i),d=180-o*(t-this.col),p=c("EPSG:4326",{west:d,east:d+o,south:h,north:s});return"EPSG:4326"==e?p:p.as(e)}if("WMTS:WGS84G"==this._crs&&"EPSG:4326"==e){var v=Math.pow(2,this.zoom),g=180/v,_=g*(v-this.row)-90,y=g*(v-(this.row+1))-90;return new c(e,{west:180-g*(2*v-this.col),east:180-g*(2*v-(this.col+1)),south:y,north:_})}throw new Error("Unsupported yet")}if(!(this._crs==e||Object(l.g)(this._crs)&&Object(l.g)(e))){var M=[],x=this.center();M.push(new l.e(this._crs,this.west(),this.north())),M.push(new l.e(this._crs,x._values[0],this.north())),M.push(new l.e(this._crs,this.east(),this.north())),M.push(new l.e(this._crs,this.east(),x._values[1])),M.push(new l.e(this._crs,this.east(),this.south())),M.push(new l.e(this._crs,x._values[0],this.south())),M.push(new l.e(this._crs,this.west(),this.south())),M.push(new l.e(this._crs,this.west(),x._values[1]));for(var b=-1/0,w=1/0,L=-1/0,q=1/0,S=0;S<M.length;S++)M[S]=M[S].as(e),b=Math.max(b,M[S]._values[1]),w=Math.min(w,M[S]._values[1]),L=Math.max(L,M[S]._values[0]),q=Math.min(q,M[S]._values[0]);return new c(e,{north:b,south:w,east:L,west:q})}return new c(e,{west:this.west(),east:this.east(),north:this.north(),south:this.south()})},c.prototype.offsetToParent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.Vector4;if(this.crs()!=e.crs())throw new Error("unsupported mix");if(this.isTiledCrs()){var n=this.zoom-e.zoom,r=Math.pow(2,n),i=1/r,a=(this.row-this.row%r)*i,o=(this.col-this.col%r)*i;return t.set(this.col*i-o,this.row*i-a,i,i)}var l=Math.abs(e.east()-e.west()),u=Math.abs(e.north()-e.south()),h=(this.west()-e.west())/l,c=(e.north()-this.north())/u,d=Math.abs(this.east()-this.west())/l,m=Math.abs(this.north()-this.south())/u;return t.set(h,c,d,m)},c.prototype.west=function(){return this._values[h.WEST]},c.prototype.east=function(){return this._values[h.EAST]},c.prototype.north=function(){return this._values[h.NORTH]},c.prototype.south=function(){return this._values[h.SOUTH]},c.prototype.crs=function(){return this._crs},c.prototype.center=function(e){if(this.isTiledCrs())throw new Error("Invalid operation for WMTS bbox");var t;e?(l.e.call(e,this._crs,this._values[0],this._values[2]),t=e):t=new l.e(this._crs,this._values[0],this._values[2]);var n=this.dimensions();return t._values[0]+=.5*n.x,t._values[1]+=.5*n.y,t},c.prototype.dimensions=function(e){return(e=e||{x:0,y:0}).x=Math.abs(this.east()-this.west()),e.y=Math.abs(this.north()-this.south()),e},c.prototype.isPointInside=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.crs()==e.crs?e:e.as(this.crs());return Object(l.d)(this.crs())?n.longitude()<=this.east()+t&&n.longitude()>=this.west()-t&&n.latitude()<=this.north()+t&&n.latitude()>=this.south()-t:n.x()<=this.east()+t&&n.x()>=this.west()-t&&n.y()<=this.north()+t&&n.y()>=this.south()-t},c.prototype.isInside=function(e,t){if(this.isTiledCrs()){if(this.zoom==e.zoom)return this.row==e.row&&this.col==e.col;if(this.zoom<e.zoom)return!1;var n=this.zoom-e.zoom,r=Math.pow(2,n),i=1/r,a=(this.row-this.row%r)*i,o=(this.col-this.col%r)*i;return a==e.row&&o==e.col}var s=e.as(this._crs);return t=null==t?Object(l.h)(this._crs):t,this.east()-s.east()<=t&&s.west()-this.west()<=t&&this.north()-s.north()<=t&&s.south()-this.south()<=t},c.prototype.offsetScale=function(e){if(e.crs()!=this.crs())throw new Error("unsupported offscale between 2 diff crs");var t=Math.abs(this.east()-this.west()),n=Math.abs(this.north()-this.south()),r=(e.west()-this.west())/t,i=(e.north()-this.north())/n,a=Math.abs(e.east()-e.west())/t,o=Math.abs(e.north()-e.south())/n;return new s.Vector4(r,i,a,o)},c.prototype.intersectsExtent=function(e){var t=e.crs()==this.crs()?e:e.as(this.crs());return!(this.west()>=t.east()||this.east()<=t.west()||this.south()>=t.north()||this.north()<=t.south())},c.prototype.intersect=function(e){return this.intersectsExtent(e)?(e.crs()!=this.crs()&&(e=e.as(this.crs())),new c(this.crs(),Math.max(this.west(),e.west()),Math.min(this.east(),e.east()),Math.max(this.south(),e.south()),Math.min(this.north(),e.north()))):new c(this.crs(),0,0,0,0)},c.prototype.set=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.isTiledCrs()?(this.zoom=n[0],this.row=n[1],this.col=n[2]):Object.keys(h).forEach(function(t){var r=h[t];e._values[r]=n[r]}),this},c.prototype.union=function(e){if(e.crs()!=this.crs())throw new Error("unsupported union between 2 diff crs");var t=e.west();t<this.west()&&(this._values[h.WEST]=t);var n=e.east();n>this.east()&&(this._values[h.EAST]=n);var r=e.south();r<this.south()&&(this._values[h.SOUTH]=r);var i=e.north();i>this.north()&&(this._values[h.NORTH]=i)};var p=new l.e("EPSG:4326",0,0,0);c.prototype.expandByPoint=function(e){var t=e.crs==this.crs()?e:e.as(this.crs(),p),n=t._values[0];n<this.west()&&(this._values[h.WEST]=n),n>this.east()&&(this._values[h.EAST]=n);var r=t._values[1];r<this.south()&&(this._values[h.SOUTH]=r),r>this.north()&&(this._values[h.NORTH]=r)},c.fromBox3=function(e,t){return new c(e,{west:t.min.x,east:t.max.x,south:t.min.y,north:t.max.y})},c.prototype.extentParent=function(e){if(this.isTiledCrs()){if(e&&e<this.zoom){var t=this.zoom-e,n=Math.pow(2,t),r=1/n,i=(this.row-this.row%n)*r,a=(this.col-this.col%n)*r;return new c(this.crs(),e,i,a)}return this}},c.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.isTiledCrs()?"".concat(this.zoom).concat(e).concat(this.row).concat(e).concat(this.col):"".concat(this.east()).concat(e).concat(this.north()).concat(e).concat(this.west()).concat(e).concat(this.south())};var v=new l.e("EPSG:4326",0,0,0);c.prototype.subdivision=function(){return this.center(v),[new c(this.crs(),this.west(),v._values[0],v._values[1],this.north()),new c(this.crs(),v._values[0],this.east(),v._values[1],this.north()),new c(this.crs(),this.west(),v._values[0],this.south(),v._values[1]),new c(this.crs(),v._values[0],this.east(),this.south(),v._values[1])]},t.a=c},function(e,t,n){var r=n(33),i=n(1);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){var r=n(116);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(165),i=n(166),a=n(167);e.exports=function(e){return r(e)||i(e)||a()}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n(0),i=n(31),a=0,o={UPDATE_START:"update_start",BEFORE_CAMERA_UPDATE:"before_camera_update",AFTER_CAMERA_UPDATE:"after_camera_update",BEFORE_LAYER_UPDATE:"before_layer_update",AFTER_LAYER_UPDATE:"after_layer_update",BEFORE_RENDER:"before_render",AFTER_RENDER:"after_render",UPDATE_END:"update_end"};function s(e,t){this.renderingState=a,this.needsRedraw=!1,this.scheduler=e,this.gfxEngine=t,this._updateLoopRestarted=!0}function l(e,t,n){if(n){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,h=t.update(e,t,u),c=t.getObjectToUpdateForAttachedLayers(u);if(c)if(c.element){var d=!0,m=!1,f=void 0;try{for(var p,v=t.attachedLayers[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var g=p.value;g.ready&&g.update(e,g,c.element,c.parent)}}catch(e){m=!0,f=e}finally{try{d||null==v.return||v.return()}finally{if(m)throw f}}}else if(c.elements)for(var _=0;_<c.elements.length;_++){if(!c.elements[_].isObject3D)throw new Error("\n                            Invalid object for attached layer to update.\n                            Must be a THREE.Object and have a THREE.Material");var y=!0,M=!1,x=void 0;try{for(var b,w=t.attachedLayers[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var L=b.value;L.ready&&L.update(e,L,c.elements[_],c.parent)}}catch(e){M=!0,x=e}finally{try{y||null==w.return||w.return()}finally{if(M)throw x}}}l(e,t,h)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}function u(e,t){var n=!1,r=new Set;return e.forEach(function(e){e===t||e.isCamera?(t.info.clear(),n=!0):e.layer===t&&r.add(e)}),n?new Set([t]):r}s.prototype=Object.create(r.EventDispatcher.prototype),s.prototype.constructor=s,s.prototype.scheduleViewUpdate=function(e,t){var n=this;this.needsRedraw|=t,1!==this.renderingState&&(this.renderingState=1,requestAnimationFrame(function(t){n._step(e,t)}))},s.prototype._update=function(e,t,n){var r={camera:e.camera,engine:this.gfxEngine,scheduler:this.scheduler,view:e};t.forEach(function(n){var r=n.layer||n;if(r.isLayer){var i=e.getParentLayer(r);i&&t.add(i)}});var i=!0,a=!1,s=void 0;try{for(var h,c=e.getLayers(function(e,t){return!t})[Symbol.iterator]();!(i=(h=c.next()).done);i=!0){var d=h.value;if(r.geometryLayer=d,d.ready&&d.visible&&!d.frozen){e.execFrameRequesters(o.BEFORE_LAYER_UPDATE,n,this._updateLoopRestarted,d);var m=u(t,d);if(m.size>0){var f=d.preUpdate(r,m);l(r,d,f),d.postUpdate(r,d,t)}e.execFrameRequesters(o.AFTER_LAYER_UPDATE,n,this._updateLoopRestarted,d)}}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}},s.prototype._step=function(e,t){var n=t-this._lastTimestamp;e._executeFrameRequestersRemovals(),e.execFrameRequesters(o.UPDATE_START,n,this._updateLoopRestarted);var r=this.needsRedraw;this._lastTimestamp=t,this.needsRedraw=!1,this.renderingState=a;var s=new Set(e._changeSources);e._changeSources.clear();var l=this.gfxEngine.getWindowSize();e.execFrameRequesters(o.BEFORE_CAMERA_UPDATE,n,this._updateLoopRestarted),e.camera.update(l.x,l.y),e.execFrameRequesters(o.AFTER_CAMERA_UPDATE,n,this._updateLoopRestarted);var u=e.camera.camera3D.matrixAutoUpdate;e.camera.camera3D.matrixAutoUpdate=!1,this._update(e,s,n),0==this.scheduler.commandsWaitingExecutionCount()&&this.dispatchEvent({type:"command-queue-empty"}),r&&this._renderView(e,n),this._updateLoopRestarted=this.renderingState===a,e.camera.camera3D.matrixAutoUpdate=u,i.a.flush(),e.execFrameRequesters(o.UPDATE_END,n,this._updateLoopRestarted)},s.prototype._renderView=function(e,t){e.execFrameRequesters(o.BEFORE_RENDER,t,this._updateLoopRestarted),e.render?e.render():this.gfxEngine.renderView(e),e.execFrameRequesters(o.AFTER_RENDER,t,this._updateLoopRestarted)},t.c=s},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(1),f=n.n(m),p=n(0),v=n(43),g=n(77),_=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i()(this,t),(r=l()(this,h()(t).call(this))).isLayer=!0,Object.assign(f()(f()(r)),a),Object.defineProperty(f()(f()(r)),"id",{value:e,writable:!1}),Object.defineProperty(f()(f()(r)),"type",{value:n,writable:!1}),r.options=a.options||{},r.updateStrategy||(r.updateStrategy={type:v.c,options:{}}),r.defineLayerProperty("frozen",!1),r.info=new g.b(f()(f()(r))),r}return d()(t,e),o()(t,[{key:"defineLayerProperty",value:function(e,t,n){var r=this,i=Object.getOwnPropertyDescriptor(this,e);if(!i||!i.set){var a=null==this[e]?t:this[e];Object.defineProperty(this,e,{get:function(){return a},set:function(t){if(a!==t){var i={type:"".concat(e,"-property-changed"),previous:{},new:{}};i.previous[e]=a,i.new[e]=t,a=t,n&&n(r,e),r.dispatchEvent(i)}}})}}},{key:"convert",value:function(e){return e}}]),t}(p.EventDispatcher);t.b=_;var y={moveLayerToIndex:function(e,t,n){t=Math.min(t,n.length-1),t=Math.max(t,0);var r=e.sequence,i=!0,a=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;u.id===e.id?u.sequence=t:u.sequence>r&&u.sequence<=t?u.sequence--:u.sequence>=t&&u.sequence<r&&u.sequence++}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}},moveLayerDown:function(e,t){e.sequence>0&&this.moveLayerToIndex(e,e.sequence-1,t)},moveLayerUp:function(e,t){var n=t.length-1;e.sequence<n&&this.moveLayerToIndex(e,e.sequence+1,t)},getColorLayersIdOrderedBySequence:function(e){var t=Array.from(e);return t.sort(function(e,t){return e.sequence-t.sequence}),t.map(function(e){return e.id})}}},function(e,t,n){"use strict";var r=n(0),i=new r.TextureLoader;function a(e){if(!e.ok){var t=new Error("Error loading ".concat(e.url,": status ").concat(e.status));throw t.response=e,t}}var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then(function(e){return a(e),e.arrayBuffer()})};t.a={text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then(function(e){return a(e),e.text()})},json:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then(function(e){return a(e),e.json()})},xml:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then(function(e){return a(e),e.text()}).then(function(e){return(new window.DOMParser).parseFromString(e,"text/xml")})},texture:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.crossOrigin=r.crossOrigin;var a=new Promise(function(e,r){t=e,n=r});return i.load(e,t,function(){},n),a},arrayBuffer:o,textureFloat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e,t).then(function(e){return function(e){var t=new r.DataTexture(e,256,256,r.AlphaFormat,r.FloatType);return t.needsUpdate=!0,t}(new Float32Array(e))})}}},function(e,t,n){"use strict";e.exports=n(139),e.exports.easing=n(508),e.exports.canvas=n(509),e.exports.options=n(510)},function(e,t,n){"use strict";n.d(t,"e",function(){return L}),n.d(t,"a",function(){return q}),n.d(t,"d",function(){return E}),n.d(t,"b",function(){return R});var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(1),f=n.n(m),p=n(0),v=n(75),g=n(27),_=n(36),y=n(76),M="#include <itowns/precision_qualifier>\n#include <itowns/project_pars_vertex>\n#include <itowns/elevation_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nattribute float     uv_pm;\nattribute vec2      uv_wgs84;\nattribute vec3      normal;\n\nuniform mat4 modelMatrix;\nuniform bool lightingEnabled;\n\n#if MODE == MODE_FINAL\n#include <fog_pars_vertex>\nvarying vec3        vUv;\nvarying vec3        vNormal;\n#endif\nvoid main() {\n        vec2 uv = vec2(uv_wgs84.x, 1.0 - uv_wgs84.y);\n\n        #include <begin_vertex>\n        #include <itowns/elevation_vertex>\n        #include <project_vertex>\n        #include <logdepthbuf_vertex>\n#if MODE == MODE_FINAL\n        #include <fog_vertex>\n        vUv = vec3(uv_wgs84, (uv_pm > 0.) ? uv_pm : uv_wgs84.y); // set pm=wgs84 if pm=0 (not computed)\n        vNormal = normalize ( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\n#endif\n}\n",x="#include <itowns/precision_qualifier>\n#include <logdepthbuf_pars_fragment>\n#include <itowns/pitUV>\n#include <itowns/color_layers_pars_fragment>\n#if MODE == MODE_FINAL\n#include <itowns/fog_pars_fragment>\n#include <itowns/overlay_pars_fragment>\n#include <itowns/lighting_pars_fragment>\n#endif\n#include <itowns/mode_pars_fragment>\n\nuniform vec3        diffuse;\nuniform float       opacity;\nvarying vec3        vUv; // WGS84.x/PM.x, WGS84.y, PM.y\n\nvoid main() {\n    #include <logdepthbuf_fragment>\n\n#if MODE == MODE_ID\n\n    #include <itowns/mode_id_fragment>\n\n#elif MODE == MODE_DEPTH\n\n    #include <itowns/mode_depth_fragment>\n\n#else\n\n    gl_FragColor = vec4(diffuse, opacity);\n\n    uvs[CRS_WGS84] = vec3(vUv.xy, 0.);\n    uvs[CRS_PM]    = vec3(vUv.x, fract(vUv.z), floor(vUv.z));\n\n    vec4 color;\n    #pragma unroll_loop\n    for ( int i = 0; i < NUM_FS_TEXTURES; i ++ ) {\n        color = getLayerColor( i , colorTextures[ i ], colorOffsetScales[ i ], colorLayers[ i ]);\n        gl_FragColor.rgb = mix(gl_FragColor.rgb, color.rgb, color.a);\n    }\n\n  #if defined(DEBUG)\n    if (showOutline) {\n        #pragma unroll_loop\n        for ( int i = 0; i < NUM_CRS; i ++) {\n            color = getOutlineColor( outlineColors[ i ], uvs[ i ].xy);\n            gl_FragColor.rgb = mix(gl_FragColor.rgb, color.rgb, color.a);\n        }\n    }\n  #endif\n\n    #include <itowns/fog_fragment>\n    #include <itowns/lighting_fragment>\n    #include <itowns/overlay_fragment>\n\n#endif\n}\n",b=new p.Vector4(0,0,1,1),w=new p.Vector4(255/256/16777216,255/256/65536,255/256/256,255/256);function L(e,t){return t?w.dot(e)*t:w.dot(e)}var q=[["WGS84","WGS84G","TMS","EPSG:3946","EPSG:4326","WMTS:WGS84G"],["PM","WMTS:PM"]],S=15,T=1;function E(){var e=g.a.getMaxTextureUnitsCount();return Math.min(e-T,S)}function D(e,t,n){var r=e.layers.value,i=e.textures.value,a=e.offsetScales.value,o=e.textureCount,s=0,l=!0,u=!1,h=void 0;try{for(var c,d=t[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var m=c.value;m.textureOffset=s;for(var f=0,p=m.textures.length;f<p;++f,++s)s<n&&(a[s]=m.offsetScales[f],i[s]=m.textures[f],r[s]=m)}}catch(e){u=!0,h=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw h}}s>n&&console.warn("LayeredMaterial: Not enough texture units (".concat(n," < ").concat(s,"), excess textures have been discarded.")),o.value=s}function k(e,t,n){Object.keys(n).forEach(function(r){e.defines["".concat(t,"_").concat(r)]=n[r]})}function A(e,t,n){e.uniforms[t]=new p.Uniform(n),Object.defineProperty(e,t,{get:function(){return e.uniforms[t].value},set:function(n){e.uniforms[t].value!=n&&(e.uniforms[t].value=n)}})}var P,C,R={RGBA:0,COLOR:1,DATA:2},Y=function(e){function t(){var e,n,r,a,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(this,t),e=l()(this,h()(t).call(this,s)),P=P||[T,E()],e.defines.NUM_VS_TEXTURES=P[0],e.defines.NUM_FS_TEXTURES=P[1],e.defines.USE_FOG=1,e.defines.EPSILON=1e-6;for(var u=0,c=q.length;u<c;++u)e.defines["CRS_".concat(q[u][0])]=u;return e.defines.NUM_CRS=q.length,k(f()(f()(e)),"ELEVATION",R),k(f()(f()(e)),"MODE",_.a.MODES),n=f()(f()(e)),r="mode",a="MODE",o=_.a.MODES.FINAL,n.defines[a]=o,Object.defineProperty(n,r,{get:function(){return n.defines[a]},set:function(e){n.defines[a]!=e&&(n.defines[a]=e,n.needsUpdate=!0)}}),g.a.isLogDepthBufferSupported()&&(e.defines.USE_LOGDEPTHBUF=1,e.defines.USE_LOGDEPTHBUF_EXT=1),e.vertexShader=M,C=C||v.a.unrollLoops(x,e.defines),e.fragmentShader=C,A(f()(f()(e)),"diffuse",new p.Color(.04,.23,.35)),A(f()(f()(e)),"opacity",e.opacity),A(f()(f()(e)),"lightingEnabled",!1),A(f()(f()(e)),"lightPosition",new p.Vector3(-.5,0,1)),A(f()(f()(e)),"fogDistance",1e9),A(f()(f()(e)),"fogColor",new p.Color(.76,.85,1)),A(f()(f()(e)),"overlayAlpha",0),A(f()(f()(e)),"overlayColor",new p.Color(1,.3,0)),A(f()(f()(e)),"objectId",0),A(f()(f()(e)),"minBorderDistance",-.01),e.layers=[],e.elevationLayerIds=[],e.colorLayerIds=[],e.uniforms.elevationLayers=new p.Uniform(new Array(P[0]).fill({})),e.uniforms.elevationTextures=new p.Uniform(new Array(P[0]).fill(null)),e.uniforms.elevationOffsetScales=new p.Uniform(new Array(P[0]).fill(b)),e.uniforms.elevationTextureCount=new p.Uniform(0),e.uniforms.colorLayers=new p.Uniform(new Array(P[1]).fill({})),e.uniforms.colorTextures=new p.Uniform(new Array(P[1]).fill(null)),e.uniforms.colorOffsetScales=new p.Uniform(new Array(P[1]).fill(b)),e.uniforms.colorTextureCount=new p.Uniform(0),e}return d()(t,e),o()(t,[{key:"getUniformByType",value:function(e){return{layers:this.uniforms["".concat(e,"Layers")],textures:this.uniforms["".concat(e,"Textures")],offsetScales:this.uniforms["".concat(e,"OffsetScales")],textureCount:this.uniforms["".concat(e,"TextureCount")]}}},{key:"updateLayersUniforms",value:function(){var e=this,t=this.layers.filter(function(t){return e.colorLayerIds.includes(t.id)&&t.visible&&t.opacity>0});t.sort(function(t,n){return e.colorLayerIds.indexOf(t.id)-e.colorLayerIds.indexOf(n.id)}),D(this.getUniformByType("color"),t,this.defines.NUM_FS_TEXTURES),this.elevationLayerIds.some(function(t){return e.getLayer(t)})&&D(this.getUniformByType("elevation"),[this.getElevationLayer()],this.defines.NUM_VS_TEXTURES),this.layersNeedUpdate=!1}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"}),this.layers.forEach(function(e){return e.dispose(!1)}),this.layers.length=0,this.layersNeedUpdate=!0}},{key:"setSequence",value:function(e){this.colorLayerIds=e,this.layersNeedUpdate=!0}},{key:"setSequenceElevation",value:function(e){this.elevationLayerIds[0]=e,this.layersNeedUpdate=!0}},{key:"removeLayer",value:function(e){var t=this.layers.findIndex(function(t){return t.id===e});t>-1&&(this.layers[t].dispose(),this.layers.splice(t,1))}},{key:"addLayer",value:function(e,t){e.id in this.layers&&console.warn('The "{layer.id}" layer was already present in the material, overwritting.');var n=new y.b(this,e,t);return this.layers.push(n),n}},{key:"getLayer",value:function(e){return this.layers.find(function(t){return t.id===e})}},{key:"getElevationLayer",value:function(){var e=this;return this.layers.find(function(t){return t.id===e.elevationLayerIds[0]})}}]),t}(p.RawShaderMaterial);t.c=Y},,function(e,t,n){"use strict";var r=n(11),i=n.n(r),a=n(0),o=n(2),s=n(67);function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object.defineProperty(this,"crs",{get:function(){return e}}),this.camera3D=r.camera?r.camera:new a.PerspectiveCamera(30,t/n),this._viewMatrix=new a.Matrix4,this.width=t,this.height=n,this._preSSE=1/0}l.prototype.update=function(e,t){!function(e,t,n){e.width=t,e.height=n;var r=t/n;if(e.camera3D.aspect!==r&&(e.camera3D.aspect=r,e.camera3D.isOrthographicCamera)){var i=.5*(e.camera3D.right-e.camera3D.left)/r,a=.5*(e.camera3D.top+e.camera3D.bottom);e.camera3D.top=a+i,e.camera3D.bottom=a-i}e.camera3D.updateProjectionMatrix&&e.camera3D.updateProjectionMatrix()}(this,e,t),this.camera3D.updateMatrixWorld(),this._viewMatrix.multiplyMatrices(this.camera3D.projectionMatrix,this.camera3D.matrixWorldInverse);var n=a.Math.degToRad(this.camera3D.fov),r=this.height/(2*Math.tan(.5*n));this._preSSE=r},l.prototype.position=function(e){return new o.e(this.crs,this.camera3D.position).as(e||this.crs)},l.prototype.setPosition=function(e){this.camera3D.position.copy(e.as(this.crs).xyz())};var u={frustum:new a.Frustum,matrix:new a.Matrix4,box3:new a.Box3},h=[new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3];var c=new a.Box3(new a.Vector3(-1,-1,-1),new a.Vector3(1,1,1));l.prototype.isBox3Visible=function(e,t){return this.box3SizeOnScreen(e,t).intersectsBox(c)},l.prototype.isSphereVisible=function(e,t){return t?(u.matrix.multiplyMatrices(this._viewMatrix,t),u.frustum.setFromMatrix(u.matrix)):u.frustum.setFromMatrix(this._viewMatrix),u.frustum.intersectsSphere(e)},l.prototype.box3SizeOnScreen=function(e,t){var n=function(e,t,n){var r=e.camera3D.matrixWorldInverse;n&&(r=u.matrix.multiplyMatrices(e.camera3D.matrixWorldInverse,n)),h[0].set(t.min.x,t.min.y,t.min.z).applyMatrix4(r),h[1].set(t.min.x,t.min.y,t.max.z).applyMatrix4(r),h[2].set(t.min.x,t.max.y,t.min.z).applyMatrix4(r),h[3].set(t.min.x,t.max.y,t.max.z).applyMatrix4(r),h[4].set(t.max.x,t.min.y,t.min.z).applyMatrix4(r),h[5].set(t.max.x,t.min.y,t.max.z).applyMatrix4(r),h[6].set(t.max.x,t.max.y,t.min.z).applyMatrix4(r),h[7].set(t.max.x,t.max.y,t.max.z).applyMatrix4(r);for(var i=!1,a=0;a<8;a++)h[a].z<=-e.camera3D.near?i=!0:h[a].z=-e.camera3D.near;return i?h:void 0}(this,e,t);if(!n)return u.box3.makeEmpty();for(var r=0;r<8;r++)n[r].applyMatrix4(this.camera3D.projectionMatrix);return u.box3.setFromPoints(n)},l.prototype.adjustAltitudeToAvoidCollisionWithLayer=function(e,t,n){var r=e.camera.position().as("EPSG:4326");if(void 0!==t){var i=s.a.getElevationValueAt(t,r);if(null!=i)r.altitude()-(i.z+n)<0&&(r.setAltitude(i.z+n),e.camera.camera3D.position.copy(r.as(e.referenceCrs).xyz()),e.notifyChange(this.camera3D))}};var d=l,m=n(12),f=n(27),p=n(16);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!f.a.isInternetExplorer();void 0===t.antialias&&(t.antialias=!0),void 0===t.alpha&&(t.alpha=!0),void 0===t.logarithmicDepthBuffer&&(t.logarithmicDepthBuffer=this.gLDebug||n);var r=e.domElement?e:void 0,i=r?void 0:e;this.width=(r?r.domElement:i).clientWidth,this.height=(r?r.domElement:i).clientHeight,this.positionBuffer=null,this._nextThreejsLayer=1,this.fullSizeRenderTarget=new a.WebGLRenderTarget(this.width,this.height),this.fullSizeRenderTarget.texture.minFilter=a.LinearFilter,this.fullSizeRenderTarget.texture.magFilter=a.NearestFilter,this.fullSizeRenderTarget.depthBuffer=!0,this.fullSizeRenderTarget.depthTexture=new a.DepthTexture,this.fullSizeRenderTarget.depthTexture.type=a.UnsignedShortType,this.renderView=function(e){this.renderer.setViewport(0,0,this.width,this.height),this.renderer.clear(),this.renderer.render(e.scene,e.camera.camera3D)}.bind(this),this.onWindowResize=function(e,t){this.width=e,this.height=t,this.fullSizeRenderTarget.setSize(this.width,this.height),this.renderer.setSize(this.width,this.height)}.bind(this);try{this.renderer=r||new a.WebGLRenderer({canvas:document.createElement("canvas"),antialias:t.antialias,alpha:t.alpha,logarithmicDepthBuffer:t.logarithmicDepthBuffer})}catch(e){console.error("Failed to create WebGLRenderer",e),this.renderer=null}if(!this.renderer){var o=document.createElement("div");throw o.id="webgl-error-message",o.style.fontFamily="monospace",o.style.fontSize="13px",o.style.fontWeight="normal",o.style.textAlign="center",o.style.background="#fff",o.style.color="#000",o.style.padding="1.5em",o.style.width="400px",o.style.margin="5em auto 0",o.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.<br>','See also <a href="https://www.khronos.org/webgl/wiki/BlacklistsAndWhitelists">graphics card blacklisting</a>'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.<br>',"You can also try another browser like Firefox or Chrome."].join("\n"),i.appendChild(o),new Error("WebGL unsupported")}if(!r&&t.logarithmicDepthBuffer&&!this.renderer.extensions.get("EXT_frag_depth")){var s=this.renderer.domElement;this.renderer.dispose(),this.renderer=new a.WebGLRenderer({canvas:s,antialias:t.antialias,alpha:t.alpha,logarithmicDepthBuffer:!1})}-1===this.renderer.domElement.tabIndex&&(this.renderer.domElement.tabIndex=-1),f.a.updateCapabilities(this.renderer),this.renderer.setClearColor(197896),this.renderer.autoClear=!1,this.renderer.sortObjects=!0,r||(this.renderer.setPixelRatio(i.devicePixelRatio),this.renderer.setSize(i.clientWidth,i.clientHeight),i.appendChild(this.renderer.domElement))}v.prototype.getWindowSize=function(){return new a.Vector2(this.width,this.height)},v.prototype.getRenderer=function(){return this.renderer},v.prototype.renderViewToBuffer=function(e,t){t||(t={x:0,y:0,width:this.width,height:this.height}),this.renderViewToRenderTarget(e,this.fullSizeRenderTarget,t);var n=new Uint8Array(4*t.width*t.height);return this.renderer.readRenderTargetPixels(this.fullSizeRenderTarget,t.x,this.height-(t.y+t.height),t.width,t.height,n),n},v.prototype.renderViewToRenderTarget=function(e,t,n){t||(t=this.fullSizeRenderTarget);var r=this.renderer.getRenderTarget();return this.fullSizeRenderTarget.viewport.set(0,0,t.width,t.height),n&&(this.fullSizeRenderTarget.scissor.set(n.x,t.height-(n.y+n.height),n.width,n.height),this.fullSizeRenderTarget.scissorTest=!0),this.renderer.setRenderTarget(t),this.renderer.clear(!0,!0,!1),this.renderer.render(e.scene,e.camera.camera3D,t),this.renderer.setRenderTarget(r),this.fullSizeRenderTarget.scissorTest=!1,t},v.prototype.bufferToImage=function(e,t,n){var r=document.createElement("canvas"),i=r.getContext("2d");r.width=t,r.height=n;var a=i.getImageData(0,0,t,n);a.data.set(e),i.putImageData(a,0,0);var o=new Image;return o.src=r.toDataURL(),o},v.prototype.getUniqueThreejsLayer=function(){return this._nextThreejsLayer>31&&(console.warn("Too much three.js layers. Starting from now all of them will use layerMask = 31"),this._nextThreejsLayer=31),this._nextThreejsLayer++};var g=new a.Vector4;v.prototype.depthBufferRGBAValueToOrthoZ=function(e,t){if(g.fromArray(e).divideScalar(255),f.a.isLogDepthBufferSupported()){var n=Object(p.e)(g),r=2/(Math.log(t.far+1)/Math.LN2);return Math.pow(2,2*n/r)}var i=Object(p.e)(g);return i=2*i-1,2*t.near*t.far/(t.far+t.near-i*(t.far-t.near))};var _=v,y=n(36),M=n(13),x=n(94),b=n(95),w=n(58),L=n(124),q=n.n(L),S=n(41),T=n(125),E=n.n(T),D=n(126);function k(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}var A={types:["Unknown","Point","LineString","Polygon"]},P=new o.e("EPSG:4326",180,85.06);P.as("EPSG:3857",P);var C=2*P._values[0],R=2*P._values[1];function Y(e,t,n,r){for(var i=0;i<e.length;i++){var a=e[i];e[i]=[((a.x+t)/r-.5)*C,(.5-(a.y+n)/r)*R]}}function O(e,t,n){var r=this.extent*Math.pow(2,n),i=this.extent*e,a=this.extent*t,o=this.loadGeometry(),s=A.types[this.type];switch(this.type){case 1:for(var l=[],u=0;u<o.length;u++)l[u]=o[u][0];Y(o=l,i,a,r);break;case 2:for(var h=0;h<o.length;h++)Y(o[h],i,a,r);break;case 3:o=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var o=k(e[a]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(o);for(var c=0;c<o.length;c++)for(var d=0;d<o[c].length;d++)Y(o[c][d],i,a,r)}1===o.length?o=o[0]:s="Multi".concat(s);var m={type:"Feature",geometry:{type:s,coordinates:o},properties:this.properties};return"id"in this&&(m.id=this.id),m}var I={parse:function(e,t){return Promise.resolve(function(e,t){var n=new D.VectorTile(new E.a(e)),r=t.extentSource||e.coords,i=Object.keys(n.layers);if(!(i.length<1)){var a={type:"FeatureCollection",features:[],crs:{type:"EPSG",properties:{code:Number(t.crsIn.slice(5))}}};return i.forEach(function(e){for(var o=n.layers[e],s=0;s<o.length;s++){var l=void 0;if(t.isInverted)l=O.bind(o.feature(s))(r.col,r.row,r.zoom);else{var u=1<<r.zoom;l=O.bind(o.feature(s))(r.col,u-r.row-1,r.zoom)}i.length>1&&(l.properties.vt_layer=e),a.features.push(l)}}),S.a.parse(a,{crsIn:t.crsIn,crsOut:t.crsOut,filteringExtent:t.filteringExtent,filter:t.filter,withNormal:t.withNormal,withAltitude:t.withAltitude,mergeFeatures:t.mergeFeatures,buildExtent:!0}).then(function(e){return e.extent.zoom=r.zoom,e})}}(e,t))}},F=n(14),H=n(31),N=n(21),j=new Map([["image/x-bil;bits=32",F.a.textureFloat],["geojson",F.a.json],["application/json",F.a.json],["application/x-protobuf;type=mapbox-vector",F.a.arrayBuffer]]),z=new Map([["geojson",S.a.parse],["application/json",S.a.parse],["application/x-protobuf;type=mapbox-vector",I.parse],[!0,function(e){return e}]]);function B(e,t,n){if(e&&(!n||n(e,t)))return e}var U=function(e,t,n){throw n.handlingError(e,t),e};function G(e,t,n,r){var i=t.source;return(i.fetcher||j.get(i.format)||F.a.texture)(e,i.networkOptions).then(function(e){return e.coords=n,function(e,t,n){var r=e.isTexture||e.isFeature||t.source.format,i={buildExtent:"geometry"!==t.type,crsIn:t.source.projection,crsOut:t.projection,filteringExtent:"geometry"===t.type?n:void 0,filter:t.filter,isInverted:t.source.isInverted,mergeFeatures:void 0===t.mergeFeatures||t.mergeFeatures,withNormal:"geometry"===t.type,withAltitude:"geometry"===t.type};return z.get(r)(e,i)}(e,t,r)},function(t){return U(t,e,i)}).then(function(e){return t.convert(e,r)},function(t){return U(t,e,i)})}var W={executeCommand:function(e){var t=[],n=e.layer,r=n.source,i=e.requester,a=e.extentsSource,o=e.extentsDestination||a,s=e.parsedData||[];if(i&&!i.material)return Promise.reject(new N.a(e));for(var l=0,u=a.length;l<u;l++){var h=a[l],c=o[l],d=r.urlFromExtent(h),m=B(s[l],c,n.isValidData)||r.parsedData,f=m?"".concat(d,",").concat(c.toString(",")):d,p=H.a.get(f);p||(p=m?n.convert(m,c,n):G(d,n,h,c),H.a.set(f,p,H.a.POLICIES.TEXTURE)),t.push(p)}return Promise.all(t)}},V={executeCommand:function(e){var t=[],n=e.layer,r=e.requester,i=e.extentsSource;if(r&&!r.material)return Promise.reject(new N.a(e));for(var a=0,o=i.length;a<o;a++)t.push(n.convert(r,i[a]));return Promise.all(t)}},J=n(33),X=n.n(J),Z={DDSLoader:function(e){a.CompressedTextureLoader.call(this,e),this._parser=Z.DDSLoader.parse}};Z.DDSLoader.prototype=Object.create(a.CompressedTextureLoader.prototype),Z.DDSLoader.prototype.constructor=Z.DDSLoader,Z.DDSLoader.parse=function(e,t){var n={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function r(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function i(e,t,n,r){for(var i=n*r*4,a=new Uint8Array(e,t,i),o=new Uint8Array(i),s=0,l=0,u=0;u<r;u++)for(var h=0;h<n;h++){var c=a[l],d=a[++l],m=a[++l],f=a[++l];l++,o[s]=m,o[++s]=d,o[++s]=c,o[++s]=f,s++}return o}var o,s=r("DXT1"),l=r("DXT3"),u=r("DXT5"),h=r("ETC1"),c=new Int32Array(e,0,31);if(542327876!==c[0])return console.error("threeExamples.DDSLoader.parse: Invalid magic number in DDS header."),n;if(4&!c[20])return console.error("threeExamples.DDSLoader.parse: Unsupported format, must contain a FourCC code."),n;var d,m=c[21],f=!1;switch(m){case s:o=8,n.format=a.RGB_S3TC_DXT1_Format;break;case l:o=16,n.format=a.RGBA_S3TC_DXT3_Format;break;case u:o=16,n.format=a.RGBA_S3TC_DXT5_Format;break;case h:o=8,n.format=a.RGB_ETC1_Format;break;default:if(!(32===c[22]&&16711680&c[23]&&65280&c[24]&&255&c[25]&&4278190080&c[26]))return console.error("threeExamples.DDSLoader.parse: Unsupported FourCC code ",(d=m,String.fromCharCode(255&d,d>>8&255,d>>16&255,d>>24&255))),n;f=!0,o=64,n.format=a.RGBAFormat}n.mipmapCount=1,131072&c[2]&&!1!==t&&(n.mipmapCount=Math.max(1,c[7]));var p=c[28];if(n.isCubemap=!!(512&p),n.isCubemap&&(!(1024&p)||!(2048&p)||!(4096&p)||!(8192&p)||!(16384&p)||!(32768&p)))return console.error("threeExamples.DDSLoader.parse: Incomplete cubemap faces"),n;n.width=c[4],n.height=c[3];for(var v=c[1]+4,g=n.isCubemap?6:1,_=0;_<g;_++)for(var y=n.width,M=n.height,x=0;x<n.mipmapCount;x++){if(f)var b=(w=i(e,v,y,M)).length;else{b=Math.max(4,y)/4*Math.max(4,M)/4*o;var w=new Uint8Array(e,v,b)}var L={data:w,width:y,height:M};n.mipmaps.push(L),v+=b,y=Math.max(y>>1,1),M=Math.max(M>>1,1)}return n};var K=Z.DDSLoader,Q={DRACOLoader:function(e){this.timeLoaded=0,this.manager=e||a.DefaultLoadingManager,this.materials=null,this.verbosity=0,this.attributeOptions={},this.drawMode=a.TrianglesDrawMode,this.nativeAttributeMap={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"}}};Q.DRACOLoader.prototype={constructor:Q.DRACOLoader,load:function(e,t,n,r){var i=this,o=new a.FileLoader(i.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.load(e,function(e){i.decodeDracoFile(e,t)},n,r)},setPath:function(e){return this.path=e,this},setVerbosity:function(e){return this.verbosity=e,this},setDrawMode:function(e){return this.drawMode=e,this},setSkipDequantization:function(e,t){var n=!0;return void 0!==t&&(n=t),this.getAttributeOptions(e).skipDequantization=n,this},decodeDracoFile:function(e,t,n,r){var i=this;Q.DRACOLoader.getDecoderModule().then(function(a){i.decodeDracoFileInternal(e,a.decoder,t,n,r)})},decodeDracoFileInternal:function(e,t,n,r,i){var a=new t.DecoderBuffer;a.Init(new Int8Array(e),e.byteLength);var o=new t.Decoder,s=o.GetEncodedGeometryType(a);if(s==t.TRIANGULAR_MESH)this.verbosity>0&&console.log("Loaded a mesh.");else{if(s!=t.POINT_CLOUD){var l="threeExamples.DRACOLoader: Unknown geometry type.";throw console.error(l),new Error(l)}this.verbosity>0&&console.log("Loaded a point cloud.")}n(this.convertDracoGeometryTo3JS(t,o,s,a,r,i))},addAttributeToGeometry:function(e,t,n,r,i,o,s,l){if(0===o.ptr){var u="threeExamples.DRACOLoader: No attribute "+r;throw console.error(u),new Error(u)}var h,c,d=o.num_components(),m=n.num_points()*d;switch(i){case Float32Array:h=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,o,h),l[r]=new Float32Array(m),c=a.Float32BufferAttribute;break;case Int8Array:h=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,o,h),l[r]=new Int8Array(m),c=a.Int8BufferAttribute;break;case Int16Array:h=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,o,h),l[r]=new Int16Array(m),c=a.Int16BufferAttribute;break;case Int32Array:h=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,o,h),l[r]=new Int32Array(m),c=a.Int32BufferAttribute;break;case Uint8Array:h=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,o,h),l[r]=new Uint8Array(m),c=a.Uint8BufferAttribute;break;case Uint16Array:h=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,o,h),l[r]=new Uint16Array(m),c=a.Uint16BufferAttribute;break;case Uint32Array:h=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,o,h),l[r]=new Uint32Array(m),c=a.Uint32BufferAttribute;break;default:u="threeExamples.DRACOLoader: Unexpected attribute type.";throw console.error(u),new Error(u)}for(var f=0;f<m;f++)l[r][f]=h.GetValue(f);s.addAttribute(r,new c(l[r],d)),e.destroy(h)},convertDracoGeometryTo3JS:function(e,t,n,r,i,o){var s,l;!0===this.getAttributeOptions("position").skipDequantization&&t.SkipAttributeTransform(e.POSITION);var u=performance.now();if(n===e.TRIANGULAR_MESH?(s=new e.Mesh,l=t.DecodeBufferToMesh(r,s)):(s=new e.PointCloud,l=t.DecodeBufferToPointCloud(r,s)),!l.ok()||0==s.ptr){var h="threeExamples.DRACOLoader: Decoding failed: ";throw h+=l.error_msg(),console.error(h),e.destroy(t),e.destroy(s),new Error(h)}var c,d=performance.now();e.destroy(r),n==e.TRIANGULAR_MESH?(c=s.num_faces(),this.verbosity>0&&console.log("Number of faces loaded: "+c.toString())):c=0;var m=s.num_points(),f=s.num_attributes();this.verbosity>0&&(console.log("Number of points loaded: "+m.toString()),console.log("Number of attributes loaded: "+f.toString()));var p=t.GetAttributeId(s,e.POSITION);if(-1==p){h="threeExamples.DRACOLoader: No position attribute found.";throw console.error(h),e.destroy(t),e.destroy(s),new Error(h)}var v=t.GetAttribute(s,p),g={},_=new a.BufferGeometry;if(i)for(var y in i){var M=o[y],x=i[y],b=t.GetAttributeByUniqueId(s,x);this.addAttributeToGeometry(e,t,s,y,M,b,_,g)}else for(var y in this.nativeAttributeMap){var w=t.GetAttributeId(s,e[this.nativeAttributeMap[y]]);if(-1!==w){this.verbosity>0&&console.log("Loaded "+y+" attribute.");b=t.GetAttribute(s,w);this.addAttributeToGeometry(e,t,s,y,Float32Array,b,_,g)}}if(n==e.TRIANGULAR_MESH)if(this.drawMode===a.TriangleStripDrawMode){var L=new e.DracoInt32Array;t.GetTriangleStripsFromMesh(s,L),g.indices=new Uint32Array(L.size());for(var q=0;q<L.size();++q)g.indices[q]=L.GetValue(q);e.destroy(L)}else{var S=3*c;g.indices=new Uint32Array(S);var T=new e.DracoInt32Array;for(q=0;q<c;++q){t.GetFaceFromMesh(s,q,T);var E=3*q;g.indices[E]=T.GetValue(0),g.indices[E+1]=T.GetValue(1),g.indices[E+2]=T.GetValue(2)}e.destroy(T)}_.drawMode=this.drawMode,n==e.TRIANGULAR_MESH&&_.setIndex(new(g.indices.length>65535?a.Uint32BufferAttribute:a.Uint16BufferAttribute)(g.indices,1));var D=new e.AttributeQuantizationTransform;if(D.InitFromAttribute(v)){_.attributes.position.isQuantized=!0,_.attributes.position.maxRange=D.range(),_.attributes.position.numQuantizationBits=D.quantization_bits(),_.attributes.position.minValues=new Float32Array(3);for(q=0;q<3;++q)_.attributes.position.minValues[q]=D.min_value(q)}return e.destroy(D),e.destroy(t),e.destroy(s),this.decode_time=d-u,this.import_time=performance.now()-d,this.verbosity>0&&(console.log("Decode time: "+this.decode_time),console.log("Import time: "+this.import_time)),_},isVersionSupported:function(e,t){Q.DRACOLoader.getDecoderModule().then(function(n){t(n.decoder.isVersionSupported(e))})},getAttributeOptions:function(e){return void 0===this.attributeOptions[e]&&(this.attributeOptions[e]={}),this.attributeOptions[e]}},Q.DRACOLoader.decoderPath="./",Q.DRACOLoader.decoderConfig={},Q.DRACOLoader.decoderModulePromise=null,Q.DRACOLoader.setDecoderPath=function(e){Q.DRACOLoader.decoderPath=e},Q.DRACOLoader.setDecoderConfig=function(e){var t=Q.DRACOLoader.decoderConfig.wasmBinary;Q.DRACOLoader.decoderConfig=e||{},Q.DRACOLoader.releaseDecoderModule(),t&&(Q.DRACOLoader.decoderConfig.wasmBinary=t)},Q.DRACOLoader.releaseDecoderModule=function(){Q.DRACOLoader.decoderModulePromise=null},Q.DRACOLoader.getDecoderModule=function(){var e=this,t=Q.DRACOLoader.decoderPath,n=Q.DRACOLoader.decoderConfig,r=Q.DRACOLoader.decoderModulePromise;return r||("undefined"!=typeof DracoDecoderModule?r=Promise.resolve():"object"!==("undefined"==typeof WebAssembly?"undefined":X()(WebAssembly))||"js"===n.type?r=Q.DRACOLoader._loadScript(t+"draco_decoder.js"):(n.wasmBinaryFile=t+"draco_decoder.wasm",r=Q.DRACOLoader._loadScript(t+"draco_wasm_wrapper.js").then(function(){return Q.DRACOLoader._loadArrayBuffer(n.wasmBinaryFile)}).then(function(e){n.wasmBinary=e})),r=r.then(function(){return new Promise(function(t){n.onModuleLoaded=function(n){e.timeLoaded=performance.now(),t({decoder:n})},DracoDecoderModule(n)})}),Q.DRACOLoader.decoderModulePromise=r,r)},Q.DRACOLoader._loadScript=function(e){var t=document.getElementById("decoder_script");null!==t&&t.parentNode.removeChild(t);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");return r.id="decoder_script",r.type="text/javascript",r.src=e,new Promise(function(e){r.onload=e,n.appendChild(r)})},Q.DRACOLoader._loadArrayBuffer=function(e){var t=new a.FileLoader;return t.setResponseType("arraybuffer"),new Promise(function(n,r){t.load(e,n,void 0,r)})};var $=Q.DRACOLoader,ee={};ee.BufferGeometryUtils={computeTangents:function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var r=t.array,i=n.position.array,o=n.normal.array,s=n.uv.array,l=i.length/3;void 0===n.tangent&&e.addAttribute("tangent",new a.BufferAttribute(new Float32Array(4*l),4));for(var u=n.tangent.array,h=[],c=[],d=0;d<l;d++)h[d]=new a.Vector3,c[d]=new a.Vector3;var m=new a.Vector3,f=new a.Vector3,p=new a.Vector3,v=new a.Vector2,g=new a.Vector2,_=new a.Vector2,y=new a.Vector3,M=new a.Vector3,x=e.groups;0===x.length&&(x=[{start:0,count:r.length}]);d=0;for(var b=x.length;d<b;++d)for(var w=C=(P=x[d]).start,L=C+P.count;w<L;w+=3)R(r[w+0],r[w+1],r[w+2]);var q,S,T,E=new a.Vector3,D=new a.Vector3,k=new a.Vector3,A=new a.Vector3;for(d=0,b=x.length;d<b;++d){var P,C;for(w=C=(P=x[d]).start,L=C+P.count;w<L;w+=3)Y(r[w+0]),Y(r[w+1]),Y(r[w+2])}}else console.warn("THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function R(e,t,n){m.fromArray(i,3*e),f.fromArray(i,3*t),p.fromArray(i,3*n),v.fromArray(s,2*e),g.fromArray(s,2*t),_.fromArray(s,2*n);var r=f.x-m.x,a=p.x-m.x,o=f.y-m.y,l=p.y-m.y,u=f.z-m.z,d=p.z-m.z,x=g.x-v.x,b=_.x-v.x,w=g.y-v.y,L=_.y-v.y,q=1/(x*L-b*w);y.set((L*r-w*a)*q,(L*o-w*l)*q,(L*u-w*d)*q),M.set((x*a-b*r)*q,(x*l-b*o)*q,(x*d-b*u)*q),h[e].add(y),h[t].add(y),h[n].add(y),c[e].add(M),c[t].add(M),c[n].add(M)}function Y(e){k.fromArray(o,3*e),A.copy(k),S=h[e],E.copy(S),E.sub(k.multiplyScalar(k.dot(S))).normalize(),D.crossVectors(A,S),T=D.dot(c[e]),q=T<0?-1:1,u[4*e]=E.x,u[4*e+1]=E.y,u[4*e+2]=E.z,u[4*e+3]=q}},mergeBufferGeometries:function(e,t){for(var n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),o={},s={},l=new a.BufferGeometry,u=0,h=0;h<e.length;++h){var c=e[h];if(n!==(null!==c.index))return null;for(var d in c.attributes){if(!r.has(d))return null;void 0===o[d]&&(o[d]=[]),o[d].push(c.attributes[d])}for(var d in c.morphAttributes){if(!i.has(d))return null;void 0===s[d]&&(s[d]=[]),s[d].push(c.morphAttributes[d])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(c.userData),t){var m;if(n)m=c.index.count;else{if(void 0===c.attributes.position)return null;m=c.attributes.position.count}l.addGroup(u,m,h),u+=m}}if(n){var f=0,p=[];for(h=0;h<e.length;++h){for(var v=e[h].index,g=0;g<v.count;++g)p.push(v.getX(g)+f);f+=e[h].attributes.position.count}l.setIndex(p)}for(var d in o){var _=this.mergeBufferAttributes(o[d]);if(!_)return null;l.addAttribute(d,_)}for(var d in s){var y=s[d][0].length;if(0===y)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[d]=[];for(h=0;h<y;++h){var M=[];for(g=0;g<s[d].length;++g)M.push(s[d][g][h]);var x=this.mergeBufferAttributes(M);if(!x)return null;l.morphAttributes[d].push(x)}}return l},mergeBufferAttributes:function(e){for(var t,n,r,i=0,o=0;o<e.length;++o){var s=e[o];if(s.isInterleavedBufferAttribute)return null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return null;if(void 0===r&&(r=s.normalized),r!==s.normalized)return null;i+=s.array.length}var l=new t(i),u=0;for(o=0;o<e.length;++o)l.set(e[o].array,u),u+=e[o].array.length;return new a.BufferAttribute(l,n,r)}};var te=ee.BufferGeometryUtils,ne={};ne.GLTFLoader=function(){function e(e){this.manager=void 0!==e?e:a.DefaultLoadingManager,this.dracoLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,t,n,r){var i,o=this;i=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:a.LoaderUtils.extractUrlBase(e),o.manager.itemStart(e);var s=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},l=new a.FileLoader(o.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.load(e,function(n){try{o.parse(n,i,function(n){t(n),o.manager.itemEnd(e)},s)}catch(e){s(e)}},n,s)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(e,t,l,u){var f,p={};if("string"==typeof e)f=e;else if(a.LoaderUtils.decodeText(new Uint8Array(e,0,4))===s){try{p[n.KHR_BINARY_GLTF]=new h(e)}catch(e){return void(u&&u(e))}f=p[n.KHR_BINARY_GLTF].content}else f=a.LoaderUtils.decodeText(new Uint8Array(e));var v=JSON.parse(f);if(void 0===v.asset||v.asset.version[0]<2)u&&u(new Error("threeExamples.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(v.extensionsUsed)for(var g=0;g<v.extensionsUsed.length;++g){var _=v.extensionsUsed[g],y=v.extensionsRequired||[];switch(_){case n.KHR_LIGHTS_PUNCTUAL:p[_]=new i(v);break;case n.KHR_MATERIALS_UNLIT:p[_]=new o(v);break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:p[_]=new m(v);break;case n.KHR_DRACO_MESH_COMPRESSION:p[_]=new c(v,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:p[n.MSFT_TEXTURE_DDS]=new r(v);break;case n.KHR_TEXTURE_TRANSFORM:p[n.KHR_TEXTURE_TRANSFORM]=new d(v);break;default:y.indexOf(_)>=0&&console.warn('threeExamples.GLTFLoader: Unknown extension "'+_+'".')}}var M=new j(v,p,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});M.parse(function(e,t,n,r,i){var a={scene:e,scenes:t,cameras:n,animations:r,asset:i.asset,parser:M,userData:{}};R(p,a,i),l(a)},u)}}};var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(){if(!K)throw new Error("threeExamples.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=new K}function i(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(){this.name=n.KHR_MATERIALS_UNLIT}i.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new a.Color(16777215);void 0!==n.color&&r.fromArray(n.color);var i=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new a.DirectionalLight(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new a.PointLight(r)).distance=i;break;case"spot":(t=new a.SpotLight(r)).distance=i,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('threeExamples.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(){return a.MeshBasicMaterial},o.prototype.extendParams=function(e,t,n){var r=[];e.color=new a.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var o=i.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(r)};var s="glTF",l=12,u={JSON:1313821514,BIN:5130562};function h(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,l);if(this.header={magic:a.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==s)throw new Error("threeExamples.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("threeExamples.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var r=new DataView(e,l),i=0;i<r.byteLength;){var o=r.getUint32(i,!0);i+=4;var h=r.getUint32(i,!0);if(i+=4,h===u.JSON){var c=new Uint8Array(e,l+i,o);this.content=a.LoaderUtils.decodeText(c)}else if(h===u.BIN){var d=l+i;this.body=e.slice(d,d+o)}i+=o}if(null===this.content)throw new Error("threeExamples.GLTFLoader: JSON content not found.")}function c(e,t){if(!t)throw new Error("threeExamples.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,$.getDecoderModule()}function d(){this.name=n.KHR_TEXTURE_TRANSFORM}function m(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return a.ShaderMaterial},extendParams:function(e,t,n){var r=t.extensions[this.name],i=a.ShaderLib.standard,o=a.UniformsUtils.clone(i.uniforms),s=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),l=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),u=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),h=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),d=i.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",s).replace("#include <metalnessmap_pars_fragment>",l).replace("#include <roughnessmap_fragment>",u).replace("#include <metalnessmap_fragment>",h).replace("#include <lights_physical_fragment>",c);delete o.roughness,delete o.metalness,delete o.roughnessMap,delete o.metalnessMap,o.specular={value:(new a.Color).setHex(1118481)},o.glossiness={value:.5},o.specularMap={value:null},o.glossinessMap={value:null},e.vertexShader=i.vertexShader,e.fragmentShader=d,e.uniforms=o,e.defines={STANDARD:""},e.color=new a.Color(1,1,1),e.opacity=1;var m=[];if(Array.isArray(r.diffuseFactor)){var f=r.diffuseFactor;e.color.fromArray(f),e.opacity=f[3]}if(void 0!==r.diffuseTexture&&m.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new a.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new a.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var p=r.specularGlossinessTexture;m.push(n.assignTexture(e,"glossinessMap",p)),m.push(n.assignTexture(e,"specularMap",p))}return Promise.all(m)},createMaterial:function(e){var t=new a.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,r=0,i=n.length;r<i;r++)t[n[r]]=e[n[r]];return t},refreshUniforms:function(e,t,n,r,i){if(!0===i.isGLTFSpecularGlossinessMaterial){var a,o=i.uniforms,s=i.defines;o.opacity.value=i.opacity,o.diffuse.value.copy(i.color),o.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),o.map.value=i.map,o.specularMap.value=i.specularMap,o.alphaMap.value=i.alphaMap,o.lightMap.value=i.lightMap,o.lightMapIntensity.value=i.lightMapIntensity,o.aoMap.value=i.aoMap,o.aoMapIntensity.value=i.aoMapIntensity,i.map?a=i.map:i.specularMap?a=i.specularMap:i.displacementMap?a=i.displacementMap:i.normalMap?a=i.normalMap:i.bumpMap?a=i.bumpMap:i.glossinessMap?a=i.glossinessMap:i.alphaMap?a=i.alphaMap:i.emissiveMap&&(a=i.emissiveMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),o.uvTransform.value.copy(a.matrix)),i.envMap&&(o.envMap.value=i.envMap,o.envMapIntensity.value=i.envMapIntensity,o.flipEnvMap.value=i.envMap.isCubeTexture?-1:1,o.reflectivity.value=i.reflectivity,o.refractionRatio.value=i.refractionRatio,o.maxMipLevel.value=e.properties.get(i.envMap).__maxMipLevel),o.specular.value.copy(i.specular),o.glossiness.value=i.glossiness,o.glossinessMap.value=i.glossinessMap,o.emissiveMap.value=i.emissiveMap,o.bumpMap.value=i.bumpMap,o.normalMap.value=i.normalMap,o.displacementMap.value=i.displacementMap,o.displacementScale.value=i.displacementScale,o.displacementBias.value=i.displacementBias,null!==o.glossinessMap.value&&void 0===s.USE_GLOSSINESSMAP&&(s.USE_GLOSSINESSMAP="",s.USE_ROUGHNESSMAP=""),null===o.glossinessMap.value&&void 0!==s.USE_GLOSSINESSMAP&&(delete s.USE_GLOSSINESSMAP,delete s.USE_ROUGHNESSMAP)}}}}function f(e,t,n,r){a.Interpolant.call(this,e,t,n,r)}c.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var u in a)u in S&&(o[S[u]]=a[u]);for(u in e.attributes)if(void 0!==S[u]&&void 0!==a[u]){var h=n.accessors[e.attributes[u]],c=b[h.componentType];l[S[u]]=c,s[S[u]]=!0===h.normalized}return t.getDependency("bufferView",i).then(function(e){return new Promise(function(t){r.decodeDracoFile(e,function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)},o,l)})})},d.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('threeExamples.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},f.prototype=Object.create(a.Interpolant.prototype),f.prototype.constructor=f,f.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=0;i!==r;i++)t[i]=n[e*r*3+r+i];return t},f.prototype.beforeStart_=f.prototype.copySampleValue_,f.prototype.afterEnd_=f.prototype.copySampleValue_,f.prototype.interpolate_=function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=3*o,l=r-t,u=(n-t)/l,h=u*u,c=h*u,d=e*s,m=d-s,f=-2*c+3*h,p=c-h,v=0;v!==o;v++){var g=a[m+v+o],_=a[m+v+2*o]*l,y=a[d+v+o],M=a[d+v]*l;i[v]=(1-f)*g+(p-h+u)*_+f*y+p*M}return i};var p=0,v=1,g=2,_=3,y=4,M=5,x=6;Number,a.Matrix3,a.Matrix4,a.Vector2,a.Vector3,a.Vector4,a.Texture;var b={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},w={9728:a.NearestFilter,9729:a.LinearFilter,9984:a.NearestMipMapNearestFilter,9985:a.LinearMipMapNearestFilter,9986:a.NearestMipMapLinearFilter,9987:a.LinearMipMapLinearFilter},L={33071:a.ClampToEdgeWrapping,33648:a.MirroredRepeatWrapping,10497:a.RepeatWrapping};a.BackSide,a.FrontSide,a.NeverDepth,a.LessDepth,a.EqualDepth,a.LessEqualDepth,a.GreaterEqualDepth,a.NotEqualDepth,a.GreaterEqualDepth,a.AlwaysDepth,a.AddEquation,a.SubtractEquation,a.ReverseSubtractEquation,a.ZeroFactor,a.OneFactor,a.SrcColorFactor,a.OneMinusSrcColorFactor,a.SrcAlphaFactor,a.OneMinusSrcAlphaFactor,a.DstAlphaFactor,a.OneMinusDstAlphaFactor,a.DstColorFactor,a.OneMinusDstColorFactor,a.SrcAlphaSaturateFactor;var q={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},S={POSITION:"position",NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex",_BATCHID:"_BATCHID"},T={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},E={CUBICSPLINE:a.InterpolateSmooth,LINEAR:a.InterpolateLinear,STEP:a.InterpolateDiscrete},D="OPAQUE",k="MASK",A="BLEND",P={"image/png":a.RGBAFormat,"image/jpeg":a.RGBFormat};function C(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}function R(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Y(e,t){void 0!==t.extras&&("object"===X()(t.extras)?e.userData=t.extras:console.warn("threeExamples.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function O(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(n=0,r=i.length;n<r;n++)e.morphTargetDictionary[i[n]]=n}else console.warn("threeExamples.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function I(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function F(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function H(e,t){for(var r=0,i=e.length;r<i;r++){var a=e[r];if(o=a.primitive,s=t,l=void 0,u=void 0,l=o.extensions?o.extensions[n.KHR_DRACO_MESH_COMPRESSION]:void 0,u=s.extensions?s.extensions[n.KHR_DRACO_MESH_COMPRESSION]:void 0,l&&u?l.bufferView===u.bufferView&&I(l.attributes,u.attributes):o.indices===s.indices&&I(o.attributes,s.attributes))return a.promise}var o,s,l,u;return null}function N(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,n=e.itemSize,r=e.array.slice(0,t*n),i=0;i<t;++i)r[i]=e.getX(i),n>=2&&(r[i+1]=e.getY(i)),n>=3&&(r[i+2]=e.getZ(i)),n>=4&&(r[i+3]=e.getW(i));return new a.BufferAttribute(r,n,e.normalized)}return e.clone()}function j(e,n,r){this.json=e||{},this.extensions=n||{},this.options=r||{},this.cache=new t,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.textureLoader=new a.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new a.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function z(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then(function(t){e.addAttribute(r,t)})}for(var o in r){var s=S[o];s&&(s in e.attributes||i.push(a(r[o],s)))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});i.push(l)}return Y(e,t),Promise.all(i).then(function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=0,o=t.length;a<o&&(void 0!==(u=t[a]).POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),!r||!i);a++);if(!r&&!i)return Promise.resolve(e);var s=[],l=[];for(a=0,o=t.length;a<o;a++){var u=t[a];if(r){var h=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION).then(function(e){return N(e)}):e.attributes.position;s.push(h)}i&&(h=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL).then(function(e){return N(e)}):e.attributes.normal,l.push(h))}return Promise.all([Promise.all(s),Promise.all(l)]).then(function(n){for(var a=n[0],o=n[1],s=0,l=t.length;s<l;s++){var u=t[s],h="morphTarget"+s;if(r&&void 0!==u.POSITION){var c=a[s];c.name=h;for(var d=e.attributes.position,m=0,f=c.count;m<f;m++)c.setXYZ(m,c.getX(m)+d.getX(m),c.getY(m)+d.getY(m),c.getZ(m)+d.getZ(m))}if(i&&void 0!==u.NORMAL){var p=o[s];p.name=h;var v=e.attributes.normal;for(m=0,f=p.count;m<f;m++)p.setXYZ(m,p.getX(m)+v.getX(m),p.getY(m)+v.getY(m),p.getZ(m)+v.getZ(m))}}return r&&(e.morphAttributes.position=a),i&&(e.morphAttributes.normal=o),e})}(e,t.targets,n):e})}return j.prototype.parse=function(e,t){var n=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(t){var r=t.scenes||[],i=r[n.scene||0],a=t.animations||[],o=t.cameras||[];e(i,r,o,a,n)}).catch(t)},j.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r={},i={},a=0,o=t.length;a<o;a++)for(var s=t[a].joints,l=0,u=s.length;l<u;l++)e[s[l]].isBone=!0;for(var h=0,c=e.length;h<c;h++){var d=e[h];void 0!==d.mesh&&(void 0===r[d.mesh]&&(r[d.mesh]=i[d.mesh]=0),r[d.mesh]++,void 0!==d.skin&&(n[d.mesh].isSkinnedMesh=!0))}this.json.meshReferences=r,this.json.meshUses=i},j.prototype.getDependency=function(e,t){var r=e+":"+t,i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this.loadMesh(t);break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this.loadBufferView(t);break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this.loadMaterial(t);break;case"texture":i=this.loadTexture(t);break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;case"light":i=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i},j.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map(function(t,r){return n.getDependency(e,r)})),this.cache.add(e,t)}return t},j.prototype.getMultiDependencies=function(e){for(var t={},n=[],r=0,i=e.length;r<i;r++){var a=e[r],o=this.getDependencies(a);o=o.then(function(e,n){t[e]=n}.bind(this,a+("mesh"===a?"es":"s"))),n.push(o)}return Promise.all(n).then(function(){return t})},j.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("threeExamples.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var i=this.options;return new Promise(function(e,n){r.load(C(t.uri,i.path),e,void 0,function(){n(new Error('threeExamples.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},j.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)})},j.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then(function(e){var i,o,s=e[0],l=q[r.type],u=b[r.componentType],h=u.BYTES_PER_ELEMENT,c=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,m=!0===r.normalized;if(d&&d!==h*l){var f="InterleavedBuffer:"+r.bufferView+":"+r.componentType,p=t.cache.get(f);p||(i=new u(s),p=new a.InterleavedBuffer(i,d/h),t.cache.add(f,p)),o=new a.InterleavedBufferAttribute(p,l,c/h,m)}else i=null===s?new u(r.count*l):new u(s,c,r.count*l),o=new a.BufferAttribute(i,l,m);if(void 0!==r.sparse){var v=q.SCALAR,g=b[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,y=r.sparse.values.byteOffset||0,M=new g(e[1],_,r.sparse.count*v),x=new u(e[2],y,r.sparse.count*l);null!==s&&o.setArray(o.array.slice());for(var w=0,L=M.length;w<L;w++){var S=M[w];if(o.setX(S,x[w*l]),l>=2&&o.setY(S,x[w*l+1]),l>=3&&o.setZ(S,x[w*l+2]),l>=4&&o.setW(S,x[w*l+3]),l>=5)throw new Error("threeExamples.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},j.prototype.loadTexture=function(e){var t,r=this,i=this.json,o=this.options,s=this.textureLoader,l=window.URL||window.webkitURL,u=i.textures[e],h=u.extensions||{},c=(t=h[n.MSFT_TEXTURE_DDS]?i.images[h[n.MSFT_TEXTURE_DDS].source]:i.images[u.source]).uri,d=!1;return void 0!==t.bufferView&&(c=r.getDependency("bufferView",t.bufferView).then(function(e){d=!0;var n=new Blob([e],{type:t.mimeType});return c=l.createObjectURL(n)})),Promise.resolve(c).then(function(e){var t=a.Loader.Handlers.get(e);return t||(t=h[n.MSFT_TEXTURE_DDS]?r.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise(function(n,r){t.load(C(e,o.path),n,void 0,r)})}).then(function(e){!0===d&&l.revokeObjectURL(c),e.flipY=!1,void 0!==u.name&&(e.name=u.name),t.mimeType in P&&(e.format=P[t.mimeType]);var n=(i.samplers||{})[u.sampler]||{};return e.magFilter=w[n.magFilter]||a.LinearFilter,e.minFilter=w[n.minFilter]||a.LinearMipMapLinearFilter,e.wrapS=L[n.wrapS]||a.RepeatWrapping,e.wrapT=L[n.wrapT]||a.RepeatWrapping,e})},j.prototype.assignTexture=function(e,t,r){var i=this;return this.getDependency("texture",r.index).then(function(a){if(i.extensions[n.KHR_TEXTURE_TRANSFORM]){var o=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;o&&(a=i.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(a,o))}e[t]=a})},j.prototype.loadMaterial=function(e){var t,r=this.json,i=this.extensions,o=r.materials[e],s={},l=o.extensions||{},u=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var h=i[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=h.getMaterialType(o),u.push(h.extendParams(s,o,this))}else if(l[n.KHR_MATERIALS_UNLIT]){var c=i[n.KHR_MATERIALS_UNLIT];t=c.getMaterialType(o),u.push(c.extendParams(s,o,this))}else{t=a.MeshStandardMaterial;var d=o.pbrMetallicRoughness||{};if(s.color=new a.Color(1,1,1),s.opacity=1,Array.isArray(d.baseColorFactor)){var m=d.baseColorFactor;s.color.fromArray(m),s.opacity=m[3]}void 0!==d.baseColorTexture&&u.push(this.assignTexture(s,"map",d.baseColorTexture)),s.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,s.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(u.push(this.assignTexture(s,"metalnessMap",d.metallicRoughnessTexture)),u.push(this.assignTexture(s,"roughnessMap",d.metallicRoughnessTexture)))}!0===o.doubleSided&&(s.side=a.DoubleSide);var f=o.alphaMode||D;return f===A?s.transparent=!0:(s.transparent=!1,f===k&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==a.MeshBasicMaterial&&(u.push(this.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new a.Vector2(1,1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==a.MeshBasicMaterial&&(u.push(this.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==a.MeshBasicMaterial&&(s.emissive=(new a.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==a.MeshBasicMaterial&&u.push(this.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(u).then(function(){var e;return e=t===a.ShaderMaterial?i[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),void 0!==o.name&&(e.name=o.name),e.normalScale&&(e.normalScale.y=-e.normalScale.y),e.map&&(e.map.encoding=a.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=a.sRGBEncoding),e.specularMap&&(e.specularMap.encoding=a.sRGBEncoding),Y(e,o),o.extensions&&R(i,e,o),e})},j.prototype.loadGeometries=function(e){var t,r=this,i=this.extensions,o=this.primitiveCache,s=function(e){if(e.length<2)return!1;var t=e[0],r=t.targets||[];if(void 0===t.indices)return!1;for(var i=1,a=e.length;i<a;i++){var o=e[i];if(t.mode!==o.mode)return!1;if(void 0===o.indices)return!1;if(o.extensions&&o.extensions[n.KHR_DRACO_MESH_COMPRESSION])return!1;if(!I(t.attributes,o.attributes))return!1;var s=o.targets||[];if(r.length!==s.length)return!1;for(var l=0,u=r.length;l<u;l++)if(!I(r[l],s[l]))return!1}return!0}(e);function l(e){return i[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,r).then(function(t){return z(t,e,r)})}s&&(t=e,e=[e[0]]);for(var u=[],h=0,c=e.length;h<c;h++){var d,m=e[h],f=H(o,m);if(f)u.push(f);else d=m.extensions&&m.extensions[n.KHR_DRACO_MESH_COMPRESSION]?l(m):z(new a.BufferGeometry,m,r),o.push({primitive:m,promise:d}),u.push(d)}return Promise.all(u).then(function(n){if(s){var i=n[0];if(null!==(m=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var a=e[r];if(t===a.baseGeometry&&F(n,a.primitives))return a.geometry}return null}(d=r.multiPassGeometryCache,i,t)))return[m.geometry];var o=new a.BufferGeometry;for(var l in o.name=i.name,o.userData=i.userData,i.attributes)o.addAttribute(l,i.attributes[l]);for(var l in i.morphAttributes)o.morphAttributes[l]=i.morphAttributes[l];for(var u=[],h=0,c=t.length;h<c;h++)u.push(r.getDependency("accessor",t[h].indices));return Promise.all(u).then(function(e){for(var n=[],r=0,a=0,s=t.length;a<s;a++){for(var l=e[a],u=0,h=l.count;u<h;u++)n.push(l.array[u]);o.addGroup(r,l.count,a),r+=l.count}return o.setIndex(n),d.push({geometry:o,baseGeometry:i,primitives:t}),[o]})}if(n.length>1&&void 0!==te){for(h=1,c=e.length;h<c;h++)if(e[0].mode!==e[h].mode)return n;var d,m;if(m=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(F(t,i.baseGeometries))return i.geometry}return null}(d=r.multiplePrimitivesCache,n)){if(null!==m.geometry)return[m.geometry]}else{o=te.mergeBufferGeometries(n,!0);if(d.push({geometry:o,baseGeometries:n}),null!==o)return[o]}}return n})},j.prototype.loadMesh=function(e){for(var t=this,r=this.json,i=this.extensions,o=r.meshes[e],s=o.primitives,l=[],u=0,h=s.length;u<h;u++){var c=void 0===s[u].material?new a.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:a.FrontSide}):this.getDependency("material",s[u].material);l.push(c)}return Promise.all(l).then(function(r){return t.loadGeometries(s).then(function(l){for(var u=1===l.length&&l[0].groups.length>0,h=[],c=0,d=l.length;c<d;c++){var m,f=l[c],b=s[c],w=u?r:r[c];if(b.mode===y||b.mode===M||b.mode===x||void 0===b.mode)!0===(m=!0===o.isSkinnedMesh?new a.SkinnedMesh(f,w):new a.Mesh(f,w)).isSkinnedMesh&&m.normalizeSkinWeights(),b.mode===M?m.drawMode=a.TriangleStripDrawMode:b.mode===x&&(m.drawMode=a.TriangleFanDrawMode);else if(b.mode===v)m=new a.LineSegments(f,w);else if(b.mode===_)m=new a.Line(f,w);else if(b.mode===g)m=new a.LineLoop(f,w);else{if(b.mode!==p)throw new Error("threeExamples.GLTFLoader: Primitive mode unsupported: "+b.mode);m=new a.Points(f,w)}Object.keys(m.geometry.morphAttributes).length>0&&O(m,o),m.name=o.name||"mesh_"+e,l.length>1&&(m.name+="_"+c),Y(m,o),h.push(m);for(var L=u?m.material:[m.material],q=void 0!==f.attributes.color,S=void 0===f.attributes.normal,T=!0===m.isSkinnedMesh,E=Object.keys(f.morphAttributes).length>0,D=E&&void 0!==f.morphAttributes.normal,k=0,A=L.length;k<A;k++){w=L[k];if(m.isPoints){var P="PointsMaterial:"+w.uuid,C=t.cache.get(P);C||(C=new a.PointsMaterial,a.Material.prototype.copy.call(C,w),C.color.copy(w.color),C.map=w.map,C.lights=!1,t.cache.add(P,C)),w=C}else if(m.isLine){P="LineBasicMaterial:"+w.uuid;var R=t.cache.get(P);R||(R=new a.LineBasicMaterial,a.Material.prototype.copy.call(R,w),R.color.copy(w.color),R.lights=!1,t.cache.add(P,R)),w=R}if(q||S||T||E){P="ClonedMaterial:"+w.uuid+":";w.isGLTFSpecularGlossinessMaterial&&(P+="specular-glossiness:"),T&&(P+="skinning:"),q&&(P+="vertex-colors:"),S&&(P+="flat-shading:"),E&&(P+="morph-targets:"),D&&(P+="morph-normals:");var I=t.cache.get(P);I||(I=w.isGLTFSpecularGlossinessMaterial?i[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(w):w.clone(),T&&(I.skinning=!0),q&&(I.vertexColors=a.VertexColors),S&&(I.flatShading=!0),E&&(I.morphTargets=!0),D&&(I.morphNormals=!0),t.cache.add(P,I)),w=I}L[k]=w,w.aoMap&&void 0===f.attributes.uv2&&void 0!==f.attributes.uv&&(console.log("threeExamples.GLTFLoader: Duplicating UVs to support aoMap."),f.addAttribute("uv2",new a.BufferAttribute(f.attributes.uv.array,2))),w.isGLTFSpecularGlossinessMaterial&&(m.onBeforeRender=i[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}m.material=u?L:L[0]}if(1===h.length)return h[0];var F=new a.Group;for(c=0,d=h.length;c<d;c++)F.add(h[c]);return F})})},j.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new a.PerspectiveCamera(a.Math.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new a.OrthographicCamera(r.xmag/-2,r.xmag/2,r.ymag/2,r.ymag/-2,r.znear,r.zfar)),void 0!==n.name&&(t.name=n.name),Y(t,n),Promise.resolve(t);console.warn("threeExamples.GLTFLoader: Missing camera parameters.")},j.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return n.inverseBindMatrices=e,n})},j.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],o=[],s=[],l=0,u=t.channels.length;l<u;l++){var h=t.channels[l],c=t.samplers[h.sampler],d=h.target,m=void 0!==d.node?d.node:d.id,p=void 0!==t.parameters?t.parameters[c.input]:c.input,v=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",m)),r.push(this.getDependency("accessor",p)),i.push(this.getDependency("accessor",v)),o.push(c),s.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(s)]).then(function(n){for(var r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],u=[],h=0,c=r.length;h<c;h++){var d=r[h],m=i[h],p=o[h],v=s[h],g=l[h];if(void 0!==d){var _;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,T[g.path]){case T.weights:_=a.NumberKeyframeTrack;break;case T.rotation:_=a.QuaternionKeyframeTrack;break;case T.position:case T.scale:default:_=a.VectorKeyframeTrack}var y=d.name?d.name:d.uuid,M=void 0!==v.interpolation?E[v.interpolation]:a.InterpolateLinear,x=[];T[g.path]===T.weights?d.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&x.push(e.name?e.name:e.uuid)}):x.push(y);for(var b=0,w=x.length;b<w;b++){var L=new _(x[b]+"."+T[g.path],a.AnimationUtils.arraySlice(m.array,0),a.AnimationUtils.arraySlice(p.array,0),M);"CUBICSPLINE"===v.interpolation&&(L.createInterpolant=function(e){return new f(this.times,this.values,this.getValueSize()/3,e)},L.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(L)}}}var q=void 0!==t.name?t.name:"animation_"+e;return new a.AnimationClip(q,void 0,u)})},j.prototype.loadNode=function(e){var t=this.json,r=this.extensions,i=this,o=t.meshReferences,s=t.meshUses,l=t.nodes[e];return new Promise(function(e){!0===l.isBone?e(new a.Bone):void 0!==l.mesh?i.getDependency("mesh",l.mesh).then(function(t){var n;if(o[l.mesh]>1){var r=s[l.mesh]++;(n=t.clone()).name+="_instance_"+r,n.onBeforeRender=t.onBeforeRender;for(var i=0,a=n.children.length;i<a;i++)n.children[i].name+="_instance_"+r,n.children[i].onBeforeRender=t.children[i].onBeforeRender}else n=t;e(n)}):void 0!==l.camera?i.getDependency("camera",l.camera).then(e):l.extensions&&l.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==l.extensions[n.KHR_LIGHTS_PUNCTUAL].light?i.getDependency("light",l.extensions[n.KHR_LIGHTS_PUNCTUAL].light).then(e):e(new a.Object3D)}).then(function(e){if(void 0!==l.name&&(e.name=a.PropertyBinding.sanitizeNodeName(l.name)),Y(e,l),l.extensions&&R(r,e,l),void 0!==l.matrix){var t=new a.Matrix4;t.fromArray(l.matrix),e.applyMatrix(t)}else void 0!==l.translation&&e.position.fromArray(l.translation),void 0!==l.rotation&&e.quaternion.fromArray(l.rotation),void 0!==l.scale&&e.scale.fromArray(l.scale);return e})},j.prototype.loadScene=function(){function e(t,n,r,i){var o=r.nodes[t];return i.getDependency("node",t).then(function(e){return void 0===o.skin?e:i.getDependency("skin",o.skin).then(function(e){for(var n=[],r=0,a=(t=e).joints.length;r<a;r++)n.push(i.getDependency("node",t.joints[r]));return Promise.all(n)}).then(function(n){for(var r=!0===e.isGroup?e.children:[e],i=0,o=r.length;i<o;i++){for(var s=r[i],l=[],u=[],h=0,c=n.length;h<c;h++){var d=n[h];if(d){l.push(d);var m=new a.Matrix4;void 0!==t.inverseBindMatrices&&m.fromArray(t.inverseBindMatrices.array,16*h),u.push(m)}else console.warn('threeExamples.GLTFLoader: Joint "%s" could not be found.',t.joints[h])}s.bind(new a.Skeleton(l,u),s.matrixWorld)}return e});var t}).then(function(t){n.add(t);var a=[];if(o.children)for(var s=o.children,l=0,u=s.length;l<u;l++){var h=s[l];a.push(e(h,t,r,i))}return Promise.all(a)})}return function(t){var n=this.json,r=this.extensions,i=this.json.scenes[t],o=new a.Scene;void 0!==i.name&&(o.name=i.name),Y(o,i),i.extensions&&R(r,o,i);for(var s=i.nodes||[],l=[],u=0,h=s.length;u<h;u++)l.push(e(s[u],o,n,this));return Promise.all(l).then(function(){return o})}}(),e}();var re=ne.GLTFLoader,ie={};ie.LegacyGLTFLoader=function(){function e(e){this.manager=void 0!==e?e:a.DefaultLoadingManager}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}},update:function(t,n){for(var r in e){var i=e[r];i.update&&i.update(t,n)}}}}function n(e,t){var n={},r=e.material.uniforms;for(var i in r){var o=r[i];if(o.semantic){var s=o.node,l=e;s&&(l=t[s]),n[i]={semantic:o.semantic,sourceNode:l,targetNode:e,uniform:o}}}this.boundUniforms=n,this._m4=new a.Matrix4}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,t,n,r){var i,o=this;i=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:a.LoaderUtils.extractUrlBase(e);var s=new a.FileLoader(o.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.load(e,function(e){o.parse(e,i,t)},n,r)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){this.path=e},setResourcePath:function(e){return this.resourcePath=e,this},parse:function(e,t,n){var s,u={};a.LoaderUtils.decodeText(new Uint8Array(e,0,4))===o.magic?(u[r.KHR_BINARY_GLTF]=new l(e),s=u[r.KHR_BINARY_GLTF].content):s=a.LoaderUtils.decodeText(new Uint8Array(e));var h=JSON.parse(s);h.extensionsUsed&&h.extensionsUsed.indexOf(r.KHR_MATERIALS_COMMON)>=0&&(u[r.KHR_MATERIALS_COMMON]=new i(h)),new T(h,u,{crossOrigin:this.crossOrigin,manager:this.manager,path:t||this.resourcePath||""}).parse(function(e,t,r,i){n({scene:e,scenes:t,cameras:r,animations:i})})}},e.Shaders={update:function(){console.warn("threeExamples.LegacyGLTFLoader.Shaders has been deprecated, and now updates automatically.")}},n.prototype.update=function(e,t){var n=this.boundUniforms;for(var r in n){var i=n[r];switch(i.semantic){case"MODELVIEW":i.uniform.value.multiplyMatrices(t.matrixWorldInverse,i.sourceNode.matrixWorld);break;case"MODELVIEWINVERSETRANSPOSE":var a=i.uniform.value;this._m4.multiplyMatrices(t.matrixWorldInverse,i.sourceNode.matrixWorld),a.getNormalMatrix(this._m4);break;case"PROJECTION":i.uniform.value.copy(t.projectionMatrix);break;case"JOINTMATRIX":for(var o=i.uniform.value,s=0;s<o.length;s++)o[s].getInverse(i.sourceNode.matrixWorld).multiply(i.targetNode.skeleton.bones[s].matrixWorld).multiply(i.targetNode.skeleton.boneInverses[s]).multiply(i.targetNode.bindMatrix);break;default:console.warn("Unhandled shader semantic: "+i.semantic)}}},e.Animations={update:function(){console.warn("threeExamples.LegacyGLTFLoader.Animation has been deprecated. Use THREE.AnimationMixer instead.")}};var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_MATERIALS_COMMON:"KHR_materials_common"};function i(e){this.name=r.KHR_MATERIALS_COMMON,this.lights={};var t=(e.extensions&&e.extensions[r.KHR_MATERIALS_COMMON]||{}).lights||{};for(var n in t){var i,o=t[n],s=o[o.type],l=(new a.Color).fromArray(s.color);switch(o.type){case"directional":(i=new a.DirectionalLight(l)).position.set(0,0,1);break;case"point":i=new a.PointLight(l);break;case"spot":(i=new a.SpotLight(l)).position.set(0,0,1);break;case"ambient":i=new a.AmbientLight(l)}i&&(this.lights[n]=i)}}var o={magic:"glTF",version:1,contentFormat:0},s=20;function l(e){this.name=r.KHR_BINARY_GLTF;var t=new DataView(e,0,s),n={magic:a.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0),contentLength:t.getUint32(12,!0),contentFormat:t.getUint32(16,!0)};for(var i in o){var l=o[i];if(n[i]!==l)throw new Error('Unsupported glTF-Binary header: Expected "%s" to be "%s".',i,l)}var u=new Uint8Array(e,s,n.contentLength);this.header=n,this.content=a.LoaderUtils.decodeText(u),this.body=e.slice(s+n.contentLength,n.length)}l.prototype.loadShader=function(e,t){var n=t[e.extensions[r.KHR_BINARY_GLTF].bufferView],i=new Uint8Array(n);return a.LoaderUtils.decodeText(i)};var u={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,TRIANGLES:4,LINES:1,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,VERTEX_SHADER:35633,FRAGMENT_SHADER:35632},h={5126:Number,35675:a.Matrix3,35676:a.Matrix4,35664:a.Vector2,35665:a.Vector3,35666:a.Vector4,35678:a.Texture},c={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},d={9728:a.NearestFilter,9729:a.LinearFilter,9984:a.NearestMipMapNearestFilter,9985:a.LinearMipMapNearestFilter,9986:a.NearestMipMapLinearFilter,9987:a.LinearMipMapLinearFilter},m={33071:a.ClampToEdgeWrapping,33648:a.MirroredRepeatWrapping,10497:a.RepeatWrapping},f={6406:a.AlphaFormat,6407:a.RGBFormat,6408:a.RGBAFormat,6409:a.LuminanceFormat,6410:a.LuminanceAlphaFormat},p={5121:a.UnsignedByteType,32819:a.UnsignedShort4444Type,32820:a.UnsignedShort5551Type,33635:a.UnsignedShort565Type},v={1028:a.BackSide,1029:a.FrontSide},g={512:a.NeverDepth,513:a.LessDepth,514:a.EqualDepth,515:a.LessEqualDepth,516:a.GreaterEqualDepth,517:a.NotEqualDepth,518:a.GreaterEqualDepth,519:a.AlwaysDepth},_={32774:a.AddEquation,32778:a.SubtractEquation,32779:a.ReverseSubtractEquation},y={0:a.ZeroFactor,1:a.OneFactor,768:a.SrcColorFactor,769:a.OneMinusSrcColorFactor,770:a.SrcAlphaFactor,771:a.OneMinusSrcAlphaFactor,772:a.DstAlphaFactor,773:a.OneMinusDstAlphaFactor,774:a.DstColorFactor,775:a.OneMinusDstColorFactor,776:a.SrcAlphaSaturateFactor},M={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},x={scale:"scale",translation:"position",rotation:"quaternion"},b={LINEAR:a.InterpolateLinear,STEP:a.InterpolateDiscrete},w={2884:"CULL_FACE",2929:"DEPTH_TEST",3042:"BLEND",3089:"SCISSOR_TEST",32823:"POLYGON_OFFSET_FILL",32926:"SAMPLE_ALPHA_TO_COVERAGE"};function L(e,t,n){if(!e)return Promise.resolve();var r,i=[];if("[object Array]"===Object.prototype.toString.call(e)){r=[];for(var a=e.length,o=0;o<a;o++){(l=t.call(n||this,e[o],o))&&(i.push(l),l instanceof Promise?l.then(function(e,t){r[e]=t}.bind(this,o)):r[o]=l)}}else for(var s in r={},e){var l;if(e.hasOwnProperty(s))(l=t.call(n||this,e[s],s))&&(i.push(l),l instanceof Promise?l.then(function(e,t){r[e]=t}.bind(this,s)):r[s]=l)}return Promise.all(i).then(function(){return r})}function q(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:(t||"")+e}function S(e){this.isDeferredShaderMaterial=!0,this.params=e}function T(e,n,r){this.json=e||{},this.extensions=n||{},this.options=r||{},this.cache=new t}return S.prototype.create=function(){var e=a.UniformsUtils.clone(this.params.uniforms);for(var t in this.params.uniforms){var n=this.params.uniforms[t];n.value instanceof a.Texture&&(e[t].value=n.value,e[t].value.needsUpdate=!0),e[t].semantic=n.semantic,e[t].node=n.node}return this.params.uniforms=e,new a.RawShaderMaterial(this.params)},T.prototype._withDependencies=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n],i="load"+r.charAt(0).toUpperCase()+r.slice(1),a=this.cache.get(r);if(void 0!==a)t[r]=a;else if(this[i]){var o=this[i]();this.cache.add(r,o),t[r]=o}}return L(t,function(e){return e})},T.prototype.parse=function(e){var t=this.json;this.cache.removeAll(),this._withDependencies(["scenes","cameras","animations"]).then(function(n){var r=[];for(var i in n.scenes)r.push(n.scenes[i]);var a=void 0!==t.scene?n.scenes[t.scene]:r[0],o=[];for(var i in n.cameras){var s=n.cameras[i];o.push(s)}var l=[];for(var i in n.animations)l.push(n.animations[i]);e(a,r,o,l)})},T.prototype.loadShaders=function(){var e=this.json,t=this.extensions,n=this.options;return this._withDependencies(["bufferViews"]).then(function(i){return L(e.shaders,function(e){return e.extensions&&e.extensions[r.KHR_BINARY_GLTF]?t[r.KHR_BINARY_GLTF].loadShader(e,i.bufferViews):new Promise(function(t){var r=new a.FileLoader(n.manager);r.setResponseType("text"),r.load(q(e.uri,n.path),function(e){t(e)})})})})},T.prototype.loadBuffers=function(){var e=this.json,t=this.extensions,n=this.options;return L(e.buffers,function(e,i){return"binary_glTF"===i?t[r.KHR_BINARY_GLTF].body:"arraybuffer"===e.type||void 0===e.type?new Promise(function(t){var r=new a.FileLoader(n.manager);r.setResponseType("arraybuffer"),r.load(q(e.uri,n.path),function(e){t(e)})}):void console.warn("threeExamples.LegacyGLTFLoader: "+e.type+" buffer type is not supported")})},T.prototype.loadBufferViews=function(){var e=this.json;return this._withDependencies(["buffers"]).then(function(t){return L(e.bufferViews,function(e){var n=t.buffers[e.buffer],r=void 0!==e.byteLength?e.byteLength:0;return n.slice(e.byteOffset,e.byteOffset+r)})})},T.prototype.loadAccessors=function(){var e=this.json;return this._withDependencies(["bufferViews"]).then(function(t){return L(e.accessors,function(e){var n=t.bufferViews[e.bufferView],r=M[e.type],i=c[e.componentType],o=i.BYTES_PER_ELEMENT;if(e.byteStride&&e.byteStride!==o*r){var s=new i(n),l=new a.InterleavedBuffer(s,e.byteStride/o);return new a.InterleavedBufferAttribute(l,r,e.byteOffset/o)}return s=new i(n,e.byteOffset,e.count*r),new a.BufferAttribute(s,r)})})},T.prototype.loadTextures=function(){var e=this.json;this.extensions;var t=this.options;return this._withDependencies(["bufferViews"]).then(function(n){return L(e.textures,function(i){if(i.source)return new Promise(function(o){var s=e.images[i.source],l=s.uri,u=!1;if(s.extensions&&s.extensions[r.KHR_BINARY_GLTF]){var h=s.extensions[r.KHR_BINARY_GLTF],c=n.bufferViews[h.bufferView],v=new Blob([c],{type:h.mimeType});l=URL.createObjectURL(v),u=!0}var g=a.Loader.Handlers.get(l);null===g&&(g=new a.TextureLoader(t.manager)),g.setCrossOrigin(t.crossOrigin),g.load(q(l,t.path),function(t){if(u&&URL.revokeObjectURL(l),t.flipY=!1,void 0!==i.name&&(t.name=i.name),t.format=void 0!==i.format?f[i.format]:a.RGBAFormat,void 0!==i.internalFormat&&t.format!==f[i.internalFormat]&&console.warn("threeExamples.LegacyGLTFLoader: Three.js doesn't support texture internalFormat which is different from texture format. internalFormat will be forced to be the same value as format."),t.type=void 0!==i.type?p[i.type]:a.UnsignedByteType,i.sampler){var n=e.samplers[i.sampler];t.magFilter=d[n.magFilter]||a.LinearFilter,t.minFilter=d[n.minFilter]||a.NearestMipMapLinearFilter,t.wrapS=m[n.wrapS]||a.RepeatWrapping,t.wrapT=m[n.wrapT]||a.RepeatWrapping}o(t)},void 0,function(){u&&URL.revokeObjectURL(l),o()})})})})},T.prototype.loadMaterials=function(){var e=this.json;return this._withDependencies(["shaders","textures"]).then(function(t){return L(e.materials,function(n){var i,o,s={},l={};if(n.extensions&&n.extensions[r.KHR_MATERIALS_COMMON]&&(o=n.extensions[r.KHR_MATERIALS_COMMON]),o){var c=["ambient","emission","transparent","transparency","doubleSided"];switch(o.technique){case"BLINN":case"PHONG":i=a.MeshPhongMaterial,c.push("diffuse","specular","shininess");break;case"LAMBERT":i=a.MeshLambertMaterial,c.push("diffuse");break;case"CONSTANT":default:i=a.MeshBasicMaterial}c.forEach(function(e){void 0!==o.values[e]&&(s[e]=o.values[e])}),(o.doubleSided||s.doubleSided)&&(l.side=a.DoubleSide),(o.transparent||s.transparent)&&(l.transparent=!0,l.opacity=void 0!==s.transparency?s.transparency:1)}else if(void 0===n.technique)i=a.MeshPhongMaterial,Object.assign(s,n.values);else{i=S;var d=e.techniques[n.technique];l.uniforms={};var m=e.programs[d.program];if(m){l.fragmentShader=t.shaders[m.fragmentShader],l.fragmentShader||(console.warn("ERROR: Missing fragment shader definition:",m.fragmentShader),i=a.MeshPhongMaterial);var f=t.shaders[m.vertexShader];f||(console.warn("ERROR: Missing vertex shader definition:",m.vertexShader),i=a.MeshPhongMaterial),l.vertexShader=function(e,t){var n={};for(var r in t.attributes){var i=t.attributes[r],a=(c=t.parameters[i]).type,o=c.semantic;n[r]={type:a,semantic:o}}var s=t.parameters,l=t.attributes,u={};for(var r in n){var h=s[i=l[r]];(o=h.semantic)&&(u[r]=h)}for(var i in u){o=(c=u[i]).semantic;var c,d=new RegExp("\\b"+i+"\\b","g");switch(o){case"POSITION":e=e.replace(d,"position");break;case"NORMAL":e=e.replace(d,"normal");break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":e=e.replace(d,"uv");break;case"TEXCOORD_1":e=e.replace(d,"uv2");break;case"COLOR_0":case"COLOR0":case"COLOR":e=e.replace(d,"color");break;case"WEIGHT":e=e.replace(d,"skinWeight");break;case"JOINT":e=e.replace(d,"skinIndex")}}return e}(f,d);var p=d.uniforms;for(var M in p){var x=p[M],b=d.parameters[x],L=b.type;if(!h[L])throw new Error("Unknown shader uniform param type: "+L);var q,T=b.count;void 0!==n.values&&(q=n.values[x]);var E=new h[L],D=b.semantic,k=b.node;switch(L){case u.FLOAT:E=b.value,"transparency"==x&&(l.transparent=!0),void 0!==q&&(E=q);break;case u.FLOAT_VEC2:case u.FLOAT_VEC3:case u.FLOAT_VEC4:case u.FLOAT_MAT3:b&&b.value&&E.fromArray(b.value),q&&E.fromArray(q);break;case u.FLOAT_MAT2:console.warn("FLOAT_MAT2 is not a supported uniform type");break;case u.FLOAT_MAT4:if(T){E=new Array(T);for(var A=0;A<T;A++)E[A]=new h[L];if(b&&b.value){var P=b.value;E.fromArray(P)}q&&E.fromArray(q)}else{if(b&&b.value){var C=b.value;E.fromArray(C)}q&&E.fromArray(q)}break;case u.SAMPLER_2D:E=void 0!==q?t.textures[q]:void 0!==b.value?t.textures[b.value]:null}l.uniforms[M]={value:E,semantic:D,node:k}}for(var R=d.states||{},Y=R.enable||[],O=R.functions||{},I=!1,F=!1,H=!1,N=0,j=Y.length;N<j;N++){var z=Y[N];switch(w[z]){case"CULL_FACE":I=!0;break;case"DEPTH_TEST":F=!0;break;case"BLEND":H=!0;break;case"SCISSOR_TEST":case"POLYGON_OFFSET_FILL":case"SAMPLE_ALPHA_TO_COVERAGE":break;default:throw new Error("Unknown technique.states.enable: "+z)}}l.side=I?void 0!==O.cullFace?v[O.cullFace]:a.FrontSide:a.DoubleSide,l.depthTest=F,l.depthFunc=void 0!==O.depthFunc?g[O.depthFunc]:a.LessDepth,l.depthWrite=void 0===O.depthMask||O.depthMask[0],l.blending=H?a.CustomBlending:a.NoBlending,l.transparent=H;var B=O.blendEquationSeparate;void 0!==B?(l.blendEquation=_[B[0]],l.blendEquationAlpha=_[B[1]]):(l.blendEquation=a.AddEquation,l.blendEquationAlpha=a.AddEquation);var U=O.blendFuncSeparate;void 0!==U?(l.blendSrc=y[U[0]],l.blendDst=y[U[1]],l.blendSrcAlpha=y[U[2]],l.blendDstAlpha=y[U[3]]):(l.blendSrc=a.OneFactor,l.blendDst=a.ZeroFactor,l.blendSrcAlpha=a.OneFactor,l.blendDstAlpha=a.ZeroFactor)}}Array.isArray(s.diffuse)?l.color=(new a.Color).fromArray(s.diffuse):"string"==typeof s.diffuse&&(l.map=t.textures[s.diffuse]),delete l.diffuse,"string"==typeof s.reflective&&(l.envMap=t.textures[s.reflective]),"string"==typeof s.bump&&(l.bumpMap=t.textures[s.bump]),Array.isArray(s.emission)?i===a.MeshBasicMaterial?l.color=(new a.Color).fromArray(s.emission):l.emissive=(new a.Color).fromArray(s.emission):"string"==typeof s.emission&&(i===a.MeshBasicMaterial?l.map=t.textures[s.emission]:l.emissiveMap=t.textures[s.emission]),Array.isArray(s.specular)?l.specular=(new a.Color).fromArray(s.specular):"string"==typeof s.specular&&(l.specularMap=t.textures[s.specular]),void 0!==s.shininess&&(l.shininess=s.shininess);var G=new i(l);return void 0!==n.name&&(G.name=n.name),G})})},T.prototype.loadMeshes=function(){var e=this.json;return this._withDependencies(["accessors","materials"]).then(function(t){return L(e.meshes,function(n){var r=new a.Group;void 0!==n.name&&(r.name=n.name),n.extras&&(r.userData=n.extras);var i=n.primitives||[];for(var o in i){var s=i[o];if(s.mode===u.TRIANGLES||void 0===s.mode){var l=new a.BufferGeometry,h=s.attributes;for(var c in h){if(!(v=h[c]))return;var d=t.accessors[v];switch(c){case"POSITION":l.addAttribute("position",d);break;case"NORMAL":l.addAttribute("normal",d);break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":l.addAttribute("uv",d);break;case"TEXCOORD_1":l.addAttribute("uv2",d);break;case"COLOR_0":case"COLOR0":case"COLOR":l.addAttribute("color",d);break;case"WEIGHT":l.addAttribute("skinWeight",d);break;case"JOINT":l.addAttribute("skinIndex",d);break;case"_BATCHID":l.addAttribute("_BATCHID",d);break;default:if(!s.material)break;if(!(p=e.materials[s.material]).technique)break;var m=e.techniques[p.technique].parameters||{};for(var f in m)m[f].semantic===c&&l.addAttribute(f,d)}}s.indices&&l.setIndex(t.accessors[s.indices]);var p=void 0!==t.materials?t.materials[s.material]:new a.MeshPhongMaterial({color:0,emissive:8947848,specular:0,shininess:0,transparent:!1,depthTest:!0,side:a.FrontSide});(g=new a.Mesh(l,p)).castShadow=!0,g.name="0"===o?r.name:r.name+o,s.extras&&(g.userData=s.extras),r.add(g)}else if(s.mode===u.LINES){l=new a.BufferGeometry,h=s.attributes;for(var c in h){var v;if(!(v=h[c]))return;d=t.accessors[v];switch(c){case"POSITION":l.addAttribute("position",d);break;case"COLOR_0":case"COLOR0":case"COLOR":l.addAttribute("color",d)}}var g;p=t.materials[s.material];s.indices?(l.setIndex(t.accessors[s.indices]),g=new a.LineSegments(l,p)):g=new a.Line(l,p),g.name="0"===o?r.name:r.name+o,s.extras&&(g.userData=s.extras),r.add(g)}else console.warn("Only triangular and line primitives are supported")}return r})})},T.prototype.loadCameras=function(){return L(this.json.cameras,function(e){if("perspective"==e.type&&e.perspective){var t=e.perspective.yfov,n=void 0!==e.perspective.aspectRatio?e.perspective.aspectRatio:1,r=new a.PerspectiveCamera(a.Math.radToDeg(t*n),n,e.perspective.znear||1,e.perspective.zfar||2e6);return void 0!==e.name&&(r.name=e.name),e.extras&&(r.userData=e.extras),r}if("orthographic"==e.type&&e.orthographic){r=new a.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,e.orthographic.znear,e.orthographic.zfar);return void 0!==e.name&&(r.name=e.name),e.extras&&(r.userData=e.extras),r}})},T.prototype.loadSkins=function(){var e=this.json;return this._withDependencies(["accessors"]).then(function(t){return L(e.skins,function(e){var n=new a.Matrix4;return void 0!==e.bindShapeMatrix&&n.fromArray(e.bindShapeMatrix),{bindShapeMatrix:n,jointNames:e.jointNames,inverseBindMatrices:t.accessors[e.inverseBindMatrices]}})})},T.prototype.loadAnimations=function(){var e=this.json;return this._withDependencies(["accessors","nodes"]).then(function(t){return L(e.animations,function(e,n){var r=[];for(var i in e.channels){var o=e.channels[i],s=e.samplers[o.sampler];if(s){var l=o.target,u=l.id,h=void 0!==e.parameters?e.parameters[s.input]:s.input,c=void 0!==e.parameters?e.parameters[s.output]:s.output,d=t.accessors[h],m=t.accessors[c],f=t.nodes[u];if(f){f.updateMatrix(),f.matrixAutoUpdate=!0;var p=x[l.path]===x.rotation?a.QuaternionKeyframeTrack:a.VectorKeyframeTrack,v=f.name?f.name:f.uuid,g=void 0!==s.interpolation?b[s.interpolation]:a.InterpolateLinear;r.push(new p(v+"."+x[l.path],a.AnimationUtils.arraySlice(d.array,0),a.AnimationUtils.arraySlice(m.array,0),g))}}}u=void 0!==e.name?e.name:"animation_"+n;return new a.AnimationClip(u,void 0,r)})})},T.prototype.loadNodes=function(){var e=this.json,t=this.extensions,n=this;return L(e.nodes,function(e){var t,n=new a.Matrix4;return e.jointName?((t=new a.Bone).name=void 0!==e.name?e.name:e.jointName,t.jointName=e.jointName):(t=new a.Object3D,void 0!==e.name&&(t.name=e.name)),e.extras&&(t.userData=e.extras),void 0!==e.matrix?(n.fromArray(e.matrix),t.applyMatrix(n)):(void 0!==e.translation&&t.position.fromArray(e.translation),void 0!==e.rotation&&t.quaternion.fromArray(e.rotation),void 0!==e.scale&&t.scale.fromArray(e.scale)),t}).then(function(i){return n._withDependencies(["meshes","skins","cameras"]).then(function(n){return L(i,function(o,s){var l=e.nodes[s];if(void 0!==l.meshes)for(var u in l.meshes){var h=l.meshes[u],c=n.meshes[h];if(void 0!==c)for(var d in c.children){var m,f=c.children[d],p=f.material,v=f.geometry,g=f.userData,_=f.name;switch(p.isDeferredShaderMaterial?p=y=p.create():y=p,f.type){case"LineSegments":f=new a.LineSegments(v,y);break;case"LineLoop":f=new a.LineLoop(v,y);break;case"Line":f=new a.Line(v,y);break;default:f=new a.Mesh(v,y)}if(f.castShadow=!0,f.userData=g,f.name=_,l.skin&&(m=n.skins[l.skin]),m){var y,M=function(e){for(var t=Object.keys(i),n=0,r=t.length;n<r;n++){var a=i[t[n]];if(a.jointName===e)return a}return null};(y=p).skinning=!0,(f=new a.SkinnedMesh(v,y)).castShadow=!0,f.userData=g,f.name=_;for(var x=[],b=[],w=0,L=m.jointNames.length;w<L;w++){var q=m.jointNames[w],S=M(q);if(S){x.push(S);var T=m.inverseBindMatrices.array,E=(new a.Matrix4).fromArray(T,16*w);b.push(E)}else console.warn("WARNING: joint: '"+q+"' could not be found")}f.bind(new a.Skeleton(x,b),m.bindShapeMatrix);var D=function(t,n,r){var a=t[r];if(void 0!==a)for(var o=0,s=a.length;o<s;o++){var l=a[o],u=i[l],h=e.nodes[l];void 0!==u&&!0===u.isBone&&void 0!==h&&(n.add(u),D(h,u,"children"))}};D(l,f,"skeletons")}o.add(f)}else console.warn("LegacyGLTFLoader: Couldn't find node \""+h+'".')}if(void 0!==l.camera){var k=n.cameras[l.camera];o.add(k)}if(l.extensions&&l.extensions[r.KHR_MATERIALS_COMMON]&&l.extensions[r.KHR_MATERIALS_COMMON].light){var A=t[r.KHR_MATERIALS_COMMON].lights[l.extensions[r.KHR_MATERIALS_COMMON].light];o.add(A)}return o})})})},T.prototype.loadScenes=function(){var e=this.json;function t(n,r,i){var a=i[n];r.add(a);var o=e.nodes[n];if(o.children)for(var s=o.children,l=0,u=s.length;l<u;l++){t(s[l],a,i)}}return this._withDependencies(["nodes"]).then(function(r){return L(e.scenes,function(e){var i=new a.Scene;void 0!==e.name&&(i.name=e.name),e.extras&&(i.userData=e.extras);for(var o=e.nodes||[],s=0,l=o.length;s<l;s++){t(o[s],i,r.nodes)}return i.traverse(function(e){e.material&&e.material.isRawShaderMaterial&&(e.gltfShader=new n(e,r.nodes),e.onBeforeRender=function(e,t,n){this.gltfShader.update(t,n)})}),i})})},e}();var ae=ie.LegacyGLTFLoader,oe=n(28),se=function(e){var t=oe.a.decode(new Uint8Array(e)),n=JSON.parse(t);return Promise.resolve(n)},le=n(75),ue=(new a.Matrix4).makeRotationX(Math.PI/2),he=(new a.Matrix4).makeRotationZ(-Math.PI/2),ce=new re,de=new ae;function me(e){var t=["MODELVIEW","MODELVIEWINVERSETRANSPOSE","PROJECTION","JOINTMATRIX"];if(e.gltfShader){var n=[];for(var r in e.gltfShader.boundUniforms)n.push(r);for(var i=0;i<n.length;i++){var a=n[i],o=e.gltfShader.boundUniforms[a].semantic;t.includes(o)||delete e.gltfShader.boundUniforms[a]}}}var fe={parse:function(e,t){var n=t.gltfUpAxis,r=t.urlBase;if(!e)throw new Error("No array buffer provided.");var i=new DataView(e,4),o=0,s={};if(s.magic=oe.a.decode(new Uint8Array(e,0,4)),s.magic){s.version=i.getUint32(o,!0),o+=Uint32Array.BYTES_PER_ELEMENT,s.byteLength=i.getUint32(o,!0),o+=Uint32Array.BYTES_PER_ELEMENT,s.FTJSONLength=i.getUint32(o,!0),o+=Uint32Array.BYTES_PER_ELEMENT,s.FTBinaryLength=i.getUint32(o,!0),o+=Uint32Array.BYTES_PER_ELEMENT,s.BTJSONLength=i.getUint32(o,!0),o+=Uint32Array.BYTES_PER_ELEMENT,s.BTBinaryLength=i.getUint32(o,!0);var l=(o+=Uint32Array.BYTES_PER_ELEMENT)+4,u=[];if(s.BTJSONLength>0){var h=l+s.FTJSONLength+s.FTBinaryLength;u.push(se(e.slice(h,s.BTJSONLength+h)))}else u.push(Promise.resolve({}));return u.push(new Promise(function(i){var o=function(r){var o=!0,u=!1,h=void 0;try{for(var c,d=r.scenes[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){c.value.traverse(me)}}catch(e){u=!0,h=e}finally{try{o||null==d.return||d.return()}finally{if(u)throw h}}void 0===n||"Y"===n?r.scene.applyMatrix(ue):"X"===n&&r.scene.applyMatrix(he),function(e,t){var n=new DataView(e,0,20),r=new Uint8Array(e,20,n.getUint32(12,!0)),i=oe.a.decode(new Uint8Array(r)),a=JSON.parse(i);a.extensions&&a.extensions.CESIUM_RTC&&(t.position.fromArray(a.extensions.CESIUM_RTC.center),t.updateMatrixWorld(!0))}(e.slice(l+s.FTJSONLength+s.FTBinaryLength+s.BTJSONLength+s.BTBinaryLength),r.scene),r.scene.traverse(function(e){e.frustumCulled=!1,e.material&&(t.overrideMaterials?(e.material.dispose(),"object"===X()(t.overrideMaterials)&&t.overrideMaterials.isMaterial?e.material=t.overrideMaterials.clone():e.material=new a.MeshLambertMaterial({color:16777215})):f.a.isLogDepthBufferSupported()&&e.material.isRawShaderMaterial&&!t.doNotPatchMaterial&&(le.a.patchMaterialForLogDepthSupport(e.material),console.warn("b3dm shader has been patched to add log depth buffer support")),e.material.transparent=t.opacity<1,e.material.opacity=t.opacity)}),i(r)},u=e.slice(l+s.FTJSONLength+s.FTBinaryLength+s.BTJSONLength+s.BTBinaryLength);1===new DataView(u,0,20).getUint32(4,!0)?de.parse(u,r,o):ce.parse(u,r,o)})),Promise.all(u).then(function(e){return{gltf:e[1],batchTable:e[0]}})}throw new Error("Invalid b3dm file.")}},pe={parse:function(e){if(!e)throw new Error("No array buffer provided.");var t=new DataView(e),n=0,r={},i={},o={};if(r.magic=oe.a.decode(new Uint8Array(e,n,4)),n+=4,r.magic){if(r.version=t.getUint32(n,!0),n+=Uint32Array.BYTES_PER_ELEMENT,r.byteLength=t.getUint32(n,!0),n+=Uint32Array.BYTES_PER_ELEMENT,r.FTJSONLength=t.getUint32(n,!0),n+=Uint32Array.BYTES_PER_ELEMENT,r.FTBinaryLength=t.getUint32(n,!0),n+=Uint32Array.BYTES_PER_ELEMENT,r.BTJSONLength=t.getUint32(n,!0),n+=Uint32Array.BYTES_PER_ELEMENT,r.BTBinaryLength=t.getUint32(n,!0),n+=Uint32Array.BYTES_PER_ELEMENT,r.FTBinaryLength>0&&(o=function(e,t,n){var r,i=new a.BufferGeometry,o=oe.a.decode(new Uint8Array(e,t,n)),s=JSON.parse(o);s.POINTS_LENGTH&&(r=s.POINTS_LENGTH);if(s.POSITION){var l=s.POSITION.byteOffset+o.length+t,u=new Float32Array(e,l,3*r);i.addAttribute("position",new a.BufferAttribute(u,3))}if(s.RGB){var h=s.RGB.byteOffset+o.length+t,c=new Uint8Array(e,h,3*r);i.addAttribute("color",new a.BufferAttribute(c,3,!0))}if(s.POSITION_QUANTIZED)throw new Error("For pnts loader, POSITION_QUANTIZED: not yet managed");if(s.RGBA)throw new Error("For pnts loader, RGBA: not yet managed");if(s.RGB565)throw new Error("For pnts loader, RGB565: not yet managed");if(s.NORMAL)throw new Error("For pnts loader, NORMAL: not yet managed");if(s.NORMAL_OCT16P)throw new Error("For pnts loader, NORMAL_OCT16P: not yet managed");if(s.BATCH_ID)throw new Error("For pnts loader, BATCH_ID: not yet managed");var d=s.RTC_CENTER?(new a.Vector3).fromArray(s.RTC_CENTER):void 0;return{geometry:i,offset:d}}(e,n,r.FTJSONLength)),r.BTJSONLength>0){var s=28+r.FTJSONLength+r.FTBinaryLength;i=se(e.slice(s,r.BTJSONLength+s))}var l={point:o,batchTable:i};return Promise.resolve(l)}throw new Error("Invalid pnts file.")}};var ve=n(37),ge=n(8),_e=n(44);function ye(e,t){var n=1;this.index={};var r=new a.Matrix4,i=function(e,t,o){if(e.transform=e.transform?(new a.Matrix4).fromArray(e.transform):void 0,e._worldFromLocalTransform=e.transform,o&&o._worldFromLocalTransform&&(e.transform?e._worldFromLocalTransform=(new a.Matrix4).multiplyMatrices(o._worldFromLocalTransform,e.transform):e._worldFromLocalTransform=o._worldFromLocalTransform),(e.viewerRequestVolume&&e.viewerRequestVolume.region||e.boundingVolume&&e.boundingVolume.region)&&(e._worldFromLocalTransform?r.getInverse(e._worldFromLocalTransform):r.identity()),e.viewerRequestVolume=e.viewerRequestVolume?xe(e.viewerRequestVolume,r):void 0,e.boundingVolume=xe(e.boundingVolume,r),this.index[n]=e,e.tileId=n,e.baseURL=t,n++,e.children){var s=!0,l=!1,u=void 0;try{for(var h,c=e.children[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;i(d,t,e)}}catch(e){l=!0,u=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw u}}}}.bind(this);i(e.root,t),this.extendTileset=function(e,t,n){i(e.root,n,this.index[t]),this.index[t].children=[e.root],this.index[t].isTileset=!0}}function Me(e){if(e.content){var t=[];e.content.traverse(function(n){n.isObject3D&&n.material&&n.layer==e.layer&&t.push(n)});var n=e.parent;return n&&n.content?{elements:t,parent:n.content}:{elements:t}}}function xe(e,t){if(e.region){var n=e.region,r=new ge.a("EPSG:4326",a.Math.radToDeg(n[0]),a.Math.radToDeg(n[2]),a.Math.radToDeg(n[1]),a.Math.radToDeg(n[3])),i=ve.a.extentToOBB(r,n[4],n[5]);return i.matrix.premultiply(t),i.matrix.decompose(i.position,i.quaternion,i.scale),{region:i}}if(e.box){var o=e.box,s=new a.Vector3(o[0],o[1],o[2]),l=s.x-o[3],u=s.x+o[3],h=s.y-o[7],c=s.y+o[7],d=s.z-o[11],m=s.z+o[11];return{box:new a.Box3(new a.Vector3(l,h,d),new a.Vector3(u,c,m))}}if(e.sphere)return{sphere:new a.Sphere(new a.Vector3(e.sphere[0],e.sphere[1],e.sphere[2]),e.sphere[3])}}function be(e,t,n){var r=a.LoaderUtils.extractUrlBase(n),i={gltfUpAxis:t.asset.gltfUpAxis,urlBase:r,overrideMaterials:t.overrideMaterials,doNotPatchMaterial:t.doNotPatchMaterial,opacity:t.opacity};return fe.parse(e,i).then(function(e){return{batchTable:e.batchTable,object3d:e.gltf.scene}})}function we(e,t){return pe.parse(e).then(function(e){var n=t.material?t.material.clone():new a.PointsMaterial({size:.05,vertexColors:a.VertexColors}),r=new a.Points(e.point.geometry,n);return e.point.offset&&r.position.copy(e.point.offset),{object3d:r}})}for(var Le={preprocessDataLayer:function(e,t,n){return e.preUpdate=e.preUpdate||_e.d,e.update=e.update||Object(_e.e)(),e.sseThreshold=e.sseThreshold||16,e.cleanupDelay=e.cleanupDelay||1e3,e.getObjectToUpdateForAttachedLayers=Me,e._cleanableTiles=[],F.a.json(e.url,e.networkOptions).then(function(r){e.tileset=r;var i=e.url.slice(0,e.url.lastIndexOf("/")+1);return e.tileIndex=new ye(r,i),e.asset=r.asset,Object(_e.c)(t,n,e,r.root)})},executeCommand:function(e){var t=e.layer,n=e.metadata,r=new a.Object3D;!function(e,t,n,r){e.frustumCulled=!1,e.layer=t,n.transform&&e.applyMatrix(n.transform),e.geometricError=n.geometricError,e.tileId=n.tileId,n.refine?e.additiveRefinement="ADD"===n.refine.toUpperCase():e.additiveRefinement=!!r&&r.additiveRefinement,e.viewerRequestVolume=n.viewerRequestVolume,e.boundingVolume=n.boundingVolume,e.boundingVolume.region&&e.add(e.boundingVolume.region),e.updateMatrixWorld()}(r,t,n,e.requester);var i=n.content&&(n.content.url||n.content.uri),o=function(e){e.layers.set(t.threejsLayer),e.userData.metadata=n,e.layer=t,e.material&&(e.material.transparent=t.opacity<1,e.material.opacity=t.opacity,e.material.wireframe=t.wireframe)};if(i){var s=i.startsWith("http")?i:n.baseURL+i,l={b3dm:be,pnts:we};return F.a.arrayBuffer(s,t.networkOptions).then(function(e){if(void 0!==e){var i,a=oe.a.decode(new Uint8Array(e,0,4));if("{"===a[0]){e=JSON.parse(oe.a.decode(new Uint8Array(e)));var u=s.slice(0,s.lastIndexOf("/")+1);t.tileIndex.extendTileset(e,n.tileId,u)}else if("b3dm"==a)i=l.b3dm;else{if("pnts"!=a)return Promise.reject("Unsupported magic code ".concat(a));i=l.pnts}if(i)return i(e,t,s).then(function(e){return r.content=e.object3d,e.batchTable&&(r.batchTable=e.batchTable),r.add(e.object3d),r.traverse(o),r})}return r.traverse(o),r})}return r.traverse(o),Promise.resolve(r)}},qe=n(62),Se={POSITION_CARTESIAN:{numElements:3,arrayType:Float32Array,attributeName:"position"},COLOR_PACKED:{numElements:4,arrayType:Uint8Array,attributeName:"color",normalized:!0},INTENSITY:{numElements:1,numByte:2,arrayType:Float32Array,attributeName:"intensity",normalized:!0},CLASSIFICATION:{numElements:1,arrayType:Uint8Array,attributeName:"classification"},NORMAL_SPHEREMAPPED:{numElements:2,arrayType:Uint8Array,attributeName:"sphereMappedNormal"},NORMAL_OCT16:{numElements:2,arrayType:Uint8Array,attributeName:"oct16Normal"},NORMAL:{numElements:3,arrayType:Float32Array,attributeName:"normal"}},Te=Object.keys(Se),Ee=function(){var e=Te[De],t=Se[e];t.potreeName=e,t.numByte=t.numByte||t.arrayType.BYTES_PER_ELEMENT,t.byteSize=t.numElements*t.numByte,t.normalized=t.normalized||!1;var n="getUint".concat(8*t.numByte);t.getValue=1===t.numByte?function(e,t){return e[n](t)}:function(e,t){return e[n](t,!0)}},De=0;De<Te.length;De++)Ee();var ke={parse:function(e,t){if(!e)throw new Error("No array buffer provided.");var n=new DataView(e),r=0,i=!0,o=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var h=l.value;r+=Se[h].byteSize}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var c=Math.floor(e.byteLength/r),d=new a.BufferGeometry,m=0,f=0,p=!0,v=!1,g=void 0;try{for(var _,y=t[Symbol.iterator]();!(p=(_=y.next()).done);p=!0){for(var M=_.value,x=Se[M],b=x.numElements*c,w=new x.arrayType(b),L=0;L<b;L+=x.numElements){for(var q=0;q<x.numElements;q++)w[L+q]=x.getValue(n,f+q*x.numByte);f+=r}f=m+=x.byteSize,d.addAttribute(x.attributeName,new a.BufferAttribute(w,x.numElements,x.normalized))}}catch(e){v=!0,g=e}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}return d.computeBoundingBox(),Promise.resolve(d)}},Ae={parse:function(e){if(!e)throw new Error("No array buffer provided.");var t=new DataView(e,0,24),n=new a.Vector3(t.getFloat32(0,!0),t.getFloat32(4,!0),t.getFloat32(8,!0)),r=new a.Vector3(t.getFloat32(12,!0),t.getFloat32(16,!0),t.getFloat32(20,!0)),i=new a.Box3(n,r),o=Math.floor((e.byteLength-24)/16),s=new Float32Array(e,24,3*o),l=new Uint8Array(e,24+12*o,4*o),u=new a.BufferGeometry;return u.addAttribute("position",new a.BufferAttribute(s,3)),u.addAttribute("color",new a.BufferAttribute(l,4,!0)),u.boundingBox=i,Promise.resolve(u)}},Pe=n(60),Ce=n(35);function Re(e,t,n){return F.a.arrayBuffer("".concat(n.baseurl,"/r").concat(n.name,".hrc"),e.fetchOptions).then(function(r){var i,o,s,l,u,h,c,d,m,f,p=new DataView(r),v=[],g=0;for(n.childrenBitField=p.getUint8(0),g+=1,n.numPoints=p.getUint32(1,!0),g+=4,n.children=[],v.push(n);v.length&&g<r.byteLength;)for(var _=v.shift(),y=0;y<8;y++)if(_.childrenBitField&1<<y&&g+5<=r.byteLength){var M=p.getUint8(g);g+=1;var x=p.getUint32(g,!0);g+=4,0==x&&(x=n.numPoints);var b=_.name+y,w=(i=_.bbox,o=y,s=void 0,l=void 0,u=void 0,h=void 0,c=void 0,d=void 0,m=void 0,f=void 0,s=i.min,l=i.max,u=(new a.Vector3).copy(l).sub(s).multiplyScalar(.5),h=new a.Vector3(u.x,0,0),c=new a.Vector3(0,u.y,0),d=new a.Vector3(0,0,u.z),m=s,f=(new a.Vector3).add(s).add(u),1===o?(s=(new a.Vector3).copy(m).add(d),l=(new a.Vector3).copy(f).add(d)):3===o?(s=(new a.Vector3).copy(m).add(d).add(c),l=(new a.Vector3).copy(f).add(d).add(c)):0===o?(s=m,l=f):2===o?(s=(new a.Vector3).copy(m).add(c),l=(new a.Vector3).copy(f).add(c)):5===o?(s=(new a.Vector3).copy(m).add(d).add(h),l=(new a.Vector3).copy(f).add(d).add(h)):7===o?(s=(new a.Vector3).copy(m).add(u),l=(new a.Vector3).copy(f).add(u)):4===o?(s=(new a.Vector3).copy(m).add(h),l=(new a.Vector3).copy(f).add(h)):6===o&&(s=(new a.Vector3).copy(m).add(h).add(c),l=(new a.Vector3).copy(f).add(h).add(c)),new a.Box3(s,l)),L=n.baseurl;if(b.length%t==0){var q=b.substr(n.name.length);L="".concat(n.baseurl,"/").concat(q)}var S={numPoints:x,childrenBitField:M,children:[],name:b,baseurl:L,bbox:w,layer:e,parent:_};_.children.push(S),v.push(S)}return n})}var Ye=1;function Oe(e,t){t.metadata=e;var n=!0;if(null!=t.metadata.scale){t.isFromPotreeConverter=!0,n="CIN"===t.metadata.pointAttributes;var r=Array.isArray(t.metadata.pointAttributes)&&t.metadata.pointAttributes.find(function(e){return e.startsWith("NORMAL")});r&&(t.material.defines[r]=1)}else t.metadata.scale=1,t.metadata.octreeDir="itowns/".concat(t.table,".points"),t.metadata.hierarchyStepSize=1e6,n=!0;t.parse=n?Ae.parse:ke.parse,t.extension=n?"cin":"bin",t.supportsProgressiveDisplay=n}function Ie(e){if(e.obj){var t=e.parent;return t&&t.obj?{element:e.obj,parent:t.obj}:{element:e.obj}}}var Fe={preprocessDataLayer:function(e,t){return e.file||(e.file="cloud.js"),e.group||(e.group=new a.Group,e.object3d.add(e.group),e.group.updateMatrixWorld()),e.bboxes||(e.bboxes=new a.Group,e.object3d.add(e.bboxes),e.bboxes.updateMatrixWorld(),e.bboxes.visible=!1),e.fetchOptions=e.fetchOptions||{},e.octreeDepthLimit=e.octreeDepthLimit||-1,e.pointBudget=e.pointBudget||2e6,e.pointSize=0!==e.pointSize&&isNaN(e.pointSize)?4:e.pointSize,e.sseThreshold=e.sseThreshold||2,e.material=e.material||{},e.material=e.material.isMaterial?e.material:new Pe.b(e.material),e.material.defines=e.material.defines||{},e.mode=Pe.a.COLOR,e.preUpdate=qe.a.preUpdate,e.update=qe.a.update,e.postUpdate=qe.a.postUpdate,e.getObjectToUpdateForAttachedLayers=Ie,e.pickObjectsAt=function(t,n,r){return Ce.a.pickPointsAt(t,n,r,e)},F.a.json("".concat(e.url,"/").concat(e.file),e.fetchOptions).then(function(t){Oe(t,e);var n=function(e){var t;if(e.isFromPotreeConverter)t=new a.Box3(new a.Vector3(e.metadata.boundingBox.lx,e.metadata.boundingBox.ly,e.metadata.boundingBox.lz),new a.Vector3(e.metadata.boundingBox.ux,e.metadata.boundingBox.uy,e.metadata.boundingBox.uz));else{var n=0,r=!0,i=!1,o=void 0;try{for(var s,l=e.metadata[Symbol.iterator]();!(r=(s=l.next()).done)&&s.value.table!=e.table;r=!0)n++}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}t=new a.Box3(new a.Vector3(e.metadata[n].bbox.xmin,e.metadata[n].bbox.ymin,e.metadata[n].bbox.zmin),new a.Vector3(e.metadata[n].bbox.xmax,e.metadata[n].bbox.ymax,e.metadata[n].bbox.zmax))}return t}(e);return Re(e,e.metadata.hierarchyStepSize,{baseurl:"".concat(e.url,"/").concat(e.metadata.octreeDir,"/r"),name:"",bbox:n})}).then(function(n){return console.log("LAYER metadata:",n),e.root=n,n.findChildrenByName=function e(t,n){if(t.name===n)return t;for(var r=t.name.length,i=0;i<t.children.length;i++)if(t.children[i].name[r]==n[r])return e(t.children[i],n);throw new Error("Cannot find node with name '".concat(n,"'"))}.bind(n,n),e.extent=ge.a.fromBox3(t.referenceCrs,n.bbox),e})},executeCommand:function(e){var t=e.layer,n=e.requester;n.childrenBitField&&0===n.children.length&&Re(t,t.metadata.hierarchyStepSize,n).then(function(){return e.view.notifyChange(t,!1)});var r="".concat(n.baseurl,"/r").concat(n.name,".").concat(t.extension,"?isleaf=").concat(e.isLeaf?1:0);return F.a.arrayBuffer(r,t.fetchOptions).then(function(e){return t.parse(e,t.metadata.pointAttributes)}).then(function(r){var i=new a.Points(r,t.material.clone());return function(e){var t=e.geometry.attributes.position.count,n=new Uint8Array(4*t),r=Ye++;if(t>65535||r>65535)return console.warn("Currently picking is limited to Points with less than 65535 elements and less than 65535 Points instances"),e;for(var i=0;i<t;i++){var o=r<<16|i;n[4*i+0]=(4278190080&o)>>24,n[4*i+1]=(16711680&o)>>16,n[4*i+2]=(65280&o)>>8,n[4*i+3]=(255&o)>>0}e.baseId=r,e.geometry.addAttribute("unique_id",new a.BufferAttribute(n,4,!0))}(i),i.frustumCulled=!1,i.matrixAutoUpdate=!1,i.position.copy(n.bbox.min),i.scale.set(t.metadata.scale,t.metadata.scale,t.metadata.scale),i.updateMatrix(),i.tightbbox=r.boundingBox.applyMatrix4(i.matrix),i.layers.set(t.threejsLayer),i.layer=t,i.extent=ge.a.fromBox3(e.view.referenceCrs,n.bbox),i.userData.metadata=n,i})}};function He(e,t){var n=t.priority-e.priority;return 0===n?t.timestamp-e.timestamp:n}function Ne(){return{queue:function(e){var t=e.layer,n=this.storages.get(t.id);n||(n={q:new q.a({comparator:He}),priority:1,accumulator:0},this.storages.set(t.id,n)),n.priority=t.priority||1,n.q.queue(e),this.counters.pending++},storages:new Map,counters:{executing:0,executed:0,failed:0,cancelled:0,pending:0},execute:function(e,t){var n=this;return this.counters.pending--,this.counters.executing++,t.executeCommand(e).then(function(t){n.counters.executing--,e.resolve(t),n.counters.executed++},function(t){n.counters.executing--,e.reject(t),n.counters.failed++})}}}function je(){this.defaultQueue=Ne(),this.hostQueues=new Map,this.providers={},this.maxCommandsPerHost=6,this.initDefaultProviders()}je.prototype.constructor=je,je.prototype.initDefaultProviders=function(){this.addProtocolProvider("tile",V),this.addProtocolProvider("3d-tiles",Le),this.addProtocolProvider("potreeconverter",Fe)},je.prototype.runCommand=function(e,t,n){var r=this,i=e.layer.protocol||e.layer.source.protocol,a=this.getProtocolProvider(i);if(!a)throw new Error("No known provider for layer",e.layer.id);t.execute(e,a,n).then(function(){if(e.view.notifyChange(e.requester,e.redraw),t.counters.executing<r.maxCommandsPerHost){var n=r.deQueue(t);n&&r.runCommand(n,t)}})},je.prototype.execute=function(e){var t=this,n=e.layer,r=n.source&&n.source.url?new URL(n.source.url,document.location).host:void 0;e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),r&&!this.hostQueues.has(r)&&this.hostQueues.set(r,Ne());var i=r?this.hostQueues.get(r):this.defaultQueue;return e.timestamp=Date.now(),i.queue(e),i.counters.executing<this.maxCommandsPerHost&&Promise.resolve().then(function(){if(i.counters.executing<t.maxCommandsPerHost){var e=t.deQueue(i);e&&t.runCommand(e,i)}}),e.promise},je.prototype.addProtocolProvider=function(e,t){if("function"!=typeof t.executeCommand)throw new Error("Can't add provider for ".concat(e,": missing a executeCommand function."));this.providers[e]=t},je.prototype.getProtocolProvider=function(e){return this.providers[e]||W},je.prototype.commandsWaitingExecutionCount=function(){var e=this.defaultQueue.counters.pending+this.defaultQueue.counters.executing,t=!0,n=!1,r=void 0;try{for(var i,a=this.hostQueues[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e+=o[1].counters.pending+o[1].counters.executing}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e},je.prototype.commandsRunningCount=function(){var e=this.defaultQueue.counters.executing,t=!0,n=!1,r=void 0;try{for(var i,a=this.hostQueues[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){e+=i.value[1].counters.executing}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e},je.prototype.resetCommandsCount=function(e){var t=this.defaultQueue.counters[e];this.defaultQueue.counters[e]=0;var n=!0,r=!1,i=void 0;try{for(var a,o=this.hostQueues[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t+=s[1].counters[e],s[1].counters[e]=0}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t},je.prototype.deQueue=function(e){for(var t=function(e){var t,n,r=0,i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value[1];u.q.length>0&&(r+=u.priority,u.accumulator+=u.priority,(!t||u.accumulator>n)&&(t=u,n=u.accumulator))}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}if(t)return t.accumulator-=r,t.q}(e.storages);t&&t.length>0;){var n=t.dequeue();if(!n.earlyDropFunction||!n.earlyDropFunction(n))return n;e.counters.pending--,e.counters.cancelled++,n.reject(new N.a(n))}};var ze=je,Be=n(96),Ue=n(97),Ge=n(98),We=n(79),Ve=n(100),Je=n(99);n.d(t,"a",function(){return Ze});var Xe=new Map([["wmts",Be.a],["file",Je.a],["wfs",Ge.a],["wms",Ue.a],["tms",We.a],["xyz",We.a],["static",Ve.a]]),Ze={LAYERS_INITIALIZED:"layers-initialized"};function Ke(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("Invalid viewerDiv parameter (must non be null/undefined)");this.referenceCrs=e,n=i.renderer&&i.renderer.domElement?new _(i.renderer):new _(t,i.renderer),this.mainLoop=i.mainLoop||new m.c(new ze,n),this.scene=i.scene3D||new a.Scene,i.scene3D||(this.scene.autoUpdate=!1),this.camera=new d(this.referenceCrs,this.mainLoop.gfxEngine.getWindowSize().x,this.mainLoop.gfxEngine.getWindowSize().y,i),this._frameRequesters={},this._layers=[],window.addEventListener("resize",function(){var e=new a.Vector2(t.clientWidth,t.clientHeight);r.mainLoop.gfxEngine.onWindowResize(e.x,e.y),r.notifyChange(r.camera.camera3D)},!1),this._changeSources=new Set,this._delayedFrameRequesterRemoval=[],this._allLayersAreReadyCallback=function(){r.getLayers().every(function(e){return e.ready})&&0==r.mainLoop.scheduler.commandsWaitingExecutionCount()&&r.mainLoop.renderingState==m.b&&(r.dispatchEvent({type:Ze.LAYERS_INITIALIZED}),r.removeFrameRequester(m.a.UPDATE_END,r._allLayersAreReadyCallback))}}Ke.prototype=Object.create(a.EventDispatcher.prototype),Ke.prototype.constructor=Ke;var Qe=function(e,t){e.object3d&&(e.object3d.visible=e.visible),e.threejsLayer&&(e.visible?t.camera.camera3D.layers.enable(e.threejsLayer):t.camera.camera3D.layers.disable(e.threejsLayer))};function $e(e,t,n,r){if(t.isLayer||(t=function(e){switch(console.warn("Deprecation warning: passing a layer as an object is deprecated. Instantiate the layer before adding it to the view instead."),e.type){case"color":return new x.a(e.id,e);case"elevation":return new b.a(e.id,e);case"geometry":return new w.a(e.id,new a.Group,e);case"debug":return new M.b(e.id,"debug",e);default:throw new Error("Unknown layer type ".concat(e.type,": please\n                specify a valid one"))}}(t)),r&&!t.extent&&(t.extent=r.extent,t.source&&!t.source.extent&&(t.source.extent=r.extent)),"geometry"==t.type||"debug"==t.type?((r||"debug"==t.type)&&(t.threejsLayer=e.mainLoop.gfxEngine.getUniqueThreejsLayer()),t.defineLayerProperty("visible",!0,function(){return Qe(t,e)}),Qe(t,e),t.projection=e.referenceCrs):"PM"===t.source.tileMatrixSet?t.projection="EPSG:3857":t.projection=r.extent.crs(),!t.whenReady){var i=Promise.resolve();if(n&&n.preprocessDataLayer)(i=n.preprocessDataLayer(t,e,e.mainLoop.scheduler,r))&&i.then||(i=Promise.resolve());else if(t.source){if(t.source.toTexture="geometry"!=t.type,!t.source.isSource){console.warn("Deprecation warning: passing a source as an object is deprecated. Instantiate the source before adding it to the layer instead.");var o=t.source.protocol;t.source=new(Xe.get(o))(t.source,t.projection)}i=t.source.whenReady||i}t.whenReady=i.then(function(){return t.ready=!0,t})}return t}Ke.prototype.addLayer=function(e,t){var n=this;return new Promise(function(r,a){if(e)if(n.getLayers(function(t){return t.id==e.id}).length>0)a(new Error("Invalid id '".concat(e.id,"': id already used")));else{var o=e.source?e.source.protocol:e.protocol,s=n.mainLoop.scheduler.getProtocolProvider(o);if(!e.protocol||s){if(e=$e(n,e,s,t),t)if("color"==e.type){var l=n.getLayers(function(e){return"color"===e.type});if(!(t.countColorLayersTextures.apply(t,i()(l).concat([e]))<=Object(p.d)()))return void a(new Error("Cant add color layer ".concat(e.id,": the maximum layer is reached")));t.attach(e)}else t.attach(e);else{if("function"!=typeof e.update)return void a(new Error("Cant add GeometryLayer: missing a update function"));if("function"!=typeof e.preUpdate)return void a(new Error("Cant add GeometryLayer: missing a preUpdate function"));n._layers.push(e)}e.object3d&&!e.object3d.parent&&e.object3d!==n.scene&&n.scene.add(e.object3d),e.whenReady.then(function(e){n.notifyChange(t||e,!1),n._frameRequesters[m.a.UPDATE_END]&&n._frameRequesters[m.a.UPDATE_END].includes(n._allLayersAreReadyCallback)||n.addFrameRequester(m.a.UPDATE_END,n._allLayersAreReadyCallback),r(e)})}else a(new Error("".concat(e.protocol," is not a recognized protocol name.")))}else a(new Error("layer is undefined"))})},Ke.prototype.notifyChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this._changeSources.add(e),this.mainLoop.scheduleViewUpdate(this,t)},Ke.prototype.getLayers=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=this._layers[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;e&&!e(s)||t.push(s);var l=!0,u=!1,h=void 0;try{for(var c,d=s.attachedLayers[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var m=c.value;e&&!e(m,s)||t.push(m)}}catch(e){u=!0,h=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw h}}}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t},Ke.prototype.getParentLayer=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this._layers[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=!0,l=!1,u=void 0;try{for(var h,c=o.attachedLayers[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){if(h.value===e)return o}}catch(e){l=!0,u=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw u}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},Ke.prototype.addFrameRequester=function(e,t){if("function"!=typeof t)throw new Error("frameRequester must be a function");this._frameRequesters[e]?this._frameRequesters[e].push(t):this._frameRequesters[e]=[t]},Ke.prototype.removeFrameRequester=function(e,t){this._frameRequesters[e].includes(t)?this._delayedFrameRequesterRemoval.push({when:e,frameRequester:t}):console.error("Invalid call to removeFrameRequester: frameRequester isn't registered")},Ke.prototype._executeFrameRequestersRemovals=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._delayedFrameRequesterRemoval[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value,o=this._frameRequesters[a.when].indexOf(a.frameRequester);o>=0?this._frameRequesters[a.when].splice(o,1):console.warn("FrameReq has already been removed")}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this._delayedFrameRequesterRemoval.length=0},Ke.prototype.execFrameRequesters=function(e,t,n){if(this._frameRequesters[e]){this._delayedFrameRequesterRemoval.length>0&&this._executeFrameRequestersRemovals();for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o=!0,s=!1,l=void 0;try{for(var u,h=this._frameRequesters[e][Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var c=u.value;c.update?c.update(t,n,i):c(t,n,i)}}catch(e){s=!0,l=e}finally{try{o||null==h.return||h.return()}finally{if(s)throw l}}}};var et=new a.Vector2;function tt(e,t){var n=e.getLayers(function(e){return e.id==t});if(!n.length)throw new Error("Invalid layer id used as where argument (value = ".concat(t,")"));return n[0]}Ke.prototype.eventToViewCoords=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(void 0!==e.touches&&e.touches.length){var n=this.mainLoop.gfxEngine.renderer.domElement.getBoundingClientRect();return et.set(e.touches[t].clientX-n.x,e.touches[t].clientY-n.y)}return et.set(e.offsetX,e.offsetY)},Ke.prototype.eventToNormalizedCoords=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.viewToNormalizedCoords(this.eventToViewCoords(e,t))},Ke.prototype.viewToNormalizedCoords=function(e){return et.x=e.x/this.camera.width*2-1,et.y=e.y/this.camera.height*-2+1,et},Ke.prototype.normalizedToViewCoords=function(e){return et.x=.5*(e.x+1)*this.camera.width,et.y=-.5*(e.y-1)*this.camera.height,et},Ke.prototype.pickObjectsAt=function(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var s=0==i.length?this.getLayers(function(e){return"geometry"==e.type}):[].concat(i),l=e instanceof Event?this.eventToViewCoords(e):e;t=t||0;var u=!0,h=!1,c=void 0;try{for(var d,m=s[Symbol.iterator]();!(u=(d=m.next()).done);u=!0){var f=d.value;if(f.isLayer||"string"==typeof f){var p="string"==typeof f?tt(this,f):f,v=this.getParentLayer(p);if(v){var g=Ce.a.pickObjectsAt(this,l,t,v.object3d),_=!0,y=!1,M=void 0;try{for(var x,b=g[Symbol.iterator]();!(_=(x=b.next()).done);_=!0){var w=x.value;w.layer===p&&n.push(w)}}catch(e){y=!0,M=e}finally{try{_||null==b.return||b.return()}finally{if(y)throw M}}}else for(var L=p.pickObjectsAt(this,l,t),q=0;q<L.length;q++)n.push(L[q])}else{if(!(f instanceof a.Object3D))throw new Error("Invalid where arg (value = ".concat(i,"). Expected layers, layer ids or Object3Ds"));Ce.a.pickObjectsAt(this,l,t,f,n)}}}catch(e){h=!0,c=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw c}}return n},Ke.prototype.readDepthBuffer=function(e,t,n,r){var i=this.mainLoop.gfxEngine,a=this.tileLayer.wireframe,o=this.tileLayer.opacity,s=this.tileLayer.visible;a&&(this.tileLayer.wireframe=!1),o<1&&(this.tileLayer.opacity=1),s||(this.tileLayer.visible=!0);var l=this.tileLayer.level0Nodes.map(function(e){return y.a.push(e,y.a.MODES.DEPTH)}),u=i.renderViewToBuffer({camera:this.camera,scene:this.tileLayer.object3d},{x:e,y:t,width:n,height:r});return l.forEach(function(e){return e()}),this.tileLayer.wireframe!==a&&(this.tileLayer.wireframe=a),this.tileLayer.opacity!==o&&(this.tileLayer.opacity=o),this.tileLayer.visible!==s&&(this.tileLayer.visible=s),u};var nt=new a.Matrix4,rt=new a.Vector2,it=new a.Ray,at=new a.Vector3;Ke.prototype.getPickingPositionFromDepth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a.Vector3;if(this.tileLayer&&0!=this.tileLayer.level0Nodes.length&&this.tileLayer.level0Nodes[0]){var n=this.mainLoop,r=0==n.scheduler.commandsWaitingExecutionCount()&&n.renderingState==m.b,i=n.gfxEngine,o=i.getWindowSize(),s=this.camera.camera3D;(e=e||o.clone().multiplyScalar(.5)).x=Math.floor(e.x),e.y=Math.floor(e.y);var l,u=s.layers.mask;if(s.layers.mask=1<<this.tileLayer.threejsLayer,r){this._fullSizeDepthBuffer=this._fullSizeDepthBuffer||this.readDepthBuffer(0,0,o.x,o.y);var h=4*((o.y-e.y-1)*o.x+e.x);l=this._fullSizeDepthBuffer.slice(h,h+4)}else l=this.readDepthBuffer(e.x,e.y,1,1);rt.x=e.x/o.x*2-1,rt.y=-e.y/o.y*2+1,it.origin.copy(s.position),it.direction.set(rt.x,rt.y,.5),nt.multiplyMatrices(s.matrixWorld,nt.getInverse(s.projectionMatrix)),it.direction.applyMatrix4(nt),it.direction.sub(it.origin),at.set(0,0,1),at.applyMatrix4(nt),at.sub(it.origin);var c=at.angleTo(it.direction),d=i.depthBufferRGBAValueToOrthoZ(l,s)/Math.cos(c);if(t.addVectors(s.position,it.direction.setLength(d)),s.layers.mask=u,!(t.length()>1e7))return t}else t=void 0};t.b=Ke},,,function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=function(){function e(t){i()(this,e),this.command=t}return o()(e,[{key:"toString",value:function(){return"Cancelled command ".concat(this.command.requester.id,"/").concat(this.command.layer.id)}}]),e}();t.a=s},function(e,t,n){"use strict";var r=n(34),i=n.n(r),a=n(11),o=n.n(a),s=n(4),l=n.n(s),u=n(5),h=n.n(u),c=n(8),d=function(){function e(t){if(l()(this,e),this.isSource=!0,!t.url)throw new Error("New Source: url is required");this.url=t.url,this.format=t.format,this.fetcher=t.fetcher,this.networkOptions=t.networkOptions||{crossOrigin:"anonymous"},this.projection=t.projection,this.attribution=t.attribution,!t.extent||t.extent instanceof c.a?this.extent=t.extent:Array.isArray(t.extent)?this.extent=i()(c.a,[this.projection].concat(o()(t.extent))):this.extent=new c.a(this.projection,t.extent)}return h()(e,[{key:"handlingError",value:function(e){console.warn("err ".concat(this),e)}},{key:"urlFromExtent",value:function(){throw new Error("In extented Source, you have to implement the method urlFromExtent!")}},{key:"extentInsideLimit",value:function(){throw new Error("In extented Source, you have to implement the method extentInsideLimit!")}},{key:"extentsInsideLimit",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(!this.extentInsideLimit(o))return!1}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!0}}]),e}();t.a=d},,function(e,t,n){"use strict";var r=n(15);e.exports={_set:function(e,t){return r.merge(this[e]||(this[e]={}),t)}}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n(30),i=n(8),a=256,o=Math.pow(a*a*2,.5),s=new i.a("WMTS:WGS84G",0,0,0);t.c={computeTileMatrixSetCoordinates:function(e,t){if(!((t=t||"WGS84G")in e.wmtsCoords)){if(e.wmtsCoords.WGS84G){var n=e.wmtsCoords.WGS84G[0];s.zoom=n.zoom,s.col=n.col,s.row=n.row}else r.a.WGS84toWMTS(e.extent,s),e.wmtsCoords.WGS84G=[s.clone()];e.wmtsCoords[t]=r.a.getCoordWMTS_WGS84(s,e.extent,t)}},computeTMSCoordinates:function(e,t,n){t=e.extent.crs()==t.crs()?t:t.as(e.extent.crs());var r,a=e.extent.center(),o=t.dimensions(),s=Math.round(o.x/e.extent.dimensions().x),l=Math.floor(Math.log2(s)),u=(a.x()-t.west())/o.x;return r=n?(t.north()-a.y())/o.y:(a.y()-t.south())/o.y,[new i.a("TMS",l,Math.floor(r*s),Math.floor(u*s))]}}},,function(e,t,n){"use strict";var r=!1,i=8;function a(e,t,n){var r=e.context,i=r.createShader(t);return r.shaderSource(i,n),r.compileShader(i),i}function o(){return navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes("firefox")}t.a={isLogDepthBufferSupported:function(){return r},isFirefox:o,isInternetExplorer:function(){return!!document.documentMode},getMaxTextureUnitsCount:function(){return i},updateCapabilities:function(e){var t=e.context;i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);var n=t.createProgram(),s=a(e,t.VERTEX_SHADER,"void main() {\n    gl_Position = vec4( 0.0, 0.0, 0.0, 1.0 );\n}"),l="#define SAMPLE ".concat(i,"\n");l+="uniform sampler2D uni[SAMPLE];\nvoid main() {\n    gl_FragColor += texture2D(uni[SAMPLE-1], vec2(0));\n}";var u=a(e,t.FRAGMENT_SHADER,l);if(t.attachShader(n,s),t.attachShader(n,u),t.linkProgram(n),!1===t.getProgramParameter(n,t.LINK_STATUS)){if(!(i>16))throw new Error("The GPU capabilities could not be determined accurately.\n                    Impossible to link a shader with the Maximum texture units ".concat(i));var h=t.getProgramInfoLog(n);console.warn("".concat(h,": using a maximum of 16 texture units instead of the reported value (").concat(i,")")),o()&&console.warn("It can come from a Mesa/Firefox bug;\n                        the shader compiles to an error when using more than 16 sampler uniforms,\n                        see https://bugzilla.mozilla.org/show_bug.cgi?id=777028"),i=16}t.deleteProgram(n),t.deleteShader(s),t.deleteShader(u),r=e.capabilities.logarithmicDepthBuffer}}},function(e,t,n){"use strict";(function(e){var r=n(127),i="function"==typeof e.TextDecoder?e.TextDecoder:r.a;t.a=new i("utf-8")}).call(this,n(112))},function(e,t,n){"use strict";t.a={CYLINDRICAL:1,SPHERICAL:2}},function(e,t,n){"use strict";var r=n(0),i=n(2),a=n(8),o=Math.PI/4,s=Math.PI/2,l=1/(2*Math.PI),u=Math.log(2);function h(e){return Math.min(84,Math.max(-86,e))}var c={x:0,y:0},d=new i.e("EPSG:4326",0,0,0),m={WGS84ToY:function(e){return.5-Math.log(Math.tan(o+.5*r.Math.degToRad(e)))*l},YToWGS84:function(e){return r.Math.radToDeg(2*(Math.atan(Math.exp(-(e-.5)/l))-o))},getCoordWMTS_WGS84:function(e,t,n){if("PM"===n)return function(e,t){var n,r=[],i=e.zoom+1,o=Math.pow(2,i),s=1/o,l=m.WGS84ToY(h(t.north())),u=m.WGS84ToY(h(t.south())),c=Math.floor(l/s);n=Math.ceil(u/s)-1,n=Math.min(n,o-1);for(var d=e.col,f=n;f>=c;f--)for(var p=d;p<=d;p++)r.push(new a.a("WMTS:PM",i,f,p));return r}(e,t);if("WGS84G"===n)return[e.clone()];throw new Error("Unsupported TileMatrixSet '".concat(n,"'"))},WGS84toWMTS:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a.a("WMTS:WGS84G",0,0,0);e.dimensions(c);var n=Math.floor(Math.log(Math.PI/r.Math.degToRad(c.y))/u+.5),i=Math.pow(2,n),o=2*Math.PI/(2*i),l=Math.PI/i;e.center(d);var h=Math.floor((Math.PI+r.Math.degToRad(d.longitude()))/o),m=Math.floor(i-(s+r.Math.degToRad(d.latitude()))/l);return t.set(n,m,h)},UnitaryToLongitudeWGS84:function(e,t){return t.dimensions(c),t.west()+e*c.x},UnitaryToLatitudeWGS84:function(e,t){return t.dimensions(c),t.south()+e*c.y}};t.a=m},function(e,t,n){"use strict";var r=new Map,i=new Map,a={POLICIES:{INFINITE:1/0,TEXTURE:9e5,ELEVATION:9e5},get:function(e){var t=r.get(e),n=i.get(e)||i.set(e,{hit:0,miss:0});if(t)return n.hit++,t.lastTimeUsed=Date.now(),t.value;n.miss++},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,i={value:t,lastTimeUsed:Date.now(),lifetime:n};return r.set(e,i),t},delete:function(e){return r.delete(e)},clear:r.clear(),flush:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=r.size;r.forEach(function(t,n){t.lifetime<e-t.lastTimeUsed&&r.delete(n)});var n=0,a=0;return i.forEach(function(e){n+=e.hit,a+=e.miss}),i.clear(),{before:t,after:r.size,hit:n,miss:a}}};Object.freeze(a),t.a=a},,function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){var r=n(116);function i(t,n,a){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=i=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a}:e.exports=i=Reflect.construct,i.apply(null,arguments)}e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(61),a=n(36),o=n(16);function s(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.camera.camera3D.layers.mask;return e.camera.camera3D.layers.mask=1<<t,function(){e.camera.camera3D.layers.mask=n}}var l=new r.Vector4;function u(e,t){for(var n,r=0;r<=e;r++){for(var i=r*r,a=-r;a<=r;a++)for(var o=a*a,s=-r;s<=r;s++){var l=o+s*s;if(!(l>i)&&(!(l<=n)&&!1===t(a,s)))return}n=i}}function h(e){return e.layer?e.layer:e.parent?h(e.parent):void 0}var c=new r.Raycaster;t.a={pickTilesAt:function(e,t,n,h){var c=[],d=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,h=e.mainLoop.gfxEngine.getWindowSize();n=n||new r.Vector2(Math.floor(h.x/2),Math.floor(h.y/2));var c=t.level0Nodes.map(function(e){return a.a.push(e,a.a.MODES.ID)}),d=s(e,t.object3d,t.threejsLayer),m=e.mainLoop.gfxEngine.renderViewToBuffer({camera:e.camera,scene:t.object3d},{x:n.x-i,y:n.y-i,width:1+2*i,height:1+2*i});d(),c.forEach(function(e){return e()});var f=[];return u(i,function(e,t){var n=4*(2*t*i+e),r=m.slice(n,n+4);l.fromArray(r).divideScalar(255);var a=Object(o.e)(l,Math.pow(256,3)),s=Math.round(a);f.includes(s)||f.push(s)}),f}(e,h,t,n),m=function(e){d.includes(e.id)&&e instanceof i.a&&c.push({object:e,layer:h})},f=!0,p=!1,v=void 0;try{for(var g,_=h.level0Nodes[Symbol.iterator]();!(f=(g=_.next()).done);f=!0){g.value.traverse(m)}}catch(e){p=!0,v=e}finally{try{f||null==_.return||_.return()}finally{if(p)throw v}}return c},pickPointsAt:function(e,t,n,r){if(r.root){r.object3d.traverse(function(e){e.isPoints&&e.baseId&&e.material.enablePicking(!0)});var i=s(e,r.object3d,r.threejsLayer),a=e.mainLoop.gfxEngine.renderViewToBuffer({camera:e.camera,scene:r.object3d},{x:t.x-n,y:t.y-n,width:1+2*n,height:1+2*n});i();var o=[];u(n,function(e,t){for(var r=4*(2*t*n+e),i=a.slice(r,r+4),s={objId:i[0]<<8|i[1],index:i[2]<<8|i[3]},l=0;l<o.length;l++)if(o[l].objId==s.objId&&o[l].index==s.index)return;o.push(s)});var l=[];return r.object3d.traverse(function(e){if(e.isPoints&&e.baseId){e.material.enablePicking(!1);for(var t=0;t<o.length;t++)o[t].objId==e.baseId&&l.push({object:e,index:o[t].index,layer:r})}}),l}},pickObjectsAt:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a={x:t.x-n,y:t.y-n,width:1+2*n,height:1+2*n},o=e.mainLoop.gfxEngine.renderViewToBuffer({scene:r,camera:e.camera},a),s=e.mainLoop.gfxEngine.renderer.getClearColor(),l=Math.round(255*s.r),d=Math.round(255*s.g),m=Math.round(255*s.b),f=e.viewToNormalizedCoords(t),p=f.clone();return u(n,function(t,a){var s=4*((a+n)*(2*n+1)+(t+n)),u=o[s],v=o[s+1],g=o[s+2];if(!(Math.abs(l-u)<=1&&Math.abs(d-v)<=1&&Math.abs(m-g)<=1)){p.setX(f.x+t/e.camera.width).setY(f.y+a/e.camera.height),c.setFromCamera(p,e.camera.camera3D);var _=c.intersectObject(r,!0),y=!0,M=!1,x=void 0;try{for(var b,w=_[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var L=b.value;L.layer=h(L.object),i.push(L)}}catch(e){M=!0,x=e}finally{try{y||null==w.return||w.return()}finally{if(M)throw x}}return 0==i.length}}),i}}},function(e,t,n){"use strict";var r={FINAL:0,DEPTH:1,ID:2};t.a={MODES:r,push:function(e,t){var n=void 0!==e.mode?e.mode:r.FINAL;if(n==t)return function(){};var i=function(e){return function(t){var n=t.material;n&&(n.mode=e)}};return e.traverse(i(t)),function(){e.traverse(i(n))}}}},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(48),d=n.n(c),m=n(10),f=n.n(m),p=n(0),v=n(78),g=new(n(101).a),_=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new p.Vector3(1/0,1/0,1/0),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.Vector3(-1/0,-1/0,-1/0);return i()(this,t),(e=l()(this,h()(t).call(this))).box3D=new p.Box3(n.clone(),r.clone()),e.natBox=e.box3D.clone(),e.z={min:0,max:0},e.topPointsWorld=[new p.Vector3,new p.Vector3,new p.Vector3,new p.Vector3],e.update(),e}return f()(t,e),o()(t,[{key:"clone",value:function(){return(new t).copy(this)}},{key:"copy",value:function(e){d()(h()(t.prototype),"copy",this).call(this,e),this.box3D.copy(e.box3D),this.natBox.copy(e.natBox),this.z.min=e.z.min,this.z.max=e.z.max;for(var n=0,r=this.topPointsWorld.length;n<r;n++)this.topPointsWorld[n].copy(e.topPointsWorld[n]);return this}},{key:"update",value:function(){this.updateMatrixWorld(!0),this.toPoints(this.topPointsWorld);for(var e=0,t=this.topPointsWorld.length;e<t;e++)this.topPointsWorld[e].applyMatrix4(this.matrixWorld);return this.topPointsWorld}},{key:"updateZ",value:function(e,t){this.z={min:e,max:t},this.box3D.min.z=this.natBox.min.z+e,this.box3D.max.z=this.natBox.max.z+t,this.update()}},{key:"toPoints",value:function(e){return e[0].set(this.box3D.max.x,this.box3D.max.y,this.box3D.max.z),e[1].set(this.box3D.min.x,this.box3D.max.y,this.box3D.max.z),e[2].set(this.box3D.min.x,this.box3D.min.y,this.box3D.max.z),e[3].set(this.box3D.max.x,this.box3D.min.y,this.box3D.max.z),e.length>4&&(e[4].set(this.box3D.max.x,this.box3D.max.y,this.box3D.min.z),e[5].set(this.box3D.min.x,this.box3D.max.y,this.box3D.min.z),e[6].set(this.box3D.min.x,this.box3D.min.y,this.box3D.min.z),e[7].set(this.box3D.max.x,this.box3D.min.y,this.box3D.min.z)),e}},{key:"isSphereAboveXYBox",value:function(e){var t=this.worldToLocal(e.position),n=Math.max(this.box3D.min.x,Math.min(t.x,this.box3D.max.x)),r=Math.max(this.box3D.min.y,Math.min(t.y,this.box3D.max.y));return Math.sqrt((n-t.x)*(n-t.x)+(r-t.y)*(r-t.y))<e.radius}}],[{key:"extentToOBB",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if("EPSG:4326"!=e._crs)throw new Error("The extent crs is not a Geographic Coordinates (EPSG:4326)");var a=g.computeSharableExtent(e),o=a.sharableExtent,s=a.quaternion,l=a.position,u=Math.max(Math.floor(o.dimensions().x/90+1),2),h=new v.a({extent:o,level:0,segment:u,disableSkirt:!0},g);return i instanceof t?i.copy(h.OBB):i=h.OBB,i.updateZ(n,r),i.position.copy(l),i.quaternion.copy(s),i.update(),i}}]),t}(p.Object3D);t.a=_},,,,function(e,t,n){"use strict";var r=n(2),i=n(8);var a=new r.e("EPSG:4978",0,0,0),o=new r.e("EPSG:4978",0,0,0);function s(e,t,n,r,i,s,l){var u=0,h=o;if(i){u=i.length;var c=n.length*l;i.length+=c,s&&(s.length+=c)}i=i||new Array(n.length);var d=0,m=!0,f=!1,p=void 0;try{for(var v,g=n[Symbol.iterator]();!(m=(v=g.next()).done);m=!0){var _=v.value;3==l&&"number"==typeof _[2]&&(d=_[2]),a.set(e,_[0],_[1],d),e!==t?a.as(t,o):h=a,s&&h.geodesicNormal.toArray(s,u),i[u]=h._values[0],i[u+1]=h._values[1],3==l&&(i[u+2]=h._values[2]),r&&(r.crs()==e?r.expandByPoint(a):r.expandByPoint(h)),u+=l}}catch(e){f=!0,p=e}finally{try{m||null==g.return||g.return()}finally{if(f)throw p}}return i}var l=new r.e("EPSG:4978",0,0,0),u=function(e,t,n){var r=t[0];return l.set(n,r[0],r[1],0),!e.isPointInside(l)},h={point:function(e,t,n,r,a,o){if(!a||!u(a,r,t)){var l=o.buildExtent?new i.a(n,1/0,-1/0,1/0,-1/0):void 0,h=e.vertices.length/e.size;return s(t,n,r,l,e.vertices,e.normals,e.size),e.geometry.push({extent:l,indices:[{offset:h,count:1}]}),e}},polygon:function(e,t,n,r,a,o){if(!a||!u(a,r[0],t)){var l=o.buildExtent?new i.a(n,1/0,-1/0,1/0,-1/0):void 0,h=e.vertices.length/e.size;s(t,n,r[0],l,e.vertices,e.normals,e.size);var c=[{offset:h,count:r[0].length}];h+=r[0].length;for(var d=1;d<r.length;d++){s(t,n,r[d],l,e.vertices,e.normals,e.size);var m=r[d].length;c.push({offset:h,count:m}),h+=m}return e.geometry.push({extent:l,indices:c}),e}},lineString:function(e,t,n,r,a,o){if(!a||!u(a,r,t)){var l=o.buildExtent?new i.a(n,1/0,-1/0,1/0,-1/0):void 0,h=e.vertices.length/e.size;s(t,n,r,l,e.vertices,e.normals,e.size);var c=[{offset:h,count:e.vertices.length/e.size-h}];return e.geometry.push({extent:l,indices:c}),e}},multi:function(e,t,n,r,i,a,o){var s=!0,l=!1,u=void 0;try{for(var h,c=i[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;this[e](t,n,r,d,a,o)}}catch(e){l=!0,u=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw u}}return t}};var c=["type","geometry","properties"];function d(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!i.filter||i.filter(n.properties,n.geometry)){var o=n.geometry.type.toLowerCase(),s=i.mergeFeatures?function(e){switch(e){case"point":case"multipoint":return"multipoint";case"linestring":case"multilinestring":return"multilinestring";case"polygon":case"multipolygon":return"multipolygon";case"geometrycollection":default:throw new Error("Unhandled geometry type ".concat(e))}}(o):o,l=a[s]||{type:s,geometry:[],vertices:[],normals:i.withNormal?[]:void 0,crs:t,size:i.withAltitude?3:2},u=l.geometry.length;if(function(e,t,n,r,i,a,o){if(0!=i.length)switch(e){case"point":return h.point(t,n,r,[i],a,o);case"multipoint":return h.multi("point",t,n,r,i,a,o);case"linestring":return h.lineString(t,n,r,i,a,o);case"multilinestring":return h.multi("lineString",t,n,r,i,a,o);case"polygon":return h.polygon(t,n,r,i,a,o);case"multipolygon":return h.multi("polygon",t,n,r,i,a,o);case"geometrycollection":default:throw new Error("Unhandled geometry type ".concat(t.type))}}(o,l,e,t,n.geometry.coordinates,r,i),l.geometry.length!=u){for(var d=n.properties||{},m=Object.keys(n),f=0;f<m.length;f++){var p=m[f];c.includes(p.toLowerCase())||(d[p]=n[p])}for(var v=u;v<l.geometry.length;v++){var g=l.geometry[v];i.buildExtent&&(l.extent=l.extent||g.extent,l.extent.union(g.extent)),g.properties=d}return l}}}var m=function(e,t){e.extent?e.extent.union(t):e.extent=t.clone()},f=["multipolygon","multilinestring","multipoint"];function p(e,t,n,r,i){var a={features:[]},o={};if(i.mergeFeatures)for(var s=0;s<f.length;s++){var l=f[s];o[l]={type:l,geometry:[],vertices:[],normals:i.withNormal?[]:void 0,crs:t,size:i.withAltitude?3:2}}var u=!0,h=!1,c=void 0;try{for(var p,v=n[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var g=d(e,t,p.value,r,i,o);g&&!i.mergeFeatures&&(i.buildExtent&&m(a,g.extent),a.features.push(g))}}catch(e){h=!0,c=e}finally{try{u||null==v.return||v.return()}finally{if(h)throw c}}if(i.mergeFeatures)for(var _=0;_<f.length;_++){var y=o[f[_]];y.geometry.length&&(y.vertices.crs=t,a.features.push(y),i.buildExtent&&m(a,y.extent))}return a.crs=t,a.isFeature=!0,a}t.a={parse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.crsOut,r=t.filteringExtent;switch("string"==typeof e&&(e=JSON.parse(e)),t.crsIn=t.crsIn||function(e){if(e.crs){if("epsg"==e.crs.type.toLowerCase())return"EPSG:".concat(e.crs.properties.code);if("name"==e.crs.type.toLowerCase()){var t=e.crs.properties.name.toLowerCase().indexOf("epsg:");if(t>=0){var n=e.crs.properties.name.indexOf(":",t+5);if(n>0)return"EPSG:".concat(e.crs.properties.name.substr(n+1))}}throw new Error("Unsupported CRS type '".concat(e.crs,"'"))}return"EPSG:4326"}(e),t.mergeFeatures=null==t.mergeFeatures||t.mergeFeatures,t.withNormal=null==t.withNormal||t.withNormal,t.withAltitude=null==t.withAltitude||t.withAltitude,e.type.toLowerCase()){case"featurecollection":return Promise.resolve(p(t.crsIn,n,e.features,r,t));case"feature":return Promise.resolve(p(t.crsIn,n,[e],r,t));default:throw new Error("Unsupported GeoJSON type: '".concat(e.type))}}}},function(e,t,n){"use strict";t.a={xyz:function(e,t){return t.url.replace(/(\$\{z\}|%TILEMATRIX)/,e.zoom).replace(/(\$\{y\}|%ROW)/,e.row).replace(/(\$\{x\}|%COL)/,e.col)},bbox:function(e,t){var n="EPSG:4326"==t.projection?9:2,r=e.as(t.projection),i=r.west().toFixed(n),a=r.south().toFixed(n),o=r.east().toFixed(n),s=r.north().toFixed(n),l=t.axisOrder||"wsen";return l=l.replace("w","".concat(i,",")).replace("s","".concat(a,",")).replace("e","".concat(o,",")).replace("n","".concat(s,",")).slice(0,-1),t.url.replace("%bbox",l)}}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return u});var r=n(76),i=0,a=1,o=2,s=3;function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t==r.a?n.zoom?n.zoom.min:0:Math.min(e,Math.ceil((t+e)/2))}function u(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.level,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,d=h.source.zoom?h.source.zoom.max:1/0;if(c)n=l(c.targetLevel,u,h.source);else switch(e){case a:n=function(e,t,n){var r=n.groups.filter(function(t){return t<=e});return r.length?r[r.length-1]:n.groups[0]}(r,0,h.updateStrategy.options);break;case o:n=function(e,t,n){return Math.min(e,t+(n.increment||1))}(r,u,h.updateStrategy.options);break;case s:n=l(r,u,h.source);break;case i:default:n=function(e,t,n){return e.pendingSubdivision?n:t}(t,r=c?Math.ceil((u+c.targetLevel)/2):r,u)}return Math.min(n,d)}},function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return q}),n.d(t,"b",function(){return S});var r=n(11),i=n.n(r),a=n(33),o=n.n(a),s=n(0),l=n(8);function u(e,t,n,r,i,a){var o={view:e,requester:i,layer:n,priority:i?1/(i.distance+1):100,metadata:r,redraw:a};return t.execute(o)}function h(e){return e.children.filter(function(t){return t.layer==e.layer&&t.tileId})}function c(e,t,n,r){n.additiveRefinement?function(e,t,n,r){var i=!0,a=!1,o=void 0;try{for(var s,l=function(){var i=s.value;if(i.promise||i.loaded)return"continue";var a=n.matrixWorld;i.transform&&(a=p.multiplyMatrices(n.matrixWorld,i.transform));var o=!r||!r(e.camera,i,a);if(!o)return"continue";i.promise=u(e.view,e.scheduler,t,i,n,!0).then(function(r){n.add(r),r.updateMatrixWorld();var a=f(t.extent.crs(),r.boundingVolume,r.matrixWorld);r.traverse(function(e){e.extent=a}),e.view.notifyChange(i),i.loaded=!0,delete i.promise})},h=t.tileIndex.index[n.tileId].children[Symbol.iterator]();!(i=(s=h.next()).done);i=!0)l()}catch(e){a=!0,o=e}finally{try{i||null==h.return||h.return()}finally{if(a)throw o}}}(e,t,n,r):function(e,t,n){if(!n.pendingSubdivision&&0==h(n).length){var r=function(){var r=t.tileIndex.index[n.tileId].children;if(void 0===r||0===r.length)return{v:void 0};n.pendingSubdivision=!0;for(var i=[],a=function(a){i.push(u(e.view,e.scheduler,t,r[a],n,!1).then(function(i){r[a].loaded=!0,n.add(i),i.updateMatrixWorld(),n.additiveRefinement&&e.view.notifyChange(n),t.tileIndex.index[i.tileId].loaded=!0}))},o=0;o<r.length;o++)a(o);Promise.all(i).then(function(){n.pendingSubdivision=!1,e.view.notifyChange(n)})}();if("object"===o()(r))r.v}}(e,t,n)}var d=new s.Box3,m=new s.Sphere;function f(e,t,n){if(t.region)return new l.a("EPSG:4326",s.Math.radToDeg(t.region[0]),s.Math.radToDeg(t.region[2]),s.Math.radToDeg(t.region[1]),s.Math.radToDeg(t.region[3]));if(t.box){var r=d.copy(t.box).applyMatrix4(n);return l.a.fromBox3(e,r)}var i=m.copy(t.sphere).applyMatrix4(n);return new l.a(e,{west:i.center.x-i.radius,east:i.center.x+i.radius,south:i.center.y-i.radius,north:i.center.y+i.radius})}var p=new s.Matrix4;function v(e,t,n){if(t.viewerRequestVolume){var r=t.viewerRequestVolume;if(r.region)return!0;if(r.box)return!0;if(r.sphere){var i=r.sphere.center.clone();if(i.applyMatrix4(n),!(e.camera3D.position.distanceTo(i)<=r.sphere.radius))return!0}}if(t.boundingVolume){var a=t.boundingVolume;if(a.region)return!e.isBox3Visible(a.region.box3D,n.clone().multiply(a.region.matrix));if(a.box)return!e.isBox3Visible(a.box,n);if(a.sphere)return!e.isSphereVisible(a.sphere,n)}return!1}function g(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.additiveRefinement||n>0,a=0;a<t.children.length;a++)t.children[a].content?g(e,t.children[a],n+1):r&&t.children[a].traverse(_);if(r)t.dispose&&t.dispose(),delete t.content,e.tileIndex.index[t.tileId].loaded=!1,t.remove.apply(t,i()(t.children)),0==n&&t.parent&&t.parent.remove(t);else{var o=h(t);t.remove.apply(t,i()(o))}}function _(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){_(a.value)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e.remove.apply(e,i()(e.children))}function y(){if(!this.visible)return[];var e=Date.now();if(this._cleanableTiles.length&&e-this._cleanableTiles[0].cleanableSince>this.cleanupDelay){this.root.cleanableSince=void 0;for(var t=0;t<this._cleanableTiles.length;t++){var n=this._cleanableTiles[t];if(!(e-n.cleanableSince>this.cleanupDelay))break;g(this,n)}this._cleanableTiles.splice(0,t)}return[this.root]}var M=new s.Box3,x=new s.Sphere;function b(e,t,n){return u(e,t,n,n.tileset.root,void 0,!0).then(function(t){delete n.tileset,n.object3d.add(t),t.updateMatrixWorld(),n.tileIndex.index[t.tileId].loaded=!0,n.root=t,n.extent=f(n.projection||e.referenceCrs,t.boundingVolume,t.matrixWorld)})}function w(e,t){e.content&&(e.content.visible=t)}function L(e,t){t.cleanableSince||(t.cleanableSince=Date.now(),e._cleanableTiles.push(t))}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return function(n,r,i){if(!i.parent.pendingSubdivision||i.parent.additiveRefinement){var a=!e||!e(n.camera,i,i.matrixWorld);if(i.visible=a,a){var o;if(i.cleanableSince&&(r._cleanableTiles.splice(r._cleanableTiles.indexOf(i),1),i.cleanableSince=void 0),i.pendingSubdivision||t(n,r,i))c(n,r,i,e),w(i,i.pendingSubdivision||i.additiveRefinement),o=h(i);else{w(i,!0);var s=!0,l=!1,u=void 0;try{for(var d,m=h(i)[Symbol.iterator]();!(s=(d=m.next()).done);s=!0){var f=d.value;f.visible=!1,L(r,f)}}catch(e){l=!0,u=e}finally{try{s||null==m.return||m.return()}finally{if(l)throw u}}}return o}L(r,i)}else i.visible=!1}}function S(e,t,n){return void 0!==t.tileIndex.index[n.tileId].children&&(!!t.tileIndex.index[n.tileId].isTileset||function(e,t){if(t.distance=0,t.boundingVolume.region)M.copy(t.boundingVolume.region.box3D),M.applyMatrix4(t.boundingVolume.region.matrixWorld),t.distance=M.distanceToPoint(e.camera3D.position);else if(t.boundingVolume.box)M.copy(t.boundingVolume.box),M.applyMatrix4(t.matrixWorld),t.distance=M.distanceToPoint(e.camera3D.position);else{if(!t.boundingVolume.sphere)return 1/0;x.copy(t.boundingVolume.sphere),x.applyMatrix4(t.matrixWorld),t.distance=Math.max(0,x.distanceToPoint(e.camera3D.position))}return 0===t.distance?1/0:e._preSSE*(t.geometricError/t.distance)}(e.camera,n)>t.sseThreshold)}},function(e,t,n){"use strict";var r=1,i=2,a=4,o=5,s=484813681109536e-20,l=Math.PI/2,u=.16666666666666666,h=.04722222222222222,c=.022156084656084655,d=1e-10,m=.017453292519943295,f=57.29577951308232,p=Math.PI/4,v=2*Math.PI,g=3.14159265359,_={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},y={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},M=/[\s_\-\/\(\)]/g;function x(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),i=t.toLowerCase().replace(M,""),a=-1;++a<r.length;)if((n=r[a]).toLowerCase().replace(M,"")===i)return e[n]}var b=function(e){var t,n,r,i={},a=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),o={proj:"projName",datum:"datumCode",rf:function(e){i.rf=parseFloat(e)},lat_0:function(e){i.lat0=e*m},lat_1:function(e){i.lat1=e*m},lat_2:function(e){i.lat2=e*m},lat_ts:function(e){i.lat_ts=e*m},lon_0:function(e){i.long0=e*m},lon_1:function(e){i.long1=e*m},lon_2:function(e){i.long2=e*m},alpha:function(e){i.alpha=parseFloat(e)*m},lonc:function(e){i.longc=e*m},x_0:function(e){i.x0=parseFloat(e)},y_0:function(e){i.y0=parseFloat(e)},k_0:function(e){i.k0=parseFloat(e)},k:function(e){i.k0=parseFloat(e)},a:function(e){i.a=parseFloat(e)},b:function(e){i.b=parseFloat(e)},r_a:function(){i.R_A=!0},zone:function(e){i.zone=parseInt(e,10)},south:function(){i.utmSouth=!0},towgs84:function(e){i.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){i.to_meter=parseFloat(e)},units:function(e){i.units=e;var t=x(y,e);t&&(i.to_meter=t.to_meter)},from_greenwich:function(e){i.from_greenwich=e*m},pm:function(e){var t=x(_,e);i.from_greenwich=(t||parseFloat(e))*m},nadgrids:function(e){"@null"===e?i.datumCode="none":i.nadgrids=e},axis:function(e){3===e.length&&-1!=="ewnsud".indexOf(e.substr(0,1))&&-1!=="ewnsud".indexOf(e.substr(1,1))&&-1!=="ewnsud".indexOf(e.substr(2,1))&&(i.axis=e)}};for(t in a)n=a[t],t in o?"function"==typeof(r=o[t])?r(n):i[r]=n:i[t]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},w=function(e){return new k(e).output()},L=1,q=/\s/,S=/[A-Za-z]/,T=/[A-Za-z84]/,E=/[,\]]/,D=/[\d\.E\-\+]/;function k(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=L}function A(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce(function(e,t){return P(t,e),e},r);t&&(e[t]=i)}function P(e,t){if(Array.isArray(e)){var n,r=e.shift();if("PARAMETER"===r&&(r=e.shift()),1===e.length)return Array.isArray(e[0])?(t[r]={},void P(e[0],t[r])):void(t[r]=e[0]);if(e.length)if("TOWGS84"!==r)switch(Array.isArray(r)||(t[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[r]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&P(e[2],t[r]));case"SPHEROID":case"ELLIPSOID":return t[r]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&P(e[3],t[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void A(t,r,e);default:for(n=-1;++n<e.length;)if(!Array.isArray(e[n]))return P(e,t[r]);return A(t,r,e)}else t[r]=e;else t[r]=!0}else t[e]=!0}k.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;q.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case L:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},k.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(E.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},k.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=L)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=L,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},k.prototype.number=function(e){if(!D.test(e)){if(E.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},k.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},k.prototype.keyword=function(e){if(T.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=L)}if(!E.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},k.prototype.neutral=function(e){if(S.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(D.test(e))return this.word=e,void(this.state=3);if(!E.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},k.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var C=.017453292519943295;function R(e){return e*C}var Y=function(e){var t=w(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return P(t,i),function(e){"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var t=e.GEOGCS;function n(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(t=e),t&&(t.DATUM?e.datumCode=t.DATUM.name.toLowerCase():e.datumCode=t.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),t.DATUM&&t.DATUM.SPHEROID&&(e.ellps=t.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=t.DATUM.SPHEROID.a,e.rf=parseFloat(t.DATUM.SPHEROID.rf,10)),t.DATUM&&t.DATUM.TOWGS84&&(e.datum_params=t.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",R],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",R],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",R],["lat0","latitude_of_origin",R],["lat0","standard_parallel_1",R],["lat1","standard_parallel_1",R],["lat2","standard_parallel_2",R],["azimuth","Azimuth"],["alpha","azimuth",R],["srsCode","name"]].forEach(function(t){return n=e,i=(r=t)[0],a=r[1],void(!(i in n)&&a in n&&(n[i]=n[a],3===r.length&&(n[i]=r[2](n[i]))));var n,r,i,a}),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=R(e.lat1>0?90:-90),e.lat_ts=e.lat1)}(i),i};function O(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?O[e]=b(arguments[1]):O[e]=Y(arguments[1]):O[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?O.apply(t,e):O(e)});if("string"==typeof e){if(e in O)return O[e]}else"EPSG"in e?O["EPSG:"+e.EPSG]=e:"ESRI"in e?O["ESRI:"+e.ESRI]=e:"IAU2000"in e?O["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(O);var I=O;var F=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var H=["3857","900913","3785","102113"];var N=function(e){if(!function(e){return"string"==typeof e}(e))return e;if(function(e){return e in I}(e))return I[e];if(function(e){return F.some(function(t){return e.indexOf(t)>-1})}(e)){var t=Y(e);if(function(e){var t=x(e,"authority");if(t){var n=x(t,"epsg");return n&&H.indexOf(n)>-1}}(t))return I["EPSG:3857"];var n=function(e){var t=x(e,"extension");if(t)return x(t,"proj4")}(t);return n?b(n):t}return function(e){return"+"===e[0]}(e)?b(e):void 0},j=function(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e},z=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)},B=function(e){return e<0?-1:1},U=function(e){return Math.abs(e)<=g?e:e-B(e)*v},G=function(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(l-t))/r},W=function(e,t){for(var n,r,i=.5*e,a=l-2*Math.atan(t),o=0;o<=15;o++)if(n=e*Math.sin(a),a+=r=l-2*Math.atan(t*Math.pow((1-n)/(1+n),i))-a,Math.abs(r)<=1e-10)return a;return-9999};function V(e){return e}var J=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,n,r=e.x,i=e.y;if(i*f>90&&i*f<-90&&r*f>180&&r*f<-180)return null;if(Math.abs(Math.abs(i)-l)<=d)return null;if(this.sphere)t=this.x0+this.a*this.k0*U(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(p+.5*i));else{var a=Math.sin(i),o=G(this.e,i,a);t=this.x0+this.a*this.k0*U(r-this.long0),n=this.y0-this.a*this.k0*Math.log(o)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=l-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var a=Math.exp(-i/(this.a*this.k0));if(-9999===(n=W(this.e,a)))return null}return t=U(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:V,inverse:V,names:["longlat","identity"]}],X={},Z=[];function K(e,t){var n=Z.length;return e.names?(Z[n]=e,e.names.forEach(function(e){X[e.toLowerCase()]=n}),this):(console.log(t),!0)}var Q={start:function(){J.forEach(K)},add:K,get:function(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==X[t]&&Z[X[t]]?Z[X[t]]:void 0}},$={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},ee=$.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};$.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var te={};te.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},te.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},te.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},te.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},te.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},te.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},te.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},te.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},te.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},te.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},te.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},te.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},te.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},te.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},te.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},te.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},te.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var ne=function(e,t,n,l,u,h){var c={};return c.datum_type=void 0===e||"none"===e?o:a,t&&(c.datum_params=t.map(parseFloat),0===c.datum_params[0]&&0===c.datum_params[1]&&0===c.datum_params[2]||(c.datum_type=r),c.datum_params.length>3&&(0===c.datum_params[3]&&0===c.datum_params[4]&&0===c.datum_params[5]&&0===c.datum_params[6]||(c.datum_type=i,c.datum_params[3]*=s,c.datum_params[4]*=s,c.datum_params[5]*=s,c.datum_params[6]=c.datum_params[6]/1e6+1))),c.a=n,c.b=l,c.es=u,c.ep2=h,c};function re(e,t){if(!(this instanceof re))return new re(e);t=t||function(e){if(e)throw e};var n=N(e);if("object"==typeof n){var r=re.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=x(te,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var a,o,s,l,m,f,p,v=function(e,t,n,r,i){if(!e){var a=x($,r);a||(a=ee),e=a.a,t=a.b,n=a.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<d)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),g=(a=v.a,o=v.b,v.rf,s=n.R_A,f=((l=a*a)-(m=o*o))/l,p=0,s?(l=(a*=1-f*(u+f*(h+f*c)))*a,f=0):p=Math.sqrt(f),{es:f,e:p,ep2:(l-m)/m}),_=n.datum||ne(n.datumCode,n.datum_params,v.a,v.b,g.es,g.ep2);j(this,n),j(this,r),this.a=v.a,this.b=v.b,this.rf=v.rf,this.sphere=v.sphere,this.es=g.es,this.e=g.e,this.ep2=g.ep2,this.datum=_,this.init(),t(null,this)}else t(e)}else t(e)}re.projections=Q,re.projections.start();var ie=re;function ae(e){return e===r||e===i}var oe=function(e,t,n){return function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===r?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==i||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t)?n:e.datum_type===o||t.datum_type===o?n:e.es!==t.es||e.a!==t.a||ae(e.datum_type)||ae(t.datum_type)?(n=function(e,t,n){var r,i,a,o,s=e.x,u=e.y,h=e.z?e.z:0;if(u<-l&&u>-1.001*l)u=-l;else if(u>l&&u<1.001*l)u=l;else{if(u<-l)return{x:-1/0,y:-1/0,z:e.z};if(u>l)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(u),o=Math.cos(u),a=i*i,{x:((r=n/Math.sqrt(1-t*a))+h)*o*Math.cos(s),y:(r+h)*o*Math.sin(s),z:(r*(1-t)+h)*i}}(n,e.es,e.a),ae(e.datum_type)&&(n=function(e,t,n){if(t===r)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===i){var a=n[0],o=n[1],s=n[2],l=n[3],u=n[4],h=n[5],c=n[6];return{x:c*(e.x-h*e.y+u*e.z)+a,y:c*(h*e.x+e.y-l*e.z)+o,z:c*(-u*e.x+l*e.y+e.z)+s}}}(n,e.datum_type,e.datum_params)),ae(t.datum_type)&&(n=function(e,t,n){if(t===r)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===i){var a=n[0],o=n[1],s=n[2],l=n[3],u=n[4],h=n[5],c=n[6],d=(e.x-a)/c,m=(e.y-o)/c,f=(e.z-s)/c;return{x:d+h*m-u*f,y:-h*d+m+l*f,z:u*d-l*m+f}}}(n,t.datum_type,t.datum_params)),function(e,t,n,r){var i,a,o,s,l,u,h,c,d,m,f,p,v,g,_,y=e.x,M=e.y,x=e.z?e.z:0;if(i=Math.sqrt(y*y+M*M),a=Math.sqrt(y*y+M*M+x*x),i/n<1e-12){if(g=0,a/n<1e-12)return _=-r,{x:e.x,y:e.y,z:e.z}}else g=Math.atan2(M,y);o=x/a,c=(s=i/a)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*s*s)),d=o*l,v=0;do{v++,u=t*(h=n/Math.sqrt(1-t*d*d))/(h+(_=i*c+x*d-h*(1-t*d*d))),p=(f=o*(l=1/Math.sqrt(1-u*(2-u)*s*s)))*c-(m=s*(1-u)*l)*d,c=m,d=f}while(p*p>1e-24&&v<30);return{x:g,y:Math.atan(f/Math.abs(m)),z:_}}(n,t.es,t.a,t.b)):n},se=function(e,t,n){var r,i,a,o=n.x,s=n.y,l=n.z||0,u={};for(a=0;a<3;a++)if(!t||2!==a||void 0!==n.z)switch(0===a?(r=o,i="x"):1===a?(r=s,i="y"):(r=l,i="z"),e.axis[a]){case"e":u[i]=r;break;case"w":u[i]=-r;break;case"n":u[i]=r;break;case"s":u[i]=-r;break;case"u":void 0!==n[i]&&(u.z=r);break;case"d":void 0!==n[i]&&(u.z=-r);break;default:return null}return u},le=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},ue=function(e){he(e.x),he(e.y)};function he(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function ce(e,t,n){var a;return Array.isArray(n)&&(n=le(n)),ue(n),e.datum&&t.datum&&function(e,t){return(e.datum.datum_type===r||e.datum.datum_type===i)&&"WGS84"!==t.datumCode||(t.datum.datum_type===r||t.datum.datum_type===i)&&"WGS84"!==e.datumCode}(e,t)&&(n=ce(e,a=new ie("WGS84"),n),e=a),"enu"!==e.axis&&(n=se(e,!1,n)),"longlat"===e.projName?n={x:n.x*m,y:n.y*m}:(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter}),n=e.inverse(n)),e.from_greenwich&&(n.x+=e.from_greenwich),n=oe(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y}),"longlat"===t.projName?n={x:n.x*f,y:n.y*f}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter})),"enu"!==t.axis?se(t,!0,n):n}var de=ie("WGS84");function me(e,t,n){var r,i,a;return Array.isArray(n)?(r=ce(e,t,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):(i=ce(e,t,n),2===(a=Object.keys(n)).length?i:(a.forEach(function(e){"x"!==e&&"y"!==e&&(i[e]=n[e])}),i))}function fe(e){return e instanceof ie?e:e.oProj?e.oProj:ie(e)}var pe=function(e,t,n){e=fe(e);var r,i=!1;return void 0===t?(t=e,e=de,i=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,t=e,e=de,i=!0),t=fe(t),n?me(e,t,n):(r={forward:function(n){return me(e,t,n)},inverse:function(n){return me(t,e,n)}},i&&(r.oProj=t),r)},ve=6,ge="AJSAJS",_e="AFAFAF",ye=65,Me=73,xe=79,be=86,we=90,Le={forward:qe,inverse:function(e){var t=De(Pe(e.toUpperCase()));if(t.lat&&t.lon)return[t.lon,t.lat,t.lon,t.lat];return[t.left,t.bottom,t.right,t.top]},toPoint:Se};function qe(e,t){return t=t||5,function(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+(m=e.easting,f=e.northing,p=e.zoneNumber,v=Ae(p),g=Math.floor(m/1e5),_=Math.floor(f/1e5)%20,i=g,a=_,o=v,s=o-1,l=ge.charCodeAt(s),u=_e.charCodeAt(s),h=l+i-1,c=u+a,d=!1,h>we&&(h=h-we+ye-1,d=!0),(h===Me||l<Me&&h>Me||(h>Me||l<Me)&&d)&&h++,(h===xe||l<xe&&h>xe||(h>xe||l<xe)&&d)&&++h===Me&&h++,h>we&&(h=h-we+ye-1),c>be?(c=c-be+ye-1,d=!0):d=!1,(c===Me||u<Me&&c>Me||(c>Me||u<Me)&&d)&&c++,(c===xe||u<xe&&c>xe||(c>xe||u<xe)&&d)&&++c===Me&&c++,c>be&&(c=c-be+ye-1),String.fromCharCode(h)+String.fromCharCode(c))+n.substr(n.length-5,t)+r.substr(r.length-5,t);var i,a,o,s,l,u,h,c,d;var m,f,p,v,g,_}(function(e){var t,n,r,i,a,o,s,l=e.lat,u=e.lon,h=6378137,c=Te(l),d=Te(u);s=Math.floor((u+180)/6)+1,180===u&&(s=60);l>=56&&l<64&&u>=3&&u<12&&(s=32);l>=72&&l<84&&(u>=0&&u<9?s=31:u>=9&&u<21?s=33:u>=21&&u<33?s=35:u>=33&&u<42&&(s=37));o=Te(6*(s-1)-180+3),.006739496752268451,t=h/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),n=Math.tan(c)*Math.tan(c),r=.006739496752268451*Math.cos(c)*Math.cos(c),i=Math.cos(c)*(d-o),a=h*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c));var m=.9996*t*(i+(1-n+r)*i*i*i/6+(5-18*n+n*n+72*r-.39089081163157013)*i*i*i*i*i/120)+5e5,f=.9996*(a+t*Math.tan(c)*(i*i/2+(5-n+9*r+4*r*r)*i*i*i*i/24+(61-58*n+n*n+600*r-2.2240339282485886)*i*i*i*i*i*i/720));l<0&&(f+=1e7);return{northing:Math.round(f),easting:Math.round(m),zoneNumber:s,zoneLetter:ke(l)}}({lat:e[1],lon:e[0]}),t)}function Se(e){var t=De(Pe(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Te(e){return e*(Math.PI/180)}function Ee(e){return e/Math.PI*180}function De(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var a,o,s,l,u,h,c,d,m=6378137,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),p=n-5e5,v=t;r<"N"&&(v-=1e7),h=6*(i-1)-180+3,d=(c=v/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*c)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*c)+151*f*f*f/96*Math.sin(6*c),a=m/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),o=Math.tan(d)*Math.tan(d),s=.006739496752268451*Math.cos(d)*Math.cos(d),l=.99330562*m/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),u=p/(.9996*a);var g=d-a*Math.tan(d)/l*(u*u/2-(5+3*o+10*s-4*s*s-.06065547077041606)*u*u*u*u/24+(61+90*o+298*s+45*o*o-1.6983531815716497-3*s*s)*u*u*u*u*u*u/720);g=Ee(g);var _,y=(u-(1+2*o+s)*u*u*u/6+(5-2*s+28*o-3*s*s+.05391597401814761+24*o*o)*u*u*u*u*u/120)/Math.cos(d);if(y=h+Ee(y),e.accuracy){var M=De({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});_={top:M.lat,right:M.lon,bottom:g,left:y}}else _={lat:g,lon:y};return _}function ke(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function Ae(e){var t=e%ve;return 0===t&&(t=ve),t}function Pe(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,i="",a=0;!/[A-Z]/.test(t=e.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,a++}var o=parseInt(i,10);if(0===a||a+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(a++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;r=e.substring(a,a+=2);for(var l=Ae(o),u=function(e,t){var n=ge.charCodeAt(t-1),r=1e5,i=!1;for(;n!==e.charCodeAt(0);){if(++n===Me&&n++,n===xe&&n++,n>we){if(i)throw"Bad character: "+e;n=ye,i=!0}r+=1e5}return r}(r.charAt(0),l),h=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=_e.charCodeAt(t-1),r=0,i=!1;for(;n!==e.charCodeAt(0);){if(++n===Me&&n++,n===xe&&n++,n>be){if(i)throw"Bad character: "+e;n=ye,i=!0}r+=1e5}return r}(r.charAt(1),l);h<Ce(s);)h+=2e6;var c=n-a;if(c%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var d,m,f,p=c/2,v=0,g=0;return p>0&&(d=1e5/Math.pow(10,p),m=e.substring(a,a+p),v=parseFloat(m)*d,f=e.substring(a+p),g=parseFloat(f)*d),{easting:v+u,northing:g+h,zoneLetter:s,zoneNumber:o,accuracy:d}}function Ce(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Re(e,t,n){if(!(this instanceof Re))return new Re(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Re.fromMGRS=function(e){return new Re(Se(e))},Re.prototype.toMGRS=function(e){return qe([this.x,this.y],e)};var Ye=Re,Oe=n(115),Ie=.01068115234375,Fe=function(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+e*Ie))),t[1]=e*(.75-e*(.046875+e*(.01953125+e*Ie)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),n*=e,t[3]=n*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t},He=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))},Ne=function(e,t,n){for(var r=1/(1-t),i=e,a=20;a;--a){var o=Math.sin(i),s=1-t*o*o;if(i-=s=(He(i,o,Math.cos(i),n)-e)*(s*Math.sqrt(s))*r,Math.abs(s)<d)return i}return i};var je={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Fe(this.es),this.ml0=He(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,n,r,i=e.x,a=e.y,o=U(i-this.long0),s=Math.sin(a),l=Math.cos(a);if(this.es){var u=l*o,h=Math.pow(u,2),c=this.ep2*Math.pow(l,2),m=Math.pow(c,2),f=Math.abs(l)>d?Math.tan(a):0,p=Math.pow(f,2),v=Math.pow(p,2);t=1-this.es*Math.pow(s,2),u/=Math.sqrt(t);var g=He(a,s,l,this.en);n=this.a*(this.k0*u*(1+h/6*(1-p+c+h/20*(5-18*p+v+14*c-58*p*c+h/42*(61+179*v-v*p-479*p)))))+this.x0,r=this.a*(this.k0*(g-this.ml0+s*o*u/2*(1+h/12*(5-p+9*c+4*m+h/30*(61+v-58*p+270*c-330*p*c+h/56*(1385+543*v-v*p-3111*p))))))+this.y0}else{var _=l*Math.sin(o);if(Math.abs(Math.abs(_)-1)<d)return 93;if(n=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,r=l*Math.cos(o)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(r))>=1){if(_-1>d)return 93;r=0}else r=Math.acos(r);a<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e},inverse:function(e){var t,n,r,i,a=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,n=Ne(t,this.es,this.en),Math.abs(n)<l){var s=Math.sin(n),u=Math.cos(n),h=Math.abs(u)>d?Math.tan(n):0,c=this.ep2*Math.pow(u,2),m=Math.pow(c,2),f=Math.pow(h,2),p=Math.pow(f,2);t=1-this.es*Math.pow(s,2);var v=a*Math.sqrt(t)/this.k0,g=Math.pow(v,2);r=n-(t*=h)*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*c*f+c-4*m-g/30*(61+90*f-252*c*f+45*p+46*c-g/56*(1385+3633*f+4095*p+1574*p*f)))),i=U(this.long0+v*(1-g/6*(1+2*f+c-g/20*(5+28*f+24*p+8*c*f+6*c-g/42*(61+662*f+1320*p+720*p*f))))/u)}else r=l*B(o),i=0;else{var _=Math.exp(a/this.k0),y=.5*(_-1/_),M=this.lat0+o/this.k0,x=Math.cos(M);t=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(y,2))),r=Math.asin(t),o<0&&(r=-r),i=0===y&&0===x?0:U(Math.atan2(y,x)+this.long0)}return e.x=i,e.y=r,e},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},ze=function(e){var t=Math.exp(e);return t=(t-1/t)/2},Be=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},Ue=function(e){var t=Math.abs(e);return t=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}(t*(1+t/(Be(1,t)+1))),e<0?-t:t},Ge=function(e,t){for(var n,r=2*Math.cos(2*t),i=e.length-1,a=e[i],o=0;--i>=0;)n=r*a-o+e[i],o=a,a=n;return t+n*Math.sin(2*t)},We=function(e,t){for(var n,r=2*Math.cos(t),i=e.length-1,a=e[i],o=0;--i>=0;)n=r*a-o+e[i],o=a,a=n;return Math.sin(t)*n},Ve=function(e,t,n){for(var r,i,a=Math.sin(t),o=Math.cos(t),s=ze(n),l=function(e){var t=Math.exp(e);return t=(t+1/t)/2}(n),u=2*o*l,h=-2*a*s,c=e.length-1,d=e[c],m=0,f=0,p=0;--c>=0;)r=f,i=m,d=u*(f=d)-r-h*(m=p)+e[c],p=h*f-i+u*m;return[(u=a*l)*d-(h=o*s)*p,u*p+h*d]};var Je={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=Ge(this.cbg,this.lat0);this.Zb=-this.Qn*(r+We(this.gtu,2*r))},forward:function(e){var t=U(e.x-this.long0),n=e.y;n=Ge(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),a=Math.sin(t),o=Math.cos(t);n=Math.atan2(r,o*i),t=Math.atan2(a*i,Be(r,i*o)),t=Ue(Math.tan(t));var s,l,u=Ve(this.gtu,2*n,2*t);return n+=u[0],t+=u[1],Math.abs(t)<=2.623395162778?(s=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,l=1/0),e.x=s,e.y=l,e},inverse:function(e){var t,n,r=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var a=Ve(this.utg,2*i,2*r);i+=a[0],r+=a[1],r=Math.atan(ze(r));var o=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r);i=Math.atan2(o*u,Be(l,u*s)),r=Math.atan2(l,u*s),t=U(r+this.long0),n=Ge(this.cgb,i)}else t=1/0,n=1/0;return e.x=t,e.y=n,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Xe=function(e,t){if(void 0===e){if((e=Math.floor(30*(U(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e};var Ze={init:function(){var e=Xe(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*m,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Je.init.apply(this),this.forward=Je.forward,this.inverse=Je.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Ke=function(e,t){return Math.pow((1-e)/(1+e),t)},Qe=20;var $e={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+p)/(Math.pow(Math.tan(.5*this.lat0+p),this.C)*Ke(this.e*e,this.ratexp))},forward:function(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+p),this.C)*Ke(this.e*Math.sin(n),this.ratexp))-l,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+p)/this.K,1/this.C),i=Qe;i>0&&(n=2*Math.atan(r*Ke(this.e*Math.sin(e.y),-.5*this.e))-l,!(Math.abs(n-e.y)<1e-14));--i)e.y=n;return i?(e.x=t,e.y=n,e):null},names:["gauss"]};var et={init:function(){$e.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,n,r,i;return e.x=U(e.x-this.long0),$e.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,n,r,i,a;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,a=Math.sqrt(e.x*e.x+e.y*e.y)){var o=2*Math.atan2(a,this.R2);t=Math.sin(o),n=Math.cos(o),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/a),r=Math.atan2(e.x*t,a*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,$e.inverse.apply(this,[e]),e.x=U(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var tt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=d&&(this.k0=.5*(1+B(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=d&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=d&&(this.k0=.5*this.cons*z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/G(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=z(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-l,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,n,r,i,a,o,s=e.x,u=e.y,h=Math.sin(u),c=Math.cos(u),m=U(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=d&&Math.abs(u+this.lat0)<=d?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*h+this.coslat0*c*Math.cos(m)),e.x=this.a*t*c*Math.sin(m)+this.x0,e.y=this.a*t*(this.coslat0*h-this.sinlat0*c*Math.cos(m))+this.y0,e):(n=2*Math.atan(this.ssfn_(u,h,this.e))-l,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=d?(a=G(this.e,u*this.con,this.con*h),o=2*this.a*this.k0*a/this.cons,e.x=this.x0+o*Math.sin(s-this.long0),e.y=this.y0-this.con*o*Math.cos(s-this.long0),e):(Math.abs(this.sinlat0)<d?(t=2*this.a*this.k0/(1+i*Math.cos(m)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(m))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(m))+this.y0),e.x=t*i*Math.sin(m)+this.x0,e))},inverse:function(e){var t,n,r,i,a;e.x-=this.x0,e.y-=this.y0;var o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,n=this.lat0,o<=d?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/o),t=Math.abs(this.coslat0)<d?this.lat0>0?U(this.long0+Math.atan2(e.x,-1*e.y)):U(this.long0+Math.atan2(e.x,e.y)):U(this.long0+Math.atan2(e.x*Math.sin(s),o*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=d){if(o<=d)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),n=this.con*W(this.e,r),t=this.con*U(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=d?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/o),t=U(this.long0+Math.atan2(e.x*Math.sin(i),o*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*W(this.e,Math.tan(.5*(l+a)));return e.x=t,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(e,t,n){return t*=n,Math.tan(.5*(l+e))*Math.pow((1-t)/(1+t),.5*n)}};var nt={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),a=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(t,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+a*t)/(1-a*t));this.K=o-this.alpha*s+this.alpha*a/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),a=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*o+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+o/this.alpha,l=0,u=a,h=-1e3,c=0;Math.abs(u-h)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),h=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=u,e},names:["somerc"]};var rt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,a=G(this.e,this.lat0,e),o=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));if(o*o<1&&(o=1),isNaN(this.longc)){var s=G(this.e,this.lat1,Math.sin(this.lat1)),l=G(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(o+Math.sqrt(o*o-1))*Math.pow(a,this.bl):this.el=(o-Math.sqrt(o*o-1))*Math.pow(a,this.bl);var u=Math.pow(s,this.bl),h=Math.pow(l,this.bl);i=.5*((r=this.el/u)-1/r);var c=(this.el*this.el-h*u)/(this.el*this.el+h*u),d=(h-u)/(h+u),m=U(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*m)/d)/this.bl,this.long0=U(this.long0);var f=U(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*f)/i),this.alpha=Math.asin(o*Math.sin(this.gamma0))}else r=this.lat0>=0?o+Math.sqrt(o*o-1):o-Math.sqrt(o*o-1),this.el=r*Math.pow(a,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/o),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha))},forward:function(e){var t,n,r,i=e.x,a=e.y,o=U(i-this.long0);if(Math.abs(Math.abs(a)-l)<=d)r=a>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(p+r*this.gamma0*.5)),t=-1*r*l*this.al/this.bl;else{var s=G(this.e,a,Math.sin(a)),u=this.el/Math.pow(s,this.bl),h=.5*(u-1/u),c=.5*(u+1/u),m=Math.sin(this.bl*o),f=(h*Math.sin(this.gamma0)-m*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(f)-1)<=d?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-f)/(1+f))/this.bl,t=Math.abs(Math.cos(this.bl*o))<=d?this.al*this.bl*o:this.al*Math.atan2(h*Math.cos(this.gamma0)+m*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(e.x=this.x0+t,e.y=this.y0+n):(t-=this.uc,e.x=this.x0+n*Math.cos(this.alpha)+t*Math.sin(this.alpha),e.y=this.y0+t*Math.cos(this.alpha)-n*Math.sin(this.alpha)),e},inverse:function(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),a=.5*(r+1/r),o=Math.sin(this.bl*t/this.al),s=(o*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/a,u=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<d?(e.x=this.long0,e.y=l):Math.abs(s+1)<d?(e.x=this.long0,e.y=-1*l):(e.y=W(this.e,u),e.x=U(this.long0-Math.atan2(i*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var it={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<d)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=z(this.e,t,n),i=G(this.e,this.lat1,t),a=Math.sin(this.lat2),o=Math.cos(this.lat2),s=z(this.e,a,o),l=G(this.e,this.lat2,a),u=G(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>d?this.ns=Math.log(r/s)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=d&&(n=B(n)*(l-2*d));var r,i,a=Math.abs(Math.abs(n)-l);if(a>d)r=G(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((a=n*this.ns)<=0)return null;i=0}var o=this.ns*U(t-this.long0);return e.x=this.k0*(i*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(o))+this.y0,e},inverse:function(e){var t,n,r,i,a,o=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+s*s),n=1):(t=-Math.sqrt(o*o+s*s),n=-1);var u=0;if(0!==t&&(u=Math.atan2(n*o,n*s)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(i=W(this.e,r)))return null}else i=-l;return a=U(u/this.ns+this.long0),e.x=a,e.y=i,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var at={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,n,r,i,a,o,s,l=e.x,u=e.y,h=U(l-this.long0);return t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45),r=-h*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),o=this.n*a,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=s*Math.cos(o)/1,e.x=s*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,n,r,i,a,o,s,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),a=Math.sqrt(e.x*e.x+e.y*e.y),i=Math.atan2(e.y,e.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,o=t,s=0;var u=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-e.y)<1e-10&&(s=1),o=e.y,u+=1}while(0===s&&u<15);return u>=15?null:e},names:["Krovak","krovak"]},ot=function(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},st=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},lt=function(e){return.375*e*(1+.25*e*(1+.46875*e))},ut=function(e){return.05859375*e*e*(1+.75*e)},ht=function(e){return e*e*e*(35/3072)},ct=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)},dt=function(e){return Math.abs(e)<l?e:e-B(e)*Math.PI},mt=function(e,t,n,r,i){var a,o;a=e/t;for(var s=0;s<15;s++)if(a+=o=(e-(t*a-n*Math.sin(2*a)+r*Math.sin(4*a)-i*Math.sin(6*a)))/(t-2*n*Math.cos(2*a)+4*r*Math.cos(4*a)-6*i*Math.cos(6*a)),Math.abs(o)<=1e-10)return a;return NaN};var ft={init:function(){this.sphere||(this.e0=st(this.es),this.e1=lt(this.es),this.e2=ut(this.es),this.e3=ht(this.es),this.ml0=this.a*ot(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,n,r=e.x,i=e.y;if(r=U(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var a=Math.sin(i),o=Math.cos(i),s=ct(this.a,this.e,a),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),h=u*u,c=this.es*o*o/(1-this.es);t=s*u*(1-h*l*(1/6-(8-l+8*c)*h/120)),n=this.a*ot(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*a/o*h*(.5+(5-l+6*c)*h/24)}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var a=i+this.lat0;t=Math.asin(Math.sin(a)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(a))}else{var o=this.ml0/this.a+i,s=mt(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-l)<=d)return e.x=this.long0,e.y=l,i<0&&(e.y*=-1),e;var u=ct(this.a,this.e,Math.sin(s)),h=u*u*u/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),m=r*this.a/u,f=m*m;t=s-u*Math.tan(s)/h*m*m*(.5-(1+3*c)*m*m/24),n=m*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}return e.x=U(n+this.long0),e.y=dt(t),e},names:["Cassini","Cassini_Soldner","cass"]},pt=function(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t};var vt=.3333333333333333,gt=.17222222222222222,_t=.10257936507936508,yt=.06388888888888888,Mt=.0664021164021164,xt=.016415012942191543;var bt={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-l)<d?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<d?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=pt(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,n=[];return n[0]=e*vt,t=e*e,n[0]+=t*gt,n[1]=t*yt,t*=e,n[0]+=t*_t,n[1]+=t*Mt,n[2]=t*xt,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=pt(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,n,r,i,a,o,s,u,h,c,m=e.x,f=e.y;if(m=U(m-this.long0),this.sphere){if(a=Math.sin(f),c=Math.cos(f),r=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*a+this.cosph0*c*r)<=d)return null;t=(n=Math.sqrt(2/n))*c*Math.sin(m),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.phi0)<d)return null;n=p-.5*f,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(m),n*=r}}else{switch(s=0,u=0,h=0,r=Math.cos(m),i=Math.sin(m),a=Math.sin(f),o=pt(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=o/this.qp,u=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:h=1+this.sinb1*s+this.cosb1*u*r;break;case this.EQUIT:h=1+u*r;break;case this.N_POLE:h=l+f,o=this.qp-o;break;case this.S_POLE:h=f-l,o=this.qp+o}if(Math.abs(h)<d)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),n=this.mode===this.OBLIQ?this.ymf*h*(this.cosb1*s-this.sinb1*u*r):(h=Math.sqrt(2/(1+u*r)))*s*this.ymf,t=this.xmf*h*u*i;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(h=Math.sqrt(o))*i,n=r*(this.mode===this.S_POLE?h:-h)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,a,o,s,u,h,c,m=e.x/this.a,f=e.y/this.a;if(this.sphere){var p,v=0,g=0;if((n=.5*(p=Math.sqrt(m*m+f*f)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(n),v=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(p)<=d?0:Math.asin(f*g/p),m*=g,f=v*p;break;case this.OBLIQ:n=Math.abs(p)<=d?this.phi0:Math.asin(v*this.sinph0+f*g*this.cosph0/p),m*=g*this.cosph0,f=(v-Math.sin(n)*this.sinph0)*p;break;case this.N_POLE:f=-f,n=l-n;break;case this.S_POLE:n-=l}t=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(m,f):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(m/=this.dd,f*=this.dd,(o=Math.sqrt(m*m+f*f))<d)return e.x=0,e.y=this.phi0,e;i=2*Math.asin(.5*o/this.rq),r=Math.cos(i),m*=i=Math.sin(i),this.mode===this.OBLIQ?(s=r*this.sinb1+f*i*this.cosb1/o,a=this.qp*s,f=o*this.cosb1*r-f*this.sinb1*i):(s=f*i/o,a=this.qp*s,f=o*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(a=m*m+f*f))return e.x=0,e.y=this.phi0,e;s=1-a/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(m,f),u=Math.asin(s),h=this.apa,c=u+u,n=u+h[0]*Math.sin(c)+h[1]*Math.sin(c+c)+h[2]*Math.sin(c+c+c)}return e.x=U(this.long0+t),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},wt=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)};var Lt={init:function(){Math.abs(this.lat1+this.lat2)<d||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=z(this.e3,this.sin_po,this.cos_po),this.qs1=pt(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=z(this.e3,this.sin_po,this.cos_po),this.qs2=pt(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=pt(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>d?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=pt(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,a=this.ns0*U(t-this.long0),o=i*Math.sin(a)+this.x0,s=this.rh-i*Math.cos(a)+this.y0;return e.x=o,e.y=s,e},inverse:function(e){var t,n,r,i,a,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),a=U(i/this.ns0+this.long0),e.x=a,e.y=o,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var n,r,i,a,o=wt(.5*t);if(e<d)return o;for(var s=e*e,l=1;l<=25;l++)if(o+=a=.5*(i=1-(r=e*(n=Math.sin(o)))*r)*i/Math.cos(o)*(t/(1-s)-n/i+.5/e*Math.log((1-r)/(1+r))),Math.abs(a)<=1e-7)return o;return null}};var qt={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,n,r,i,a,o,s,l=e.x,u=e.y;return r=U(l-this.long0),t=Math.sin(u),n=Math.cos(u),i=Math.cos(r),(a=this.sin_p14*t+this.cos_p14*n*i)>0||Math.abs(a)<=d?(o=this.x0+1*this.a*n*Math.sin(r)/a,s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*i)/a):(o=this.x0+this.infinity_dist*n*Math.sin(r),s=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=o,e.y=s,e},inverse:function(e){var t,n,r,i,a,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),o=wt(r*this.sin_p14+e.y*n*this.cos_p14/t),a=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),a=U(this.long0+a)):(o=this.phic0,a=0),e.x=a,e.y=o,e},names:["gnom"]},St=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*l:l;for(var r,i,a,o,s=Math.asin(.5*t),u=0;u<30;u++)if(i=Math.sin(s),a=Math.cos(s),o=e*i,s+=r=Math.pow(1-o*o,2)/(2*a)*(t/(1-e*e)-i/(1-o*o)+.5/e*Math.log((1-o)/(1+o))),Math.abs(r)<=1e-10)return s;return NaN};var Tt={init:function(){this.sphere||(this.k0=z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,n,r=e.x,i=e.y,a=U(r-this.long0);if(this.sphere)t=this.x0+this.a*a*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=pt(this.e,Math.sin(i));t=this.x0+this.a*this.k0*a,n=this.y0+this.a*o*.5/this.k0}return e.x=t,e.y=n,e},inverse:function(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=U(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=St(this.e,2*e.y*this.k0/this.a),t=U(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e},names:["cea"]};var Et={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,n=e.y,r=U(t-this.long0),i=dt(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e},inverse:function(e){var t=e.x,n=e.y;return e.x=U(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=dt(this.lat0+(n-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Dt=20;var kt={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=st(this.es),this.e1=lt(this.es),this.e2=ut(this.es),this.e3=ht(this.es),this.ml0=this.a*ot(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,n,r,i=e.x,a=e.y,o=U(i-this.long0);if(r=o*Math.sin(a),this.sphere)Math.abs(a)<=d?(t=this.a*o,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(a),n=this.a*(dt(a-this.lat0)+(1-Math.cos(r))/Math.tan(a)));else if(Math.abs(a)<=d)t=this.a*o,n=-1*this.ml0;else{var s=ct(this.a,this.e,Math.sin(a))/Math.tan(a);t=s*Math.sin(r),n=this.a*ot(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+s*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){var t,n,r,i,a,o,s,l,u;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=d)t=U(r/this.a+this.long0),n=0;else{var h;for(o=this.lat0+i/this.a,s=r*r/this.a/this.a+o*o,l=o,a=Dt;a;--a)if(l+=u=-1*(o*(l*(h=Math.tan(l))+1)-l-.5*(l*l+s)*h)/((l-o)/h-1),Math.abs(u)<=d){n=l;break}t=U(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=d)n=0,t=U(this.long0+r/this.a);else{var c,m,f,p,v;for(o=(this.ml0+i)/this.a,s=r*r/this.a/this.a+o*o,l=o,a=Dt;a;--a)if(v=this.e*Math.sin(l),c=Math.sqrt(1-v*v)*Math.tan(l),m=this.a*ot(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(o*(c*(p=m/this.a)+1)-p-.5*c*(p*p+s))/(this.es*Math.sin(2*l)*(p*p+s-2*o*p)/(4*c)+(o-p)*(c*f-2/Math.sin(2*l))-f),Math.abs(u)<=d){n=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=U(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return e.x=t,e.y=n,e},names:["Polyconic","poly"]};var At={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,n=e.x,r=e.y-this.lat0,i=n-this.long0,a=r/s*1e-5,o=i,l=1,u=0;for(t=1;t<=10;t++)l*=a,u+=this.A[t]*l;var h,c=u,d=o,m=1,f=0,p=0,v=0;for(t=1;t<=6;t++)h=f*c+m*d,m=m*c-f*d,f=h,p=p+this.B_re[t]*m-this.B_im[t]*f,v=v+this.B_im[t]*m+this.B_re[t]*f;return e.x=v*this.a+this.x0,e.y=p*this.a+this.y0,e},inverse:function(e){var t,n,r=e.x,i=e.y,a=r-this.x0,o=(i-this.y0)/this.a,l=a/this.a,u=1,h=0,c=0,d=0;for(t=1;t<=6;t++)n=h*o+u*l,u=u*o-h*l,h=n,c=c+this.C_re[t]*u-this.C_im[t]*h,d=d+this.C_im[t]*u+this.C_re[t]*h;for(var m=0;m<this.iterations;m++){var f,p=c,v=d,g=o,_=l;for(t=2;t<=6;t++)f=v*c+p*d,p=p*c-v*d,v=f,g+=(t-1)*(this.B_re[t]*p-this.B_im[t]*v),_+=(t-1)*(this.B_im[t]*p+this.B_re[t]*v);p=1,v=0;var y=this.B_re[1],M=this.B_im[1];for(t=2;t<=6;t++)f=v*c+p*d,p=p*c-v*d,v=f,y+=t*(this.B_re[t]*p-this.B_im[t]*v),M+=t*(this.B_im[t]*p+this.B_re[t]*v);var x=y*y+M*M;c=(g*y+_*M)/x,d=(_*y-g*M)/x}var b=c,w=d,L=1,q=0;for(t=1;t<=9;t++)L*=b,q+=this.D[t]*L;var S=this.lat0+q*s*1e5,T=this.long0+w;return e.x=T,e.y=S,e},names:["New_Zealand_Map_Grid","nzmg"]};var Pt={init:function(){},forward:function(e){var t=e.x,n=e.y,r=U(t-this.long0),i=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=a,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=U(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e},names:["Miller_Cylindrical","mill"]},Ct=20;var Rt={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Fe(this.es)},forward:function(e){var t,n,r=e.x,i=e.y;if(r=U(r-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(i),o=Ct;o;--o){var s=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<d)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*He(i,l,u,this.en),t=this.a*r*u/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=wt((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=wt(Math.sin(t)/this.n)),r=U(r+this.long0),t=dt(t)):(t=Ne(e.y/this.a,this.es,this.en),(i=Math.abs(t))<l?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=U(n)):i-d<l&&(r=this.long0)),e.x=r,e.y=t,e},names:["Sinusoidal","sinu"]};var Yt={init:function(){},forward:function(e){for(var t=e.x,n=e.y,r=U(t-this.long0),i=n,a=Math.PI*Math.sin(n);;){var o=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=o,Math.abs(o)<d)break}i/=2,Math.PI/2-Math.abs(n)<d&&(r=0);var s=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=s,e.y=l,e},inverse:function(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=U(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e},names:["Mollweide","moll"]};var Ot={init:function(){Math.abs(this.lat1+this.lat2)<d||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=st(this.es),this.e1=lt(this.es),this.e2=ut(this.es),this.e3=ht(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=z(this.e,this.sinphi,this.cosphi),this.ml1=ot(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<d?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=z(this.e,this.sinphi,this.cosphi),this.ml2=ot(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ot(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=ot(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var a=this.ns*U(n-this.long0),o=this.x0+t*Math.sin(a),s=this.y0+this.rh-t*Math.cos(a);return e.x=o,e.y=s,e},inverse:function(e){var t,n,r,i;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var a=0;if(0!==n&&(a=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=U(this.long0+a/this.ns),r=dt(this.g-n/this.a),e.x=i,e.y=r,e;var o=this.g-n/this.a;return r=mt(o,this.e0,this.e1,this.e2,this.e3),i=U(this.long0+a/this.ns),e.x=i,e.y=r,e},names:["Equidistant_Conic","eqdc"]};var It={init:function(){this.R=this.a},forward:function(e){var t,n,r=e.x,i=e.y,a=U(r-this.long0);Math.abs(i)<=d&&(t=this.x0+this.R*a,n=this.y0);var o=wt(2*Math.abs(i/Math.PI));(Math.abs(a)<=d||Math.abs(Math.abs(i)-l)<=d)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/a-a/Math.PI),u=s*s,h=Math.sin(o),c=Math.cos(o),m=c/(h+c-1),f=m*m,p=m*(2/h-1),v=p*p,g=Math.PI*this.R*(s*(m-v)+Math.sqrt(u*(m-v)*(m-v)-(v+u)*(f-v)))/(v+u);a<0&&(g=-g),t=this.x0+g;var _=u+m;return g=Math.PI*this.R*(p*_-s*Math.sqrt((v+u)*(u+1)-_*_))/(v+u),n=i>=0?this.y0+g:this.y0-g,e.x=t,e.y=n,e},inverse:function(e){var t,n,r,i,a,o,s,l,u,h,c,m;return e.x-=this.x0,e.y-=this.y0,c=Math.PI*this.R,a=(r=e.x/c)*r+(i=e.y/c)*i,c=3*(i*i/(l=-2*(o=-Math.abs(i)*(1+a))+1+2*i*i+a*a)+(2*(s=o-2*i*i+r*r)*s*s/l/l/l-9*o*s/l/l)/27)/(u=(o-s*s/3/l)/l)/(h=2*Math.sqrt(-u/3)),Math.abs(c)>1&&(c=c>=0?1:-1),m=Math.acos(c)/3,n=e.y>=0?(-h*Math.cos(m+Math.PI/3)-s/3/l)*Math.PI:-(-h*Math.cos(m+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(r)<d?this.long0:U(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-i*i)+a*a))/2/r),e.x=t,e.y=n,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Ft={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,n,r,i,a,o,s,u,h,c,m,f,p,v,g,_,y,M,x,b,w,L,q=e.x,S=e.y,T=Math.sin(e.y),E=Math.cos(e.y),D=U(q-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=d?(e.x=this.x0+this.a*(l-S)*Math.sin(D),e.y=this.y0-this.a*(l-S)*Math.cos(D),e):Math.abs(this.sin_p12+1)<=d?(e.x=this.x0+this.a*(l+S)*Math.sin(D),e.y=this.y0+this.a*(l+S)*Math.cos(D),e):(M=this.sin_p12*T+this.cos_p12*E*Math.cos(D),y=(_=Math.acos(M))/Math.sin(_),e.x=this.x0+this.a*y*E*Math.sin(D),e.y=this.y0+this.a*y*(this.cos_p12*T-this.sin_p12*E*Math.cos(D)),e):(t=st(this.es),n=lt(this.es),r=ut(this.es),i=ht(this.es),Math.abs(this.sin_p12-1)<=d?(a=this.a*ot(t,n,r,i,l),o=this.a*ot(t,n,r,i,S),e.x=this.x0+(a-o)*Math.sin(D),e.y=this.y0-(a-o)*Math.cos(D),e):Math.abs(this.sin_p12+1)<=d?(a=this.a*ot(t,n,r,i,l),o=this.a*ot(t,n,r,i,S),e.x=this.x0+(a+o)*Math.sin(D),e.y=this.y0+(a+o)*Math.cos(D),e):(s=T/E,u=ct(this.a,this.e,this.sin_p12),h=ct(this.a,this.e,T),c=Math.atan((1-this.es)*s+this.es*u*this.sin_p12/(h*E)),x=0===(m=Math.atan2(Math.sin(D),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(D)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(m)-Math.PI)<=d?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(D)*Math.cos(c)/Math.sin(m)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),_=u*x*(1-(b=x*x)*(g=(p=this.e*this.cos_p12*Math.cos(m)/Math.sqrt(1-this.es))*p)*(1-g)/6+(w=b*x)/8*(v=f*p)*(1-2*g)+(L=w*x)/120*(g*(4-7*g)-3*f*f*(1-7*g))-L*x/48*v),e.x=this.x0+_*Math.sin(m),e.y=this.y0+_*Math.cos(m),e))},inverse:function(e){var t,n,r,i,a,o,s,u,h,c,m,f,p,v,g,_,y,M,x,b,w,L;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*l*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(t)<=d?o=this.lat0:(o=wt(i*this.sin_p12+e.y*r*this.cos_p12/t),s=Math.abs(this.lat0)-l,a=Math.abs(s)<=d?this.lat0>=0?U(this.long0+Math.atan2(e.x,-e.y)):U(this.long0-Math.atan2(-e.x,e.y)):U(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=a,e.y=o,e}return u=st(this.es),h=lt(this.es),c=ut(this.es),m=ht(this.es),Math.abs(this.sin_p12-1)<=d?(f=this.a*ot(u,h,c,m,l),t=Math.sqrt(e.x*e.x+e.y*e.y),o=mt((f-t)/this.a,u,h,c,m),a=U(this.long0+Math.atan2(e.x,-1*e.y)),e.x=a,e.y=o,e):Math.abs(this.sin_p12+1)<=d?(f=this.a*ot(u,h,c,m,l),t=Math.sqrt(e.x*e.x+e.y*e.y),o=mt((t-f)/this.a,u,h,c,m),a=U(this.long0+Math.atan2(e.x,e.y)),e.x=a,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),g=Math.atan2(e.x,e.y),p=ct(this.a,this.e,this.sin_p12),_=Math.cos(g),M=-(y=this.e*this.cos_p12*_)*y/(1-this.es),x=3*this.es*(1-M)*this.sin_p12*this.cos_p12*_/(1-this.es),L=1-M*(w=(b=t/p)-M*(1+M)*Math.pow(b,3)/6-x*(1+3*M)*Math.pow(b,4)/24)*w/2-b*w*w*w/6,v=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*_),a=U(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(v))),o=Math.atan((1-this.es*L*this.sin_p12/Math.sin(v))*Math.tan(v)/(1-this.es)),e.x=a,e.y=o,e)},names:["Azimuthal_Equidistant","aeqd"]};var Ht={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,n,r,i,a,o,s,l=e.x,u=e.y;return r=U(l-this.long0),t=Math.sin(u),n=Math.cos(u),i=Math.cos(r),((a=this.sin_p14*t+this.cos_p14*n*i)>0||Math.abs(a)<=d)&&(o=1*this.a*n*Math.sin(r),s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*i)),e.x=o,e.y=s,e},inverse:function(e){var t,n,r,i,a,o,s;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=wt(t/this.a),r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=d?(s=this.lat0,e.x=o,e.y=s,e):(s=wt(i*this.sin_p14+e.y*r*this.cos_p14/t),a=Math.abs(this.lat0)-l,Math.abs(a)<=d?(o=this.lat0>=0?U(this.long0+Math.atan2(e.x,-e.y)):U(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=s,e):(o=U(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=o,e.y=s,e))},names:["ortho"]},Nt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},jt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function zt(e,t,n,r){var i;return e<d?(r.value=jt.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=p?r.value=jt.AREA_0:i>p&&i<=l+p?(r.value=jt.AREA_1,i-=l):i>l+p||i<=-(l+p)?(r.value=jt.AREA_2,i=i>=0?i-g:i+g):(r.value=jt.AREA_3,i+=l)),i}function Bt(e,t){var n=e+t;return n<-g?n+=v:n>+g&&(n-=v),n}var Ut={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=l-p/2?this.face=Nt.TOP:this.lat0<=-(l-p/2)?this.face=Nt.BOTTOM:Math.abs(this.long0)<=p?this.face=Nt.FRONT:Math.abs(this.long0)<=l+p?this.face=this.long0>0?Nt.RIGHT:Nt.LEFT:this.face=Nt.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,n,r,i,a,o,s={x:0,y:0},u={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===Nt.TOP)i=l-t,n>=p&&n<=l+p?(u.value=jt.AREA_0,r=n-l):n>l+p||n<=-(l+p)?(u.value=jt.AREA_1,r=n>0?n-g:n+g):n>-(l+p)&&n<=-p?(u.value=jt.AREA_2,r=n+l):(u.value=jt.AREA_3,r=n);else if(this.face===Nt.BOTTOM)i=l+t,n>=p&&n<=l+p?(u.value=jt.AREA_0,r=-n+l):n<p&&n>=-p?(u.value=jt.AREA_1,r=-n):n<-p&&n>=-(l+p)?(u.value=jt.AREA_2,r=-n-l):(u.value=jt.AREA_3,r=n>0?-n+g:-n-g);else{var h,c,d,m,f,v;this.face===Nt.RIGHT?n=Bt(n,+l):this.face===Nt.BACK?n=Bt(n,+g):this.face===Nt.LEFT&&(n=Bt(n,-l)),m=Math.sin(t),f=Math.cos(t),v=Math.sin(n),h=f*Math.cos(n),c=f*v,d=m,this.face===Nt.FRONT?r=zt(i=Math.acos(h),d,c,u):this.face===Nt.RIGHT?r=zt(i=Math.acos(c),d,-h,u):this.face===Nt.BACK?r=zt(i=Math.acos(-h),d,-c,u):this.face===Nt.LEFT?r=zt(i=Math.acos(-c),d,h,u):(i=r=0,u.value=jt.AREA_0)}return o=Math.atan(12/g*(r+Math.acos(Math.sin(r)*Math.cos(p))-l)),a=Math.sqrt((1-Math.cos(i))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(r))))),u.value===jt.AREA_1?o+=l:u.value===jt.AREA_2?o+=g:u.value===jt.AREA_3&&(o+=1.5*g),s.x=a*Math.cos(o),s.y=a*Math.sin(o),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,e.x=s.x,e.y=s.y,e},inverse:function(e){var t,n,r,i,a,o,s,u,h,c,d,m,f={lam:0,phi:0},p={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?p.value=jt.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(p.value=jt.AREA_1,t-=l):e.x<0&&-e.x>=Math.abs(e.y)?(p.value=jt.AREA_2,t=t<0?t+g:t-g):(p.value=jt.AREA_3,t+=l),h=g/12*Math.tan(t),a=Math.sin(h)/(Math.cos(h)-1/Math.sqrt(2)),o=Math.atan(a),(s=1-(r=Math.cos(t))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(o)))))<-1?s=-1:s>1&&(s=1),this.face===Nt.TOP)u=Math.acos(s),f.phi=l-u,p.value===jt.AREA_0?f.lam=o+l:p.value===jt.AREA_1?f.lam=o<0?o+g:o-g:p.value===jt.AREA_2?f.lam=o-l:f.lam=o;else if(this.face===Nt.BOTTOM)u=Math.acos(s),f.phi=u-l,p.value===jt.AREA_0?f.lam=-o+l:p.value===jt.AREA_1?f.lam=-o:p.value===jt.AREA_2?f.lam=-o-l:f.lam=o<0?-o-g:-o+g;else{var v,_,y;h=(v=s)*v,_=(h+=(y=h>=1?0:Math.sqrt(1-h)*Math.sin(o))*y)>=1?0:Math.sqrt(1-h),p.value===jt.AREA_1?(h=_,_=-y,y=h):p.value===jt.AREA_2?(_=-_,y=-y):p.value===jt.AREA_3&&(h=_,_=y,y=-h),this.face===Nt.RIGHT?(h=v,v=-_,_=h):this.face===Nt.BACK?(v=-v,_=-_):this.face===Nt.LEFT&&(h=v,v=_,_=-h),f.phi=Math.acos(-y)-l,f.lam=Math.atan2(_,v),this.face===Nt.RIGHT?f.lam=Bt(f.lam,-l):this.face===Nt.BACK?f.lam=Bt(f.lam,-g):this.face===Nt.LEFT&&(f.lam=Bt(f.lam,+l))}return 0!==this.es&&(c=f.phi<0?1:0,d=Math.tan(f.phi),m=this.b/Math.sqrt(d*d+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-m*m)/(this.one_minus_f*m)),c&&(f.phi=-f.phi)),f.lam+=this.long0,e.x=f.lam,e.y=f.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Gt=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Wt=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Vt=.8487,Jt=1.3523,Xt=f/5,Zt=1/Xt,Kt=18,Qt=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},$t=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])};var en,tn={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=U(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*Xt);r<0?r=0:r>=Kt&&(r=Kt-1),n=f*(n-Zt*r);var i={x:Qt(Gt[r],n)*t,y:Qt(Wt[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*Vt+this.x0,i.y=i.y*this.a*Jt+this.y0,i},inverse:function(e){var t={x:(e.x-this.x0)/(this.a*Vt),y:Math.abs(e.y-this.y0)/(this.a*Jt)};if(t.y>=1)t.x/=Gt[Kt][0],t.y=e.y<0?-l:l;else{var n=Math.floor(t.y*Kt);for(n<0?n=0:n>=Kt&&(n=Kt-1);;)if(Wt[n][0]>t.y)--n;else{if(!(Wt[n+1][0]<=t.y))break;++n}var r=Wt[n],i=5*(t.y-r[0])/(Wt[n+1][0]-r[0]);i=function(e,t,n,r){for(var i=t;r;--r){var a=e(i);if(i-=a,Math.abs(a)<n)break}return i}(function(e){return(Qt(r,e)-t.y)/$t(r,e)},i,d,100),t.x/=Qt(Gt[n],i),t.y=(5*n+i)*m,e.y<0&&(t.y=-t.y)}return t.x=U(t.x+this.long0),t},names:["Robinson","robin"]};pe.defaultDatum="WGS84",pe.Proj=ie,pe.WGS84=new pe.Proj("WGS84"),pe.Point=Ye,pe.toPoint=le,pe.defs=I,pe.transform=ce,pe.mgrs=Le,pe.version=Oe.a,(en=pe).Proj.projections.add(je),en.Proj.projections.add(Je),en.Proj.projections.add(Ze),en.Proj.projections.add(et),en.Proj.projections.add(tt),en.Proj.projections.add(nt),en.Proj.projections.add(rt),en.Proj.projections.add(it),en.Proj.projections.add(at),en.Proj.projections.add(ft),en.Proj.projections.add(bt),en.Proj.projections.add(Lt),en.Proj.projections.add(qt),en.Proj.projections.add(Tt),en.Proj.projections.add(Et),en.Proj.projections.add(kt),en.Proj.projections.add(At),en.Proj.projections.add(Pt),en.Proj.projections.add(Rt),en.Proj.projections.add(Yt),en.Proj.projections.add(Ot),en.Proj.projections.add(It),en.Proj.projections.add(Ft),en.Proj.projections.add(Ht),en.Proj.projections.add(Ut),en.Proj.projections.add(tn);t.a=pe},function(e,t,n){(function(n){var r,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:o.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(e)&&(i._isPlaying=!1,t||delete this._tweens[n[r]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var a,o=new i;o.Group=i,o._nextId=0,o.nextId=function(){return o._nextId++},"undefined"==typeof window&&void 0!==n?o.now=function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?o.now=window.performance.now.bind(window.performance):void 0!==Date.now?o.now=Date.now:o.now=function(){return(new Date).getTime()},o.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=o.Easing.Linear.None,this._interpolationFunction=o.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||o,this._id=o.nextId()},o.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=e,void 0!==t&&(this._duration=t),this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?o.now()+parseFloat(e):e:o.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,r;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,r=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[t]){var i=this._valuesStart[t]||0,a=this._valuesEnd[t];a instanceof Array?this._object[t]=this._interpolationFunction(a,r):("string"==typeof a&&(a="+"===a.charAt(0)||"-"===a.charAt(0)?i+parseFloat(a):parseFloat(a)),"number"==typeof a&&(this._object[t]=i+(a-i)*r))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===n){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var o=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=o}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},o.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-o.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*o.Easing.Bounce.In(2*e):.5*o.Easing.Bounce.Out(2*e-1)+.5}}},o.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=o.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,a=o.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-t,r-s)*i(t,s)*e[s]*a(r,s);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=o.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=o.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(a=[1],function(e){var t=1;if(a[e])return a[e];for(var n=e;n>1;n--)t*=n;return a[e]=t,t}),CatmullRom:function(e,t,n,r,i){var a=.5*(n-e),o=.5*(r-t),s=i*i;return(2*t-2*n+a+o)*(i*s)+(-3*t+3*n-2*a-o)*s+a*i+t}}},void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}).call(this,n(119))},function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return p});var r=n(43),i=n(81),a=n(13),o=n(21),s=n(25),l=n(52),u=4;function h(e,t,n,r){if(r&&r.getSourceExtents){var i=r.getSourceExtents(t).extent;return i.zoom=e.level,i}if(t.isTiledCrs())return t.extentParent(n);var a=e.findAncestorFromLevel(n);return a.extent&&(a.extent.zoom=a.level),a.extent}function c(e){return e.visible?100:10}function d(e){return!e.requester.parent||!e.requester.material||!e.force&&(!!("elevation"==e.layer.type&&e.requester.material.getElevationLayer()&&e.targetLevel<=e.requester.material.getElevationLayer().level)||!e.requester.material.visible)}function m(e,t,n,s){var l=n.material;if(s&&l){var m=n.getCoordsForSource(t.source),f=l.getLayer(t.id);if(void 0===n.layerUpdateState[t.id]){if(n.layerUpdateState[t.id]=new i.a,!t.source.extentsInsideLimit(m)&&(t.noTextureParentOutsideLimit||!s.material||!s.material.getLayer||!s.material.getLayer(t.id)))return void n.layerUpdateState[t.id].noMoreUpdatePossible();if(!f){var p=t.options.tileMatrixSet||m[0].crs();f=l.addLayer(t,p);var v=e.view.getLayers(function(e){return"color"===e.type}),g=a.a.getColorLayersIdOrderedBySequence(v);l.setSequence(g);var _=s.material&&s.material.getLayer(t.id);f.initFromParent(_,m)}if(f.level>=t.source.zoom.min)return void e.view.notifyChange(n,!1)}if(l.visible){f&&(f.visible=t.visible,f.opacity=t.opacity);var y=Date.now();if(t.visible&&n.layerUpdateState[t.id].canTryUpdate(y)){if(t.source.canTileTextureBeImproved){if(!t.source.canTileTextureBeImproved(n.extent,f.textures[0]))return void n.layerUpdateState[t.id].noMoreUpdatePossible()}else if(f.level>=n.getZoomForLayer(t))return void n.layerUpdateState[t.id].noMoreUpdatePossible();if(!t.frozen){var M=n.layerUpdateState[t.id].failureParams,x=m[0].zoom||n.level,b=Object(r.e)(t.updateStrategy.type,n,x,f.level,t,M);if(!(b<=f.level)){var w=[],L=!0,q=!1,S=void 0;try{for(var T,E=m[Symbol.iterator]();!(L=(T=E.next()).done);L=!0){var D=T.value,k=h(n,D,b,t.source);if(k&&!t.source.extentInsideLimit(k))return void n.layerUpdateState[t.id].noMoreUpdatePossible();w.push(k)}}catch(e){q=!0,S=e}finally{try{L||null==E.return||E.return()}finally{if(q)throw S}}n.layerUpdateState[t.id].newTry();var A={view:e.view,layer:t,extentsSource:w,extentsDestination:m,parsedData:t.source.parsedData,requester:n,priority:c(l),earlyDropFunction:d};return e.scheduler.execute(A).then(function(e){if(null!==l){var r=m.map(function(e,t){return e.offsetToParent(w[t])});return e&&f.setTextures(e,r),n.layerUpdateState[t.id].success(),e}},function(r){if(r instanceof o.a)n.layerUpdateState[t.id].success();else{var i=n.layerUpdateState[t.id].errorCount>u;n.layerUpdateState[t.id].failure(Date.now(),i,{targetLevel:b}),i||window.setTimeout(function(){e.view.notifyChange(n,!1)},1e3*n.layerUpdateState[t.id].secondsUntilNextTry())}})}}}}}}function f(e,t,n,a){var m=n.material;if(a&&m){var f=n.getCoordsForSource(t.source),p=t.options.tileMatrixSet||f[0].crs(),v=m.getElevationLayer();if(void 0===n.layerUpdateState[t.id]){n.layerUpdateState[t.id]=new i.a,v||(v=m.addLayer(t,p),m.setSequenceElevation(t.id));var g=a.material&&a.material.getLayer(t.id);v.initFromParent(g,f);var _=f[0].zoom-v.zoom>6;if(v.textures[0]&&!_){var y=Object(l.b)(v.textures[0].image.data,s.b,s.b,v.offsetScales[0]),M=y.min,x=y.max;n.setBBoxZ(M,x)}if(v.level>=t.source.zoom.min)return void e.view.notifyChange(n,!1)}var b=Date.now();if(!t.frozen&&m.visible&&n.layerUpdateState[t.id].canTryUpdate(b)){if(!t.source.canTileTextureBeImproved||t.source.canTileTextureBeImproved(t,v.textures[0])){var w=Object(r.e)(t.updateStrategy.type,n,f[0].zoom,v.level,t);if(w<=v.level)return n.layerUpdateState[t.id].noMoreUpdatePossible(),Promise.resolve();var L=[],q=!0,S=!1,T=void 0;try{for(var E,D=f[Symbol.iterator]();!(q=(E=D.next()).done);q=!0){var k=E.value,A=h(n,k,w);if(A&&!t.source.extentInsideLimit(A))return void n.layerUpdateState[t.id].noMoreUpdatePossible();L.push(A)}}catch(e){S=!0,T=e}finally{try{q||null==D.return||D.return()}finally{if(S)throw T}}n.layerUpdateState[t.id].newTry();var P={view:e.view,layer:t,extentsSource:L,extentsDestination:f,requester:n,priority:c(m),earlyDropFunction:d};return e.scheduler.execute(P).then(function(e){var r={texture:e[0],pitch:f[0].offsetToParent(L[0])};if(w<=v.level)n.layerUpdateState[t.id].noMoreUpdatePossible();else{if(n.layerUpdateState[t.id].success(),r.texture)if(t.useColorTextureElevation)r.min=t.colorTextureElevationMinZ,r.max=t.colorTextureElevationMaxZ;else{var i=Object(l.b)(r.texture.image.data),o=i.min,s=i.max;r.min=o||0,r.max=s||0}n.setBBoxZ(r.min,r.max),(v=m.getLayer(t.id))||(v=m.addLayer(t,p)),m.setSequenceElevation(t.id),v.setTexture(0,r.texture,r.pitch);var u=a.material&&a.material.getElevationLayer();v.replaceNoDataValueFromParent(u,t.noDataValue)}},function(r){if(r instanceof o.a)n.layerUpdateState[t.id].success();else{var i=n.layerUpdateState[t.id].errorCount>u;n.layerUpdateState[t.id].failure(Date.now(),i),i||window.setTimeout(function(){e.view.notifyChange(n,!1)},1e3*n.layerUpdateState[t.id].secondsUntilNextTry())}})}n.layerUpdateState[t.id].noMoreUpdatePossible()}}}function p(e){return function(t){t.material&&t.material.removeLayer&&t.material.removeLayer(e),t.layerUpdateState&&t.layerUpdateState[e]&&delete t.layerUpdateState[e]}}},function(e,t,n){n(7);var r=n(171);function i(t,n,a){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},i(t,n,a||t)}e.exports=i},function(e,t,n){"use strict";var r=n(11),i=n.n(r);t.a={cleanup:function(e){e.layer=null,"function"==typeof e.dispose?e.dispose():(e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose())},removeChildren:function(e,t){var n=t.children.filter(function(t){return t.layer===e});return t.remove.apply(t,i()(n)),n},removeChildrenAndCleanup:function(e,t){var n=t.children.filter(function(t){return t.layer===e});return t.remove.apply(t,i()(n)),t.layer===e&&this.cleanup(t),n},removeChildrenAndCleanupRecursively:function(e,t){var n=t.children.filter(function(t){return t.layer===e}),r=!0,a=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;this.removeChildrenAndCleanupRecursively(e,u)}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return t.remove.apply(t,i()(n)),t.layer===e&&this.cleanup(t),n}}},,,function(e,t,n){"use strict";function r(e,t,n,r){var i=1e6,a=-1e6;if(!e)return{min:null,max:null};for(var o=r?Math.floor(r.z*t):e.length,s=r?Math.floor(r.z*n):1,l=r?Math.floor(r.x*t):0,u=r?Math.floor(r.y*n):0,h=r?Math.max(Math.floor(o/8),2):16,c=u;c<u+s;c+=h)for(var d=c*(t||0),m=l;m<l+o;m+=h){var f=e[d+m];f>-10&&void 0!==f&&(a=Math.max(a,f),i=Math.min(i,f))}return-1e6===a||1e6===i?{min:null,max:null}:{min:i,max:a}}function i(e,t){var n=e.length;return e[0]>t&&e[n-1]>t&&e[Math.sqrt(n)-1]>t&&e[n-Math.sqrt(n)]>t}function a(e,t,n){var r=Math.floor(e/n)/n,i=t.x+e%n/n*t.z,a=t.y+r*t.w;return Math.floor(a*n)*n+Math.floor(i*n)}function o(e,t,n,r){for(var i=0,o=e.length;i<o;++i)e[i]===n&&(e[i]=t[a(i,r,256)])}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o})},,,,,,function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(1),f=n.n(m),p=n(13),v=n(35),g=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i()(this,t),(r=l()(this,h()(t).call(this,e,"geometry",a))).isGeometryLayer=!0,!n||!n.isObject3D)throw new Error("Missing/Invalid object3d parameter (must be a\n                three.js Object3D instance)");return"Group"===n.type&&""===n.name&&(n.name=e),Object.defineProperty(f()(f()(r)),"object3d",{value:n,writable:!1,configurable:!0}),r.defineLayerProperty("opacity",1,function(){(r.parent?r.parent.object3d:r.object3d).traverse(function(e){e.layer==f()(f()(r))?r.changeOpacity(e):e.content&&e.content.layer==f()(f()(r))&&e.content.traverse(r.changeOpacity)})}),r.defineLayerProperty("wireframe",!1,function(){(r.parent?r.parent.object3d:r.object3d).traverse(function(e){e.layer==f()(f()(r))&&e.material?e.material.wireframe=r.wireframe:e.content&&e.content.layer==f()(f()(r))&&e.content.traverse(function(e){e.material&&e.layer==f()(f()(r))&&(e.material.wireframe=r.wireframe)})})}),r.attachedLayers=[],r.visible=!0,r.getObjectToUpdateForAttachedLayers=function(e){if(e.parent&&e.material)return{element:e,parent:e.parent}},r}return d()(t,e),o()(t,[{key:"postUpdate",value:function(){}},{key:"culling",value:function(){return!0}},{key:"attach",value:function(e){if(!e.update)throw new Error("Missing 'update' function -> can't attach layer\n                ".concat(e.id));this.attachedLayers.push(e),e.parent=this}},{key:"detach",value:function(e){var t=this.attachedLayers.length;return this.attachedLayers=this.attachedLayers.filter(function(t){return t.id!=e.id}),e.parent=void 0,this.attachedLayers.length<t}},{key:"pickObjectsAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.defaultPickingRadius;return v.a.pickObjectsAt(e,t,n,this.object3d)}},{key:"changeOpacity",value:function(e){e.material&&(null!=e.material.opacity&&(e.material.transparent=this.opacity<1,e.material.opacity=this.opacity),e.material.uniforms&&null!=e.material.uniforms.opacity&&(e.material.transparent=this.opacity<1,e.material.uniforms.opacity.value=this.opacity))}}]),t}(p.b);t.a=g},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(1),f=n.n(m),p=n(0),v=n(58),g=n(77),_=n(35),y=n(78),M=n(61),x=n(16),b=n(31),w=function(e,t,n){var r=n.builder,i=e,a=void 0!==i?i.level+1:0,o=r.computeSharableExtent(t),s=o.sharableExtent,l=o.quaternion,u=o.position,h=s.south().toFixed(6),c=n.options.segments||16,d="".concat(r.type,"_").concat(n.disableSkirt?0:1,"_").concat(c,"_").concat(a,"_").concat(h),m=b.a.get(d);if(!m){var f={extent:s,level:a,segment:c,disableSkirt:n.disableSkirt};m=new y.a(f,r),b.a.set(d,m),m._count=0,m.dispose=function(){m._count--,0==m._count&&(p.BufferGeometry.prototype.dispose.call(m),b.a.delete(d))}}m._count++;var v=new x.c(n.materialOptions),g=new M.a(m,v,n,t,a);if(g.layers.set(n.threejsLayer),i&&i instanceof M.a){var _=r.computeSharableExtent(i.extent);u.sub(_.position).applyQuaternion(_.quaternion.inverse()),l.premultiply(_.quaternion)}return g.position.copy(u),g.quaternion.copy(l),g.material.transparent=n.opacity<1,g.material.opacity=n.opacity,g.visible=!1,g.updateMatrix(),i&&g.setBBoxZ(i.obb.z.min,i.obb.z.max),g.add(g.obb),g.material.lightingEnable=n.lighting.enable,g.material.lightPosition=n.lighting.position,n.diffuse&&(g.material.diffuse=n.diffuse),Promise.resolve(g)},L=n(21),q=n(49),S=n(25),T=new p.Vector3,E=new p.Vector3,D=function(e){function t(e,n,r,a,o){var s;if(i()(this,t),(s=l()(this,h()(t).call(this,e,n,o))).isTiledGeometryLayer=!0,s.protocol="tile",s.lighting={enable:!1,position:{x:-.5,y:0,z:1}},s.sseSubdivisionThreshold=s.sseSubdivisionThreshold||1,s.schemeTile=r,s.builder=a,s.info=new g.a(f()(f()(s))),!s.schemeTile)throw new Error("Cannot init tiled layer without schemeTile for layer ".concat(s.id));if(!s.builder)throw new Error("Cannot init tiled layer without builder for layer ".concat(s.id));s.level0Nodes=[];var u=[],c=!0,d=!1,m=void 0;try{for(var p,v=s.schemeTile[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var _=p.value;u.push(s.convert(void 0,_))}}catch(e){d=!0,m=e}finally{try{c||null==v.return||v.return()}finally{if(d)throw m}}return Promise.all(u).then(function(e){s.level0Nodes=e;var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;s.object3d.add(o),o.updateMatrixWorld()}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}),s}return d()(t,e),o()(t,[{key:"pickObjectsAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.defaultPickingRadius;return _.a.pickTilesAt(e,t,n,this)}},{key:"preUpdate",value:function(e,t){var n=this;if(t.has(void 0)||0==t.size)return this.level0Nodes;e.colorLayers=e.view.getLayers(function(e,t){return t&&t.id==n.id&&"color"==e.type}),e.elevationLayers=e.view.getLayers(function(e,t){return t&&t.id==n.id&&"elevation"==e.type}),e.maxElevationLevel=-1;var r,i=!0,a=!1,o=void 0;try{for(var s,l=e.elevationLayers[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.maxElevationLevel=Math.max(u.source.zoom.max,e.maxElevationLevel)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}-1==e.maxElevationLevel&&(e.maxElevationLevel=1/0);var h=!0,c=!1,d=void 0;try{for(var m,f=t.values()[Symbol.iterator]();!(h=(m=f.next()).done);h=!0){var p=m.value;if(p.isCamera)return this.level0Nodes;if(p.layer===this){if(r){if(!(r=p.findCommonAncestor(r)))return this.level0Nodes}else r=p;null==r.material&&(r=void 0)}}}catch(e){c=!0,d=e}finally{try{h||null==f.return||f.return()}finally{if(c)throw d}}return r?[r]:this.level0Nodes}},{key:"update",value:function(e,n,r){var i=this;if(!r.parent)return q.a.removeChildrenAndCleanup(this,r);if(r.parent.pendingSubdivision)return r.visible=!1,r.material.visible=!1,void this.info.update(r);if(r.visible=!this.culling(r,e.camera),r.visible){var a=!1;return r.material.visible=!0,this.info.update(r),(r.pendingSubdivision||t.hasEnoughTexturesToSubdivide(e,r)&&this.subdivision(e,this,r))&&(this.subdivideNode(e,r),r.material.visible=r.pendingSubdivision,this.info.update(r),a=!0),r.material.visible&&(null!=e.view.fogDistance&&(r.material.fogDistance=e.view.fogDistance),!a)?q.a.removeChildren(this,r):a?r.children.filter(function(e){return e.layer==i}):void 0}return r.material.visible=!1,this.info.update(r),q.a.removeChildren(this,r)}},{key:"convert",value:function(e,t){return w(e,t,this)}},{key:"countColorLayersTextures",value:function(){return arguments.length}},{key:"culling",value:function(e,t){return!t.isBox3Visible(e.obb.box3D,e.obb.matrixWorld)}},{key:"subdivideNode",value:function(e,t){var n=this;if(!t.pendingSubdivision&&!t.children.some(function(e){return e.layer==n})){var r=t.extent.subdivision();t.pendingSubdivision=!0;var i={view:e.view,requester:t,layer:this,priority:1e4,extentsSource:r,redraw:!1};e.scheduler.execute(i).then(function(n){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;t.add(l),l.updateMatrixWorld(!0)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}t.pendingSubdivision=!1,e.view.notifyChange(t,!1)},function(e){if(t.pendingSubdivision=!1,!(e instanceof L.a))throw new Error(e)})}}},{key:"subdivision",value:function(e,t,n){if(n.level<this.minSubdivisionLevel)return!0;if(this.maxSubdivisionLevel<=n.level)return!1;var r=n.material.getElevationLayer();if(r){var i=r.textures[0];if(i&&i.extent)if(r.offsetScales[0].z<1/Math.pow(2,this.maxDeltaElevationLevel))return!1}T.setFromMatrixScale(n.matrixWorld),E.copy(n.boundingSphere.center).applyMatrix4(n.matrixWorld);var a=Math.max(0,e.camera.camera3D.position.distanceTo(E)-n.boundingSphere.radius*T.x);n.screenSize=e.camera._preSSE*(2*n.boundingSphere.radius*T.x)/a;var o=n.screenSize/(2*S.a);return this.sseSubdivisionThreshold<o}}],[{key:"hasEnoughTexturesToSubdivide",value:function(e,t){var n=t.layerUpdateState||{},r=t.material.getElevationLayer(),i=!0,a=!1,o=void 0;try{for(var s,l=e.elevationLayers[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,h=t.getCoordsForSource(u.source);if(!u.frozen&&u.ready&&u.source.extentsInsideLimit(h)&&(!r||r.level<0)){if(n[u.id]&&n[u.id].inError())continue;return!1}}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}var c=!0,d=!1,m=void 0;try{for(var f,p=e.colorLayers[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;if(!v.frozen&&v.visible&&v.ready&&(!n[v.id]||!n[v.id].inError())){var g=t.getCoordsForSource(v.source);if(r=t.material.getLayer(v.id),v.source.extentsInsideLimit(g)&&(!r||r.level<0))return!1}}}catch(e){d=!0,m=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw m}}return!0}}]),t}(v.a);t.a=D},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(0),f=n(27),p="precision highp float;\nprecision highp int;\n\n#include <logdepthbuf_pars_vertex>\n#define EPSILON 1e-6\n\nattribute vec3 position;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float size;\n\nuniform bool pickingMode;\nuniform int mode;\nuniform float opacity;\nuniform vec4 overlayColor;\nattribute vec3 color;\nattribute vec4 unique_id;\nattribute float intensity;\n\n#if defined(NORMAL_OCT16)\nattribute vec2 oct16Normal;\n#elif defined(NORMAL_SPHEREMAPPED)\nattribute vec2 sphereMappedNormal;\n#else\nattribute vec3 normal;\n#endif\n\nvarying vec4 vColor;\n\n// see https://web.archive.org/web/20150303053317/http://lgdv.cs.fau.de/get/1602\n// and implementation in PotreeConverter (BINPointReader.cpp) and potree (BinaryDecoderWorker.js)\n#if defined(NORMAL_OCT16)\nvec3 decodeOct16Normal(vec2 encodedNormal) {\n    vec2 nNorm = 2. * (encodedNormal / 255.) - 1.;\n    vec3 n;\n    n.z = 1. - abs(nNorm.x) - abs(nNorm.y);\n    if (n.z >= 0.) {\n        n.x = nNorm.x;\n        n.y = nNorm.y;\n    } else {\n        n.x = sign(nNorm.x) - sign(nNorm.x) * sign(nNorm.y) * nNorm.y;\n        n.y = sign(nNorm.y) - sign(nNorm.y) * sign(nNorm.x) * nNorm.x;\n    }\n    return normalize(n);\n}\n#elif defined(NORMAL_SPHEREMAPPED)\n// see http://aras-p.info/texts/CompactNormalStorage.html method #4\n// or see potree's implementation in BINPointReader.cpp\nvec3 decodeSphereMappedNormal(vec2 encodedNormal) {\n    vec2 fenc = 2. * encodedNormal / 255. - 1.;\n    float f = dot(fenc,fenc);\n    float g = 2. * sqrt(1. - f);\n    vec3 n;\n    n.xy = fenc * g;\n    n.z = 1. - 2. * f;\n    return n;\n}\n#endif\n\nvoid main() {\n\n#if defined(NORMAL_OCT16)\n    vec3  normal = decodeOct16Normal(oct16Normal);\n#elif defined(NORMAL_SPHEREMAPPED)\n    vec3 normal = decodeSphereMappedNormal(sphereMappedNormal);\n#elif defined(NORMAL)\n    // nothing to do\n#else\n    // default to color\n    vec3 normal = color;\n#endif\n\n    if (pickingMode) {\n        vColor = unique_id;\n    } else if (mode == MODE_INTENSITY) {\n        vColor = vec4(intensity, intensity, intensity, opacity);\n    } else if (mode == MODE_NORMAL) {\n        vColor = vec4(abs(normal), opacity);\n    } else {\n        // default to color mode\n        vColor = vec4(mix(color, overlayColor.rgb, overlayColor.a), opacity);\n    }\n\n    gl_Position = projectionMatrix * (modelViewMatrix * vec4( position, 1.0 ));\n\n    if (size > 0.) {\n        gl_PointSize = size;\n    } else {\n        gl_PointSize = clamp(-size / gl_Position.w, 3.0, 10.0);\n    }\n\n    #include <logdepthbuf_vertex>\n}\n",v="precision highp float;\nprecision highp int;\n\n#include <logdepthbuf_pars_fragment>\n\nvarying vec4 vColor;\n\nvoid main() {\n    // circular point rendering\n    if(length(gl_PointCoord - 0.5) > 0.5){\n        discard;\n    }\n\n    gl_FragColor = vColor;\n\n    #include <logdepthbuf_fragment>\n}\n",g={COLOR:0,INTENSITY:1,CLASSIFICATION:2,NORMAL:3},_=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var r in i()(this,t),(e=l()(this,h()(t).call(this,n))).vertexShader=p,e.fragmentShader=v,e.size=n.size||0,e.scale=n.scale||.025/Math.tan(.5),e.overlayColor=n.overlayColor||new m.Vector4(0,0,0,0),e.mode=n.mode||g.COLOR,e.picking=!1,g)Object.prototype.hasOwnProperty.call(g,r)&&(e.defines["MODE_".concat(r)]=g[r]);return e.uniforms.size=new m.Uniform(e.size),e.uniforms.mode=new m.Uniform(e.mode),e.uniforms.pickingMode=new m.Uniform(e.picking),e.uniforms.opacity=new m.Uniform(e.opacity),e.uniforms.overlayColor=new m.Uniform(e.overlayColor),f.a.isLogDepthBufferSupported()&&(e.defines.USE_LOGDEPTHBUF=1,e.defines.USE_LOGDEPTHBUF_EXT=1),e.updateUniforms(),e}return d()(t,e),o()(t,[{key:"enablePicking",value:function(e){this.picking=e,this.blending=e?m.NoBlending:m.NormalBlending,this.updateUniforms()}},{key:"updateUniforms",value:function(){this.uniforms.size.value=this.size>0?this.size:-this.scale*window.innerHeight,this.uniforms.mode.value=this.mode,this.uniforms.pickingMode.value=this.picking,this.uniforms.opacity.value=this.opacity,this.uniforms.overlayColor.value=this.overlayColor}},{key:"update",value:function(e){return this.visible=e.visible,this.opacity=e.opacity,this.transparent=e.transparent,this.size=e.size,this.mode=e.mode,this.picking=e.picking,this.scale=e.scale,this.overlayColor.copy(e.overlayColor),this.updateUniforms(),Object.assign(this.defines,e.defines),this}}]),t}(m.RawShaderMaterial);t.b=_},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(48),d=n.n(c),m=n(10),f=n.n(m),p=n(0),v=n(25),g=n(2),_=function(e){function t(e,n,r,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(i()(this,t),o=l()(this,h()(t).call(this,e,n)),!a)throw new Error("extent is mandatory to build a TileMesh");return o.layer=r,o.extent=a,o.level=s,o.material.objectId=o.id,o.obb=o.geometry.OBB.clone(),o.boundingSphere=new p.Sphere,o.obb.box3D.getBoundingSphere(o.boundingSphere),o.wmtsCoords={},o.frustumCulled=!1,o.matrixAutoUpdate=!1,o.rotationAutoUpdate=!1,o.layerUpdateState={},o}return f()(t,e),o()(t,[{key:"updateMatrixWorld",value:function(e){d()(h()(t.prototype),"updateMatrixWorld",this).call(this,e),this.obb.update()}},{key:"setBBoxZ",value:function(e,t){null==e&&null==t||Math.floor(e)===Math.floor(this.obb.z.min)&&Math.floor(t)===Math.floor(this.obb.z.max)||(this.obb.updateZ(e,t),this.obb.box3D.getBoundingSphere(this.boundingSphere))}},{key:"getCoordsForSource",value:function(e){if(e.isWMTSSource)return v.c.computeTileMatrixSetCoordinates(this,e.tileMatrixSet),this.wmtsCoords[e.tileMatrixSet];if(e.isWMSSource&&this.extent.crs()!=e.projection){if("EPSG:3857"==e.projection){return v.c.computeTileMatrixSetCoordinates(this,"PM"),this.wmtsCoords.PM}throw new Error("unsupported projection wms for this viewer")}return e.isTMSSource?Object(g.g)(this.extent.crs())&&("EPSG:3857"==e.extent.crs()||Object(g.g)(e.extent.crs()))?(v.c.computeTileMatrixSetCoordinates(this,"PM"),this.wmtsCoords.PM):v.c.computeTMSCoordinates(this,e.extent,e.isInverted):e.extent.crs()==this.extent.crs()?[this.extent]:[this.extent.as(e.extent.crs())]}},{key:"getZoomForLayer",value:function(e){return this.getCoordsForSource(e.source)[0].zoom||this.level}},{key:"findCommonAncestor",value:function(e){if(e)return e.level==this.level?e.id==this.id?e:0!=e.level?this.parent.findCommonAncestor(e.parent):void 0:e.level<this.level?this.parent.findCommonAncestor(e):this.findCommonAncestor(e.parent)}},{key:"findAncestorFromLevel",value:function(e){for(var t=this;t&&t.level>e;)t=t.parent;return t||Promise.reject("Invalid targetLevel requested ".concat(e))}},{key:"onBeforeRender",value:function(){this.material.layersNeedUpdate&&this.material.updateLayersUniforms()}}]),t}(p.Mesh);t.a=_},function(e,t,n){"use strict";var r=n(0),i=n(21);function a(e,t,n,r){if(r<=0)return 1/0;var i=t.metadata.spacing/Math.pow(2,n.name.length),a=e.camera.preSSE*i/r;return Math.max(0,a-t.pointSize)}function o(e){e.obj&&(e.obj.material.visible=!1),e.notVisibleSince||(e.notVisibleSince=Date.now(),e.sse=-1);var t=!0,n=!1,r=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){o(i.value)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}t.a={preUpdate:function(e,t){if(!this.root)return[];var n;e.camera.preSSE=e.camera.height/(2*Math.tan(.5*r.Math.degToRad(e.camera.camera3D.fov))),this.material&&(this.material.visible=this.visible,this.material.opacity=this.opacity,this.material.transparent=this.opacity<1,this.material.size=this.pointSize);var i=!0,a=!1,o=void 0;try{for(var s,l=t.values()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.isCamera||u==this)return[this.root];if(void 0!==u.obj&&(u.obj.isPoints&&u.obj.layer==this))if(n){var h=void 0;for(h=0;h<Math.min(u.name.length,n.length)&&u.name[h]==n[h];h++);if(0==(n=n.substr(0,h)).length)break}else n=u.name}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return n?[this.root.findChildrenByName(n)]:[this.root]},update:function(e,t,n){if(n.visible=!1,t.octreeDepthLimit>=0&&t.octreeDepthLimit<n.name.length)o(n);else{var r=n.tightbbox?n.tightbbox:n.bbox;if(n.visible=e.camera.isBox3Visible(r,t.object3d.matrixWorld),n.visible){if(n.notVisibleSince=void 0,n.numPoints>0)if(n.obj)n.obj.material.update?n.obj.material.update(t.material):n.obj.material.copy(t.material);else if(!n.promise){var s=Math.max(.001,r.distanceToPoint(e.camera.camera3D.position)),l=a(e,t,n,s)/s;n.promise=e.scheduler.execute({layer:t,requester:n,view:e.view,priority:l,redraw:!0,isLeaf:0==n.childrenBitField,earlyDropFunction:function(e){return!e.requester.visible||!t.visible}}).then(function(e){t.onPointsCreated&&t.onPointsCreated(t,e),n.obj=e,n.tightbbox=e.tightbbox,t.group.add(n.obj),n.obj.updateMatrixWorld(!0),n.promise=null},function(e){e instanceof i.a&&(n.promise=null)})}if(n.children&&n.children.length){var u=r.distanceToPoint(e.camera.camera3D.position);if(n.sse=a(e,t,n,u)/t.sseThreshold,n.sse>=1)return n.children;var h=!0,c=!1,d=void 0;try{for(var m,f=n.children[Symbol.iterator]();!(h=(m=f.next()).done);h=!0){o(m.value)}}catch(e){c=!0,d=e}finally{try{h||null==f.return||f.return()}finally{if(c)throw d}}}}else o(n)}},postUpdate:function(e,t){if(t.group){t.displayedCount=0;var n=!0,r=!1,i=void 0;try{for(var a,o=t.group.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(s.material.visible){var l=s.geometry.attributes.position.count;s.geometry.setDrawRange(0,l),t.displayedCount+=l}}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}if(t.displayedCount>t.pointBudget)if(t.supportsProgressiveDisplay){var u=t.pointBudget/t.displayedCount,h=!0,c=!1,d=void 0;try{for(var m,f=t.group.children[Symbol.iterator]();!(h=(m=f.next()).done);h=!0){var p=m.value;if(p.material.visible){var v=Math.floor(p.geometry.drawRange.count*u);v>0?p.geometry.setDrawRange(0,v):p.material.visible=!1}}}catch(e){c=!0,d=e}finally{try{h||null==f.return||f.return()}finally{if(c)throw d}}t.displayedCount*=u}else{t.group.children.sort(function(e,t){return t.userData.metadata.sse-e.userData.metadata.sse});var g=!1;t.displayedCount=0;var _=!0,y=!1,M=void 0;try{for(var x,b=t.group.children[Symbol.iterator]();!(_=(x=b.next()).done);_=!0){var w=x.value,L=w.geometry.attributes.position.count;g||t.displayedCount+L>t.pointBudget?(w.material.visible=!1,g=!0):t.displayedCount+=L}}catch(e){y=!0,M=e}finally{try{_||null==b.return||b.return()}finally{if(y)throw M}}}for(var q=Date.now(),S=t.group.children.length-1;S>=0;S--){var T=t.group.children[S];!T.material.visible&&q-T.userData.metadata.notVisibleSince>1e4&&(t.group.children.splice(S,1),T.material.dispose(),T.geometry.dispose(),T.material=null,T.geometry=null,T.userData.metadata.obj=null)}}}}},,,,function(e,t,n){"use strict";var r=n(207),i=n(15);var a=function(e){i.extend(this,e),this.initialize.apply(this,arguments)};i.extend(a.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=i.clone(e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,a=t._view;return n&&1!==e?(a||(a=t._view={}),i||(i=t._start={}),function(e,t,n,i){var a,o,s,l,u,h,c,d,m,f=Object.keys(n);for(a=0,o=f.length;a<o;++a)if(h=n[s=f[a]],t.hasOwnProperty(s)||(t[s]=h),(l=t[s])!==h&&"_"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=l),(c=typeof h)==typeof(u=e[s]))if("string"===c){if((d=r(u)).valid&&(m=r(h)).valid){t[s]=m.mix(d,i).rgbString();continue}}else if("number"===c&&isFinite(u)&&isFinite(h)){t[s]=u+(h-u)*i;continue}t[s]=h}}(i,a,n,e),t):(t._view=n,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return i.isNumber(this._model.x)&&i.isNumber(this._model.y)}}),a.extend=i.inherits,e.exports=a},function(e,t,n){"use strict";var r,i=n(123),a=n.n(i),o=n(0),s=n(2),l=1;function u(e,t){if(t.extent){if(!t.extent.isPointInside(e))return;for(var n=0;n<t.children.length;n++){var r=u(e,t.children[n]);if(r)return r}var i=t.material.getElevationLayer();return i&&i.level>=0?t:void 0}}function h(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];for(var s=0;s<i.length;s+=2)i[s]=o.Math.clamp(i[s],0,t.image.width-1),i[s+1]=o.Math.clamp(i[s+1],0,t.image.height-1);if(t.image.data){if(2===i.length)return t.image.data[i[1]*t.image.width+i[0]];for(var l=[],u=0;u<i.length;u+=2)l.push(t.image.data[i[u+1]*t.image.width+i[u]]);return l}r||((r=document.createElement("canvas")).width=2,r.height=2);for(var h=1/0,c=1/0,d=-1/0,m=-1/0,f=0;f<i.length;f+=2)h=Math.min(i[f],h),c=Math.min(i[f+1],c),d=Math.max(i[f],d),m=Math.max(i[f+1],m);var p=d-h+1,v=m-c+1;r.width=Math.max(r.width,p),r.height=Math.max(r.height,v);var g=r.getContext("2d");g.drawImage(t.image,h,c,p,v,0,0,p,v);for(var _=g.getImageData(0,0,p,v),y=e.attachedLayers.filter(function(e){return"elevation"==e.type})[0],M=[],x=0;x<i.length;x+=2){var b=i[x]-h,w=i[x+1]-c;M.push(o.Math.lerp(y.colorTextureElevationMinZ,y.colorTextureElevationMaxZ,_.data[4*w*p+4*b]/255))}return 2===i.length?M[0]:M}function c(e,t,n){var r=e.image.width,i=e.image.height,a=Math.max(0,t*r-.5),o=Math.max(0,n*i-.5),s=Math.floor(a),l=Math.ceil(a),u=Math.floor(o);return{u1:s,u2:l,v1:u,v2:Math.ceil(o),wu:a-s,wv:o-u}}function d(e,t,n,r){var i=c(t,n,r),s=h(e,t,i.u1,i.v1,i.u2,i.v1,i.u1,i.v2,i.u2,i.v2),l=a()(s,4),u=l[0],d=l[1],m=l[2],f=l[3],p=o.Math.lerp(u,d,i.wu),v=o.Math.lerp(m,f,i.wu);return o.Math.lerp(p,v,i.wv)}function m(e,t,n){return function(e,t,n,r){var i=c(t,n,r);return h(e,t,i.wu<=0?i.u1:i.u2,i.wv<=0?i.v1:i.v2)}(e,t,n.x,n.y)}t.a={getElevationValueAt:function(e,t){var n=v(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t,(arguments.length>3?arguments[3]:void 0)||e.level0Nodes);if(n)return{z:n.coord._values[2],texture:n.texture,tile:n.tile}},placeObjectOnGround:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;if(r=a?a.concat(e.level0Nodes):e.level0Nodes,i.modifyGeometry){var l={worldFromLocal:n.matrixWorld,localFromWorld:(new o.Matrix4).getInverse(n.matrixWorld)},u=n.geometry;if(u.vertices){i.cache&&(i.cache.length=u.vertices.length);for(var h=!0,c=new s.e(t),d=0;d<u.vertices.length;d++){var m=i.cache?i.cache[d]:void 0,f=g(e,i.method||0,r,t,u.vertices[d],i.offset||0,l,c,m);i.cache&&(i.cache[d]=f),f||(h=!1)}return u.verticesNeedUpdate=!0,h}if(u instanceof o.BufferGeometry){i.cache&&(i.cache.length=u.attributes.position.count);for(var p=!0,v=new o.Vector3,_=new s.e(t),y=0;y<u.attributes.position.count;y++){var M=i.cache?i.cache[y]:void 0;v.fromBufferAttribute(u.attributes.position,y);var x=v.z,b=g(e,i.method||0,r,t,v,i.offset||0,l,_,M);i.cache&&(i.cache[y]=b),b||(p=!1),x!=v.z&&(u.attributes.position.needsUpdate=!0),u.attributes.position.setXYZ(y,v.x,v.y,v.z)}return p}}else{i.cache&&(i.cache.length=1);var w={worldFromLocal:n.parent?n.parent.matrixWorld:void 0,localFromWorld:n.parent?(new o.Matrix4).getInverse(n.parent.matrixWorld):void 0},L=g(e,i.method||0,r,t,n.position,i.offset||0,w,void 0,i.cache?i.cache[0]:void 0);if(L)return i.cache&&(i.cache[0]=L),n.updateMatrix(),n.updateMatrixWorld(),!0}},FAST_READ_Z:0,PRECISE_READ_Z:l};var f=new o.Vector3;var p={v:new o.Vector3,coord1:new s.e("EPSG:4978"),coord2:new s.e("EPSG:4978"),offset:new o.Vector2};function v(e,t,n,r,i){var a=n.as(e.extent.crs(),p.coord1),s=null;i&&i.tile&&i.tile.material&&(s=u(a,i.tile));for(var h=0;!s&&h<r.length;h++)s=u(a,r[h]);if(s){var c=s,v=c.material.getElevationLayer(),g=v.textures[0];if(i&&i.id===g.id&&i.version===g.version)return{coord:a,texture:g,tile:c};for(var _=Math.round(Math.log2(1/v.offsetScales[0].z)),y=0;y<_;y++)s=s.parent;var M=a.offsetInExtent(s.extent,p.offset);return a._values[2]=t==l?function(e,t,n,r,i){var a=r.x/i.x/16,s=Math.floor(n.x/a)*a,l=Math.floor(n.y/a)*a;1==s&&(s-=a),1==l&&(l-=a);var u=s,h=s+a,c=l,m=l+a,p=(n.x-s)/a,v=(n.y-l)/a,g=new o.Triangle(new o.Vector3(u,m),new o.Vector3(h,c),1==v||p/(1-v)>=1?new o.Vector3(h,m):new o.Vector3(u,c));g.getBarycoord(new o.Vector3(n.x,n.y),f);var _=d(e,t,g.a.x,g.a.y),y=d(e,t,g.b.x,g.b.y),M=d(e,t,g.c.x,g.c.y);return _*f.x+y*f.y+M*f.z}(e,g,M,c.extent.dimensions(),s.extent.dimensions()):m(e,g,M),{coord:a,texture:g,tile:c}}}function g(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,h=l||new s.e(r);o.worldFromLocal?h.set(r,p.v.copy(i).applyMatrix4(o.worldFromLocal)):h.set(r,i);var c=v(e,t,h,n,u);if(c)return c.coord._values[2]+=a,c.coord.as(r,p.coord2).xyz(i),o.localFromWorld&&i.applyMatrix4(o.localFromWorld),{id:c.texture.id,version:c.texture.version,tile:c.tile}}},,,,,,,function(e,t,n){"use strict";var r=n(0),i=n(2);function a(e){this.rayon_1=e.x,this.rayon_2=e.y,this.rayon_3=e.z,this.size=new r.Vector3(e.x,e.y,e.z),this._radiiSquared=new r.Vector3(e.x*e.x,e.y*e.y,e.z*e.z),this._oneOverRadiiSquared=new r.Vector3(0===e.x?0:1/(e.x*e.x),0===e.y?0:1/(e.y*e.y),0===e.z?0:1/(e.z*e.z))}a.prototype.geodeticSurfaceNormal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Vector3;return t.set(e.x()*this._oneOverRadiiSquared.x,e.y()*this._oneOverRadiiSquared.y,e.z()*this._oneOverRadiiSquared.z),t.normalize()},a.prototype.geodeticSurfaceNormalCartographic=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Vector3,n=r.Math.degToRad(e.longitude()),i=r.Math.degToRad(e.latitude()),a=Math.cos(i),o=a*Math.cos(n),s=a*Math.sin(n),l=Math.sin(i);return t.set(o,s,l)},a.prototype.setSize=function(e){this.rayon_1=e.x,this.rayon_2=e.y,this.rayon_3=e.z,this._radiiSquared=new r.Vector3(e.x*e.x,e.y*e.y,e.z*e.z)};var o=new r.Vector3;a.prototype.cartographicToCartesian=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Vector3;o.copy(e.geodesicNormal),t.multiplyVectors(this._radiiSquared,o);var n=Math.sqrt(o.dot(t));return t.divideScalar(n),o.multiplyScalar(e.altitude()),t.add(o)},a.prototype.cartesianToCartographic=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new i.e("EPSG:4326",0,0,0),n=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z),a=this.rayon_1,o=this.rayon_3,s=Math.abs((a*a-o*o)/(a*a)),l=1-Math.sqrt(1-s),u=Math.sqrt(e.x*e.x+e.y*e.y),h=Math.atan2(e.y,e.x),c=Math.atan(e.z/u*(1-l+s*a/n)),d=Math.sin(c),m=Math.cos(c),f=Math.atan((e.z*(1-l)+s*a*d*d*d)/((1-l)*(u-s*a*m*m*m))),p=u*Math.cos(f)+e.z*Math.sin(f)-a*Math.sqrt(1-s*Math.sin(f)*Math.sin(f));return t.set("EPSG:4326",r.Math.radToDeg(h),r.Math.radToDeg(f),p)},a.prototype.cartographicToCartesianArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.cartographicToCartesian(e[n]));return t},a.prototype.intersection=function(e){var t=e.origin,n=e.direction,i=n.x*n.x/(this.size.x*this.size.x)+n.y*n.y/(this.size.y*this.size.y)+n.z*n.z/(this.size.z*this.size.z),a=2*t.x*n.x/(this.size.x*this.size.x)+2*t.y*n.y/(this.size.y*this.size.y)+2*t.z*n.z/(this.size.z*this.size.z),o=t.x*t.x/(this.size.x*this.size.x)+t.y*t.y/(this.size.y*this.size.y)+t.z*t.z/(this.size.z*this.size.z)-1,s=a*a-4*i*o;if(s<0||0===i||0===a||0===o)return!1;var l=(-a+(s=Math.sqrt(s)))/(2*i),u=(-a-s)/(2*i);if(l<=1e-4&&u<=1e-4)return!1;var h=0;if((h=l<=1e-4?u:u<=1e-4?l:l<u?l:u)<1e-4)return!1;var c=new r.Vector3;return c.addVectors(e.origin,n.clone().setLength(h)),c},a.prototype.computeDistance=function(e,t){var n=r.Math.degToRad(e.longitude()),i=r.Math.degToRad(e.latitude()),a=r.Math.degToRad(t.longitude()),o=r.Math.degToRad(t.latitude()),s=Math.acos(Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(a-n)),l=this.rayon_1,u=this.rayon_3,h=Math.sqrt((l*l-u*u)/(l*l)),c=(i+o)/2,d=l*(1-h*h)/Math.sqrt(1-h*h*Math.sin(c)*Math.sin(c)),m=l/Math.sqrt(1-h*h*Math.sin(c)*Math.sin(c));return s*Math.sqrt(d*m)},t.a=a},function(e,t,n){"use strict";var r=new RegExp("gl_Position.*(?![^]*gl_Position)"),i=new RegExp("[^\\w]*main[^\\w]*(void)?[^\\w]*{");t.a={patchMaterialForLogDepthSupport:function(e){if(!e.vertexShader.includes("USE_LOGDEPTHBUF")&&!e.vertexShader.includes("logdepthbuf_pars_vertex")){e.vertexShader="#include <logdepthbuf_pars_vertex>\n#define EPSILON 1e-6\n".concat(e.vertexShader);var t=r.exec(e.vertexShader),n=t[0].length+t.index;e.vertexShader="".concat(e.vertexShader.slice(0,n),"\n#include <logdepthbuf_vertex>\n").concat(e.vertexShader.slice(n)),e.fragmentShader="#include <itowns/precision_qualifier\n".concat(e.fragmentShader),e.fragmentShader="#include <logdepthbuf_pars_fragment>\n".concat(e.fragmentShader),n=(t=i.exec(e.fragmentShader))[0].length+t.index,e.fragmentShader="".concat(e.fragmentShader.slice(0,n),"\n#include <logdepthbuf_fragment>\n").concat(e.fragmentShader.slice(n)),e.defines={USE_LOGDEPTHBUF:1,USE_LOGDEPTHBUF_EXT:1}}},unrollLoops:function(e,t){return e.replace(/#pragma unroll_loop\s+for\s*\(\s*int\s+i\s*=\s*([\w\d]+);\s*i\s+<\s+([\w\d]+);\s*i\s*\+\+\s*\)\s*\{\n([^}]*)\}/g,function(e,n,r,i){var a="";n=n in t?t[n]:parseInt(n,10),r=r in t?t[r]:parseInt(r,10);for(var o=n;o<r;o++)a+=i.replace(/\bi\b/g," ".concat(o," "));return a})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(0),l=n(16),u=n(52),h=-1;function c(e,t,n,r){var i=void 0!==n?n:r;Object.defineProperty(e,t,{get:function(){return i},set:function(e){i!==e&&(i=e)}})}var d=function(){function e(t,n,r){var a=this;i()(this,e),this.id=n.id,this.textureOffset=0,this.crs=l.a.findIndex(function(e){return e.includes(r||"WGS84")}),-1==this.crs&&console.error("Unknown crs:",r);var o=void 0===n.opacity||n.opacity;Object.defineProperty(this,"opacity",{get:function(){return o},set:function(e){o!==e&&(0!==e&&0!==o||(a.material.layersNeedUpdate=!0),o=e)}});var s=void 0===n.visible||n.visible;Object.defineProperty(this,"visible",{get:function(){return s},set:function(e){s!==e&&(a.material.layersNeedUpdate=!0,s=e)}}),c(this,"effect",n.fx,0);var u={bias:0,scale:1,mode:l.b.DATA,zmin:0,zmax:1/0};if(n.useRgbaTextureElevation)throw u.mode=l.b.RGBA,u.zmax=5e3,new Error("Restore this feature");if(n.useColorTextureElevation){u.mode=l.b.COLOR;var d=n.colorTextureElevationMinZ,m=n.colorTextureElevationMaxZ;u.scale=m-d,u.bias=d}c(this,"bias",n.bias,u.bias),c(this,"scale",n.scale,u.scale),c(this,"mode",n.mode,u.mode),c(this,"zmin",n.zmin,u.zmin),c(this,"zmax",n.zmax,u.zmax),this.textures=[],this.offsetScales=[],this.level=h,this.type=n.type,this.material=t}return o()(e,[{key:"initFromParent",value:function(e,t){if(e&&e.level>this.level){var n=0,r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=!0,h=!1,c=void 0;try{for(var d,m=e.textures[Symbol.iterator]();!(u=(d=m.next()).done);u=!0){var f=d.value;if(l.isInside(f.coords)){this.setTexture(n++,f,l.offsetToParent(f.coords));break}}}catch(e){h=!0,c=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw c}}}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}},{key:"replaceNoDataValueFromParent",value:function(e,t){var n=this.textures[0].image.data,r=e&&e.textures[0];if(n&&r&&!Object(u.a)(n,t)){var i=this.textures[0].coords.offsetToParent(r.coords);Object(u.c)(n,r.image.data,t,i)}}},{key:"dispose",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.textures[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a instanceof s.Texture&&a.dispose()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.level=h,this.textures=[],this.offsetScales=[],this.material.layersNeedUpdate=!0}},{key:"setTexture",value:function(e,t,n){this.level=t&&0==e?t.coords.zoom:this.level,this.textures[e]=t||null,this.offsetScales[e]=n,this.material.layersNeedUpdate=!0}},{key:"setTextures",value:function(e,t){this.dispose(!1);for(var n=0,r=e.length;n<r;++n)this.setTexture(n,e[n],t[n])}}]),e}();t.b=d},function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return g});var r=n(11),i=n.n(r),a=n(9),o=n.n(a),s=n(7),l=n.n(s),u=n(10),h=n.n(u),c=n(4),d=n.n(c),m=n(5),f=n.n(m),p=n(8),v=function(){function e(t){d()(this,e),this.layer=t}return f()(e,[{key:"clear",value:function(){}},{key:"update",value:function(){}}]),e}(),g=function(e){function t(e){var n;return d()(this,t),(n=o()(this,l()(t).call(this,e))).displayed={tiles:new Set},Object.defineProperty(n.displayed,"layers",{get:function(){var e=[];return n.displayed.tiles.forEach(function(t){var n=t.material;e=i()(new Set([].concat(i()(e),i()(n.colorLayerIds.filter(function(e){return n.getLayer(e)})),i()(n.elevationLayerIds))))}),n.layer.attachedLayers.filter(function(t){return e.includes(t.id)})}}),Object.defineProperty(n.displayed,"extent",{get:function(){var e=new p.a(n.layer.extent.crs(),1/0,-1/0,1/0,-1/0);return e.min=1/0,e.max=-1/0,n.displayed.tiles.forEach(function(t){e.union(t.extent),e.min=Math.min(t.obb.z.min,e.min),e.max=Math.max(t.obb.z.max,e.max)}),e}}),n}return h()(t,e),f()(t,[{key:"clear",value:function(){this.displayed.tiles.clear()}},{key:"update",value:function(e){e.material.visible?this.displayed.tiles.add(e):this.displayed.tiles.delete(e)}}]),t}(v)},function(e,t,n){"use strict";var r=n(0),i=new Map;function a(){this.index=null,this.position=null,this.normal=null,this.uv={wgs84:null,pm:null}}function o(e,t){r.BufferGeometry.call(this),this.center=t.Center(e.extent).clone(),this.extent=e.extent;var n=this.computeBuffers(e,t);this.setIndex(n.index),this.addAttribute("position",n.position),this.addAttribute("normal",n.normal),this.addAttribute("uv_wgs84",n.uv.wgs84),this.addAttribute("uv_pm",n.uv.pm),this.computeBoundingBox(),this.OBB=t.OBB(this.boundingBox)}o.prototype=Object.create(r.BufferGeometry.prototype),o.prototype.constructor=o,o.prototype.computeBuffers=function(e,t){var n=new a,o=e.segment,s=(o+1)*(o+1)+(e.disableSkirt?0:4*o),l=o*o*2+(e.disableSkirt?0:4*o*2);n.position=new r.BufferAttribute(new Float32Array(3*s),3),n.normal=new r.BufferAttribute(new Float32Array(3*s),3),n.uv.pm=new r.BufferAttribute(new Float32Array(s),1);var u="".concat(t.type,"_").concat(e.disableSkirt?0:1,"_").concat(e.segment),h=i.get(u),c=!h;h?(n.index=h.index,n.uv.wgs84=h.uvwgs84):(n.index=new r.BufferAttribute(new Uint32Array(3*l),1),n.uv.wgs84=new r.BufferAttribute(new Float32Array(2*s),2),i.set(u,{index:n.index,uvwgs84:n.uv.wgs84}));var d=Math.max(2,Math.floor(o)||2),m=Math.max(2,Math.floor(o)||2),f=0,p=[],v=[],g=[];t.Prepare(e);var _=function(){},y=function(){};c&&(_=function(e,t,n,r){e.uv.wgs84.array[2*t+0]=n,e.uv.wgs84.array[2*t+1]=r}),t.getUV_PM&&(y=function(e,t,n){e.uv.pm.array[t]=n});for(var M=0;M<=m;M++){var x=[],b=M/m;t.vProjecte(b,e);for(var w=t.getUV_PM?t.getUV_PM(e):void 0,L=0;L<=d;L++){var q=L/d,S=3*f;t.uProjecte(q,e);var T=t.VertexPosition(e,e.projected),E=t.VertexNormal(e);T.sub(this.center),e.quatNormalToZ&&(T.applyQuaternion(e.quatNormalToZ),E.applyQuaternion(e.quatNormalToZ)),T.toArray(n.position.array,S),E.toArray(n.normal.array,S),_(n,f,q,b),y(n,f,w),e.disableSkirt||0!==M&&M!==m&&(L===d?v.push(f):0===L&&g.push(f)),x.push(f),f++}p.push(x),0===M?v=v.concat(x):M===m&&(v=v.concat(x.slice().reverse()))}function D(e,t,r,i){return n.index.array[i+0]=e,n.index.array[i+1]=t,n.index.array[i+2]=r,i+3}e.disableSkirt||(v=v.concat(g.reverse()));var k=0;if(c)for(var A=0;A<m;A++)for(var P=0;P<d;P++){var C=p[A][P+1],R=p[A][P],Y=p[A+1][P],O=p[A+1][P+1];k=D(O,R,C,k),k=D(O,Y,R,k)}var I=f;if(!e.disableSkirt){var F=(new r.Vector3).fromArray(n.position.array).distanceTo((new r.Vector3).fromArray(n.position.array,3)),H=function(){},N=function(){};c&&(H=function(e,t,n,r,i){return e=D(t,n,r,e),e=D(t,r,i,e)},N=function(e){n.uv.wgs84.array[2*f+0]=n.uv.wgs84.array[2*e+0],n.uv.wgs84.array[2*f+1]=n.uv.wgs84.array[2*e+1]});for(var j=0;j<v.length;j++){var z=v[j],B=3*f,U=3*z;n.position.array[B+0]=n.position.array[U+0]-n.normal.array[U+0]*F,n.position.array[B+1]=n.position.array[U+1]-n.normal.array[U+1]*F,n.position.array[B+2]=n.position.array[U+2]-n.normal.array[U+2]*F,n.normal.array[B+0]=n.normal.array[U+0],n.normal.array[B+1]=n.normal.array[U+1],n.normal.array[B+2]=n.normal.array[U+2],N(z),n.uv.pm.array[f]=n.uv.pm.array[z];var G=(j+1)%v.length;k=H(k,z,f,0===G?I:f+1,v[G]),f++}}return n},t.a=o},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(22),f=n(42),p=n(8),v=function(e){function t(e){var n;return i()(this,t),(n=l()(this,h()(t).call(this,e))).isTMSSource=!0,e.extent||(n.extent=new p.a("EPSG:3857",-20037508.342789244,20037508.342789244,-20037508.342789255,20037508.342789244)),n.zoom=e.zoom||{min:0,max:18},n.isInverted=e.isInverted||!1,e.origin&&(console.warn("Deprecation warning: origin is not supported anymore, use isInverted instead"),n.isInverted="top"==e.origin),n.format=n.format||"image/png",n.url=e.url,e.tileMatrixSet?n.tileMatrixSet=e.tileMatrixSet:"EPSG:3857"==n.projection?n.tileMatrixSet="PM":n.tileMatrixSet="WGS84",n}return d()(t,e),o()(t,[{key:"urlFromExtent",value:function(e){return f.a.xyz(e,this)}},{key:"handlingError",value:function(e){console.warn("err ".concat(this.url),e)}},{key:"extentInsideLimit",value:function(e){return e.zoom>=this.zoom.min&&e.zoom<=this.zoom.max}}]),t}(m.a);t.a=v},function(e,t,n){"use strict";var r=n(0),i=new r.Vector2;function a(e,t,n,r,a){i.x=t-a.x,i.y=n-a.y,i.multiply(r),e.moveTo(Math.round(i.x),Math.round(i.y))}function o(e,t,n,r,a){i.x=t-a.x,i.y=n-a.y,i.multiply(r),e.lineTo(Math.round(i.x),Math.round(i.y))}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[{offset:0,count:1}],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0;if(0!==t.length)if(o.length){var u=!0,h=!1,c=void 0;try{for(var d,m=o[Symbol.iterator]();!(u=(d=m.next()).done);u=!0){l(e,t,n,r,i,a,d.value,s)}}catch(e){h=!0,c=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw c}}}else l(e,t,n,r,i,a,o,s)}function l(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0;e.beginPath();var h=!0,c=!1,d=void 0;try{for(var m,f=n[Symbol.iterator]();!(h=(m=f.next()).done);h=!0){var p=m.value,v=p.offset*u,g=v+p.count*u;a(e,t[v],t[v+1],i,r);for(var _=v+u;_<g;_+=u)o(e,t[_],t[_+1],i,r)}}catch(e){c=!0,d=e}finally{try{h||null==f.return||f.return()}finally{if(c)throw d}}(l.stroke||s.stroke)&&(e.strokeStyle=l.stroke||s.stroke,e.lineWidth=l.strokeWidth||s["stroke-width"]||2,e.globalAlpha=l.strokeOpacity||s["stroke-opacity"]||1,e.stroke()),n&&(l.fill||s.fill)&&(e.fillStyle=l.fill||s.fill,e.globalAlpha=l.fillOpacity||s["fill-opacity"]||1,e.fill())}function u(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};i.x=t-r.x,i.y=n-r.y,i.multiply(a),e.beginPath(),e.arc(Math.round(i.x),Math.round(i.y),Math.round(o.radius)||3,0,2*Math.PI,!1),e.fillStyle=o.fill||"white",e.fill(),e.lineWidth=o.lineWidth||1,e.strokeStyle=o.stroke||"red",e.stroke()}function h(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=a,l=!0,h=!1,c=void 0;try{for(var d,m=t.geometry[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var f=d.value,p=f.properties;if("function"==typeof a&&(o=a(p,t)),"point"===t.type)u(e,t.vertices[0],t.vertices[1],n,r,o);else if("multipoint"===t.type)for(var v=0;v<t.vertices.length;v+=t.size)u(e,t.vertices[v],t.vertices[v+1],n,r,o);else f.extent.intersectsExtent(i)&&s(e,t.vertices,f.indices,n,r,p,o,t.size)}}catch(e){h=!0,c=e}finally{try{l||null==m.return||m.return()}finally{if(h)throw c}}}var c=function(e,t,n,i,a){var o;if(e){var s=new r.Vector2(t.west(),t.south()),l=t.dimensions(),u=document.createElement("canvas");u.width=n,u.height=n;var c=u.getContext("2d");a&&(c.fillStyle=a.getStyle(),c.fillRect(0,0,n,n)),c.globalCompositeOperation=i.globalCompositeOperation||"source-over";var d=new r.Vector2(c.canvas.width/l.x,c.canvas.width/l.y),m=!0,f=!1,p=void 0;try{for(var v,g=e.features[Symbol.iterator]();!(m=(v=g.next()).done);m=!0){var _=v.value;h(c,_,s,d,_.crs==t.crs()?t:t.as(_.crs),i)}}catch(e){f=!0,p=e}finally{try{m||null==g.return||g.return()}finally{if(f)throw p}}(o=new r.CanvasTexture(u)).flipY=!1}else if(a){var y=new Uint8Array(3);y[0]=255*a.r,y[1]=255*a.g,y[2]=255*a.b,(o=new r.DataTexture(y,1,1,r.RGBFormat)).needsUpdate=!0}else o=new r.Texture;return o},d=function(e){return e.generateMipmaps=!1,e.magFilter=r.LinearFilter,e.minFilter=r.LinearFilter,e};t.a={convert:function(e,t,n){var i;if(e.isFeature){var a=n.backgroundLayer&&n.backgroundLayer.paint?new r.Color(n.backgroundLayer.paint["background-color"]):void 0,o=t.as(n.projection);(i=c(e,o,256,n.style,a)).parsedData=e,i.coords=t}else{if(!e.isTexture)throw new Error("Data type is not supported to convert into texture");i=e}return"color"===n.type?function(e,t){return e.anisotropy=16,e.premultiplyAlpha=t,d(e)}(i,n.transparent):"elevation"===n.type?(i.flipY&&(i.flipY=!1),d(i)):void 0}}},function(e,t,n){"use strict";var r={IDLE:0,PENDING:1,ERROR:2,DEFINITIVE_ERROR:3,FINISHED:4},i=[1,3,7,60];function a(){this.state=r.IDLE,this.lastErrorTimestamp=0,this.errorCount=0}a.prototype.canTryUpdate=function(e){switch(this.state){case r.IDLE:return!0;case r.DEFINITIVE_ERROR:case r.PENDING:case r.FINISHED:return!1;case r.ERROR:default:return 1e3*this.secondsUntilNextTry()<=e-this.lastErrorTimestamp}},a.prototype.secondsUntilNextTry=function(){if(this.state!==r.ERROR)return 0;var e=Math.max(0,Math.min(this.errorCount,i.length)-1);return i[e]},a.prototype.newTry=function(){this.state=r.PENDING},a.prototype.success=function(){this.failureParams=void 0,this.lastErrorTimestamp=0,this.state=r.IDLE},a.prototype.noMoreUpdatePossible=function(){this.failureParams=void 0,this.state=r.FINISHED},a.prototype.failure=function(e,t,n){this.failureParams=n,this.lastErrorTimestamp=e,this.state=t?r.DEFINITIVE_ERROR:r.ERROR,this.errorCount++},a.prototype.inError=function(){return this.state==r.DEFINITIVE_ERROR||this.state==r.ERROR},t.a=a},,,function(e,t,n){"use strict";var r=n(24),i=n(15),a=n(120);e.exports={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=i.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?i.merge({},[r.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=i.extend(this.defaults[e],t))},addScalesToLayout:function(e){i.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,a.addBox(e,t)})}}},function(e,t,n){"use strict";e.exports={},e.exports.Arc=n(516),e.exports.Line=n(517),e.exports.Point=n(518),e.exports.Rectangle=n(519)},,,,,,,,,function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(13),f=n(47),p=n(80),v=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i()(this,t),(n=l()(this,h()(t).call(this,e,"color",r))).isColorLayer=!0,n.style=r.style||{},n.defineLayerProperty("visible",!0),n.defineLayerProperty("opacity",1),n.defineLayerProperty("sequence",0),n.transparent=r.transparent||n.opacity<1,n.noTextureParentOutsideLimit=!!r.source&&"file"==r.source.protocol,n}return d()(t,e),o()(t,[{key:"update",value:function(e,t,n,r){return Object(f.c)(e,this,n,r)}},{key:"convert",value:function(e,t){return p.a.convert(e,t,this)}}]),t}(m.b);t.a=v},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(13),f=n(47),p=n(80),v=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i()(this,t),(n=l()(this,h()(t).call(this,e,"elevation",r))).isElevationLayer=!0,n}return d()(t,e),o()(t,[{key:"update",value:function(e,t,n,r){return Object(f.b)(e,this,n,r)}},{key:"convert",value:function(e,t){return p.a.convert(e,t,this)}}]),t}(m.b);t.a=v},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(22),f=n(42),p=function(e){function t(e){var n;if(i()(this,t),!e.name)throw new Error("New WMTSSource: name is required");if((n=l()(this,h()(t).call(this,e))).isWMTSSource=!0,n.format=n.format||"image/png",n.version=e.version||"1.0.0",n.tileMatrixSet=e.tileMatrixSet||"WGS84",n.style=e.style||"normal",n.name=e.name,n.url="".concat(n.url)+"?LAYER=".concat(n.name)+"&FORMAT=".concat(n.format)+"&SERVICE=WMTS"+"&VERSION=".concat(n.version)+"&REQUEST=GetTile"+"&STYLE=".concat(n.style)+"&TILEMATRIXSET=".concat(n.tileMatrixSet)+"&TILEMATRIX=%TILEMATRIX&TILEROW=%ROW&TILECOL=%COL",n.zoom=e.zoom,n.tileMatrixSetLimits=e.tileMatrixSetLimits,n.projection||("WGS84"===n.tileMatrixSet||"WGS84G"===n.tileMatrixSet?n.projection="EPSG:4326":n.projection="EPSG:3857"),!n.zoom)if(n.tileMatrixSetLimits){var r=Object.keys(n.tileMatrixSetLimits),a=r.length,o=Number(r[a-1]);n.zoom={min:o-a+1,max:o}}else n.zoom={min:2,max:20};return n}return d()(t,e),o()(t,[{key:"urlFromExtent",value:function(e){return f.a.xyz(e,this)}},{key:"extentInsideLimit",value:function(e){return e.zoom>=this.zoom.min&&e.zoom<=this.zoom.max&&(null==this.tileMatrixSetLimits||e.row>=this.tileMatrixSetLimits[e.zoom].minTileRow&&e.row<=this.tileMatrixSetLimits[e.zoom].maxTileRow&&e.col>=this.tileMatrixSetLimits[e.zoom].minTileCol&&e.col<=this.tileMatrixSetLimits[e.zoom].maxTileCol)}}]),t}(m.a);t.a=p},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(22),f=n(42),p=function(e){function t(e){var n;if(i()(this,t),!e.name)throw new Error("source.name is required.");if(!e.extent)throw new Error("source.extent is required");if(!e.projection)throw new Error("source.projection is required");(n=l()(this,h()(t).call(this,e))).isWMSSource=!0,n.name=e.name,n.zoom=e.zoom||{min:0,max:21},n.format=n.format||"image/png",n.style=e.style||"",e.heightMapWidth&&(console.warn("source.heightMapWidth is deprecated, please use source.width instead."),e.width=e.width||e.heightMapWidth),n.width=e.width||e.height||256,n.height=e.height||e.width||256,n.version=e.version||"1.3.0",n.transparent=e.transparent||!1,e.axisOrder||("EPSG:4326"==e.projection?n.axisOrder="1.1.0"===n.version?"wsen":"swne":n.axisOrder="wsen");var r="1.3.0"===n.version?"CRS":"SRS";for(var a in n.url="".concat(e.url,"?SERVICE=WMS&REQUEST=GetMap&LAYERS=").concat(n.name,"&VERSION=").concat(n.version,"&STYLES=").concat(n.style,"&FORMAT=").concat(n.format,"&TRANSPARENT=").concat(n.transparent,"&BBOX=%bbox&").concat(r,"=").concat(n.projection,"&WIDTH=").concat(n.width,"&HEIGHT=").concat(n.height),n.vendorSpecific=e.vendorSpecific,n.vendorSpecific)Object.prototype.hasOwnProperty.call(n.vendorSpecific,a)&&(n.url="".concat(n.url,"&").concat(a,"=").concat(n.vendorSpecific[a]));return n}return d()(t,e),o()(t,[{key:"urlFromExtent",value:function(e){return f.a.bbox(e,this)}},{key:"extentInsideLimit",value:function(e){var t=this.projection==e.crs()?e:e.as(this.projection);return(null==e.zoom||!(e.zoom<this.zoom.min||e.zoom>this.zoom.max))&&this.extent.intersectsExtent(t)}}]),t}(m.a);t.a=p},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(22),f=n(42),p=function(e){function t(e){var n;if(i()(this,t),!e.typeName)throw new Error("source.typeName is required in wfs source.");if(!e.projection)throw new Error("source.projection is required in wfs source");for(var r in(n=l()(this,h()(t).call(this,e))).isWFSSource=!0,n.typeName=e.typeName,n.format=n.format||"application/json",n.version=e.version||"2.0.2",n.url="".concat(e.url,"SERVICE=WFS&REQUEST=GetFeature&typeName=").concat(n.typeName,"&VERSION=").concat(n.version,"&SRSNAME=").concat(n.projection,"&outputFormat=").concat(n.format,"&BBOX=%bbox,").concat(n.projection),n.zoom=e.zoom||{min:0,max:21},n.vendorSpecific=e.vendorSpecific,n.vendorSpecific)Object.prototype.hasOwnProperty.call(n.vendorSpecific,r)&&(n.url="".concat(n.url,"&").concat(r,"=").concat(n.vendorSpecific[r]));return n}return d()(t,e),o()(t,[{key:"handlingError",value:function(e,t){var n=this;if(e.response&&400==e.response.status)return e.response.text().then(function(t){var r="".concat(n.url,"SERVICE=WFS&REQUEST=GetCapabilities&VERSION=").concat(n.version),i=(new DOMParser).parseFromString(t,"application/xml").querySelector("Exception"),a=i.getAttribute("exceptionCode"),o=i.querySelector("ExceptionText").textContent;throw console.error("Source ".concat(n.typeName,': bad request when fetching data. Server says: "').concat(a,": ").concat(o,'". \nReviewing ').concat(r," may help."),e),e});throw console.error("Source ".concat(this.typeName,": error while trying to fetch/parse/convert WFS data. Url was ").concat(t,"."),e),e}},{key:"urlFromExtent",value:function(e){return f.a.bbox(e.as(this.projection),this)}},{key:"extentInsideLimit",value:function(e){return(null==e.zoom||e.zoom>=this.zoom.min&&e.zoom<=this.zoom.max)&&this.extent.intersectsExtent(e)}}]),t}(m.a);t.a=p},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(9),l=n.n(s),u=n(7),h=n.n(u),c=n(10),d=n.n(c),m=n(102),f=n.n(m),p=n(22),v=n(14),g=n(8),_=n(41);function y(e){var t,n=e.trim();if(n.startsWith("<")){var r=(new DOMParser).parseFromString(e,"application/xml");if("kml"===r.documentElement.tagName.toLowerCase())t=f.a.kml(r);else{if("gpx"!==r.documentElement.tagName.toLowerCase())throw"parsererror"===r.documentElement.tagName.toLowerCase()?new Error("Error parsing XML document"):new Error("Unsupported xml file, only valid KML and GPX are supported, but no <gpx> or <kml> tag found.",r);(t=f.a.gpx(r)).features.find(function(e){return"LineString"==e.geometry.type}).properties.stroke="red",t.extent=function(e){var t=e.getElementsByTagName("bounds")[0];if(t){var n=t.getAttribute("minlon"),r=t.getAttribute("maxlon"),i=t.getAttribute("minlat"),a=t.getAttribute("maxlat");return new g.a("EPSG:4326",n,r,i,a)}return new g.a("EPSG:4326",-180,180,-90,90)}(r)}}else{if(!n.startsWith("{")&&!n.startsWith("["))throw new Error("Unsupported file: only well-formed KML, GPX or GeoJSON are supported");if("Feature"!==(t=JSON.parse(e)).type&&"FeatureCollection"!==t.type)throw new Error("This json is not a GeoJSON")}return t}var M=function(e){function t(e,n){var r;if(i()(this,t),!e.projection)throw new Error("source.projection is required in FileSource");(r=l()(this,h()(t).call(this,e))).isFileSource=!0,r.url=e.url,r.parsedData=[],r.zoom=e.zoom||{min:5,max:21};var a={buildExtent:!0,crsIn:r.projection,crsOut:n,withNormal:!e.toTexture,withAltitude:!e.toTexture,mergeFeatures:!0};return r.whenReady=v.a.text(r.url,e.networkOptions).then(y).then(function(e){return _.a.parse(e,a).then(function(t){t.style=e.style,r.parsedData=t})}),r}return d()(t,e),o()(t,[{key:"urlFromExtent",value:function(e){return"".concat(this.url,",").concat(e.crs())}},{key:"extentInsideLimit",value:function(e){var t=this.parsedData.extent,n=this.projection==e.crs()?e:e.as(this.projection);return(null==e.zoom||!(e.zoom<this.zoom.min||e.zoom>this.zoom.max))&&t.intersectsExtent(n)}}]),t}(p.a);t.a=M},function(e,t,n){"use strict";var r=n(34),i=n.n(r),a=n(11),o=n.n(a),s=n(4),l=n.n(s),u=n(5),h=n.n(u),c=n(9),d=n.n(c),m=n(7),f=n.n(m),p=n(10),v=n.n(p),g=n(1),_=n.n(g);class y{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=this.ids.length=this.values.length=0}push(e,t){this.ids.push(e),this.values.push(t);let n=this.length++;for(;n>0;){const e=n-1>>1,r=this.values[e];if(t>=r)break;this.ids[n]=this.ids[e],this.values[n]=r,n=e}this.ids[n]=e,this.values[n]=t}pop(){if(0===this.length)return;const e=this.ids[0];if(this.length--,this.length>0){const e=this.ids[0]=this.ids[this.length],t=this.values[0]=this.values[this.length],n=this.length>>1;let r=0;for(;r<n;){let e=1+(r<<1);const n=e+1;let i=this.ids[e],a=this.values[e];const o=this.values[n];if(n<this.length&&o<a&&(e=n,i=this.ids[n],a=o),a>=t)break;this.ids[r]=i,this.values[r]=a,r=e}this.ids[r]=e,this.values[r]=t}return this.ids.pop(),this.values.pop(),e}peek(){return this.ids[0]}peekValue(){return this.values[0]}}const M=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],x=3;class b{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(251!==t)throw new Error("Data does not appear to be in a Flatbush format.");if(n>>4!==x)throw new Error(`Got v${n>>4} data when expected v${x}.`);const[r]=new Uint16Array(e,2,1),[i]=new Uint32Array(e,4,1);return new b(i,r,M[15&n],e)}constructor(e,t=16,n=Float64Array,r){if(void 0===e)throw new Error("Missing required argument: numItems.");if(isNaN(e)||e<=0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535);let i=e,a=i;this._levelBounds=[4*i];do{a+=i=Math.ceil(i/this.nodeSize),this._levelBounds.push(4*a)}while(1!==i);this.ArrayType=n||Float64Array,this.IndexArrayType=a<16384?Uint16Array:Uint32Array;const o=M.indexOf(this.ArrayType),s=4*a*this.ArrayType.BYTES_PER_ELEMENT;if(o<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this._boxes=new this.ArrayType(this.data,8,4*a),this._indices=new this.IndexArrayType(this.data,8+s,a),this._pos=4*a,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new ArrayBuffer(8+s+a*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,4*a),this._indices=new this.IndexArrayType(this.data,8+s,a),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(x<<4)+o]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e),this._queue=new y}add(e,t,n,r){const i=this._pos>>2;this._indices[i]=i,this._boxes[this._pos++]=e,this._boxes[this._pos++]=t,this._boxes[this._pos++]=n,this._boxes[this._pos++]=r,e<this.minX&&(this.minX=e),t<this.minY&&(this.minY=t),n>this.maxX&&(this.maxX=n),r>this.maxY&&(this.maxY=r)}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const e=this.maxX-this.minX,t=this.maxY-this.minY,n=new Uint32Array(this.numItems);for(let r=0;r<this.numItems;r++){let i=4*r;const a=this._boxes[i++],o=this._boxes[i++],s=this._boxes[i++],l=this._boxes[i++],u=Math.floor(65535*((a+s)/2-this.minX)/e),h=Math.floor(65535*((o+l)/2-this.minY)/t);n[r]=S(u,h)}!function e(t,n,r,i,a){if(i>=a)return;const o=t[i+a>>1];let s=i-1;let l=a+1;for(;;){do{s++}while(t[s]<o);do{l--}while(t[l]>o);if(s>=l)break;q(t,n,r,s,l)}e(t,n,r,i,l);e(t,n,r,l+1,a)}(n,this._boxes,this._indices,0,this.numItems-1);for(let e=0,t=0;e<this._levelBounds.length-1;e++){const n=this._levelBounds[e];for(;t<n;){let e=1/0,r=1/0,i=-1/0,a=-1/0;const o=t;for(let o=0;o<this.nodeSize&&t<n;o++){const n=this._boxes[t++],o=this._boxes[t++],s=this._boxes[t++],l=this._boxes[t++];n<e&&(e=n),o<r&&(r=o),s>i&&(i=s),l>a&&(a=l)}this._indices[this._pos>>2]=o,this._boxes[this._pos++]=e,this._boxes[this._pos++]=r,this._boxes[this._pos++]=i,this._boxes[this._pos++]=a}}}search(e,t,n,r,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4,o=this._levelBounds.length-1;const s=[],l=[];for(;void 0!==a;){const u=Math.min(a+4*this.nodeSize,this._levelBounds[o]);for(let h=a;h<u;h+=4){const u=0|this._indices[h>>2];n<this._boxes[h]||(r<this._boxes[h+1]||e>this._boxes[h+2]||t>this._boxes[h+3]||(a<4*this.numItems?(void 0===i||i(u))&&l.push(u):(s.push(u),s.push(o-1))))}o=s.pop(),a=s.pop()}return l}neighbors(e,t,n=1/0,r=1/0,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4;const o=this._queue,s=[],l=r*r;for(;void 0!==a;){const r=Math.min(a+4*this.nodeSize,L(a,this._levelBounds));for(let n=a;n<r;n+=4){const r=0|this._indices[n>>2],s=w(e,this._boxes[n],this._boxes[n+2]),l=w(t,this._boxes[n+1],this._boxes[n+3]),u=s*s+l*l;a<4*this.numItems?(void 0===i||i(r))&&o.push(-r-1,u):o.push(r,u)}for(;o.length&&o.peek()<0;){if(o.peekValue()>l)return o.clear(),s;if(s.push(-o.pop()-1),s.length===n)return o.clear(),s}a=o.pop()}return o.clear(),s}}function w(e,t,n){return e<t?t-e:e<=n?0:e-n}function L(e,t){let n=0,r=t.length-1;for(;n<r;){const i=n+r>>1;t[i]>e?r=i:n=i+1}return t[n]}function q(e,t,n,r,i){const a=e[r];e[r]=e[i],e[i]=a;const o=4*r,s=4*i,l=t[o],u=t[o+1],h=t[o+2],c=t[o+3];t[o]=t[s],t[o+1]=t[s+1],t[o+2]=t[s+2],t[o+3]=t[s+3],t[s]=l,t[s+1]=u,t[s+2]=h,t[s+3]=c;const d=n[r];n[r]=n[i],n[i]=d}function S(e,t){let n=e^t,r=65535^n,i=65535^(e|t),a=e&(65535^t),o=n|r>>1,s=n>>1^n,l=i>>1^r&a>>1^i,u=n&i>>1^a>>1^a;s=(n=o)&(r=s)>>2^r&(n^r)>>2,l^=n&(i=l)>>2^r&(a=u)>>2,u^=r&i>>2^(n^r)&a>>2,s=(n=o=n&n>>2^r&r>>2)&(r=s)>>4^r&(n^r)>>4,l^=n&(i=l)>>4^r&(a=u)>>4,u^=r&i>>4^(n^r)&a>>4,l^=(n=o=n&n>>4^r&r>>4)&(i=l)>>8^(r=s)&(a=u)>>8;let h=e^t,c=(r=(u^=r&i>>8^(n^r)&a>>8)^u>>1)|65535^(h|(n=l^l>>1));return((c=1431655765&((c=858993459&((c=252645135&((c=16711935&(c|c<<8))|c<<4))|c<<2))|c<<1))<<1|(h=1431655765&((h=858993459&((h=252645135&((h=16711935&(h|h<<8))|h<<4))|h<<2))|h<<1)))>>>0}var T=n(22),E=n(14),D=n(8);var k=function(e){function t(e){var n;if(l()(this,t),console.warn("Deprecation warning: this source is going to be removed in iTowns 2.7.0, please consider stop using it."),!e.extent)throw new Error("layer.extent is required");return(n=d()(this,f()(t).call(this,e))).isStaticSource=!0,n.zoom={min:0,max:3},n.url=new URL(e.url,window.location),n.whenReady=E.a.json(n.url.href).then(function(e){for(var t in n.images=[],e){var r=i()(D.a,[n.projection].concat(o()(e[t])));n.images.push({image:t,extent:r})}if(n.images.length){n._spatialIndex=new b(n.images.length);var a=!0,s=!1,l=void 0;try{for(var u,h=n.images[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var c=u.value;n._spatialIndex.add(c.extent.west(),c.extent.south(),c.extent.east(),c.extent.north())}}catch(e){s=!0,l=e}finally{try{a||null==h.return||h.return()}finally{if(s)throw l}}n._spatialIndex.finish()}}).then(function(){if(!n.format&&n.images.length){var e=(t=_()(_()(n)),r=n.images[0].image,t.url.href.substr(0,t.url.href.lastIndexOf("/")+1)+r);return fetch(e,n.networkOptions).then(function(e){if(n.format=e.headers.get("Content-type"),"application/octet-stream"===n.format&&(n.format="image/x-bil"),!n.format)throw new Error("".concat(n.name,": could not detect layer format, please configure 'layer.format'."))})}var t,r}),n}return v()(t,e),h()(t,[{key:"urlFromExtent",value:function(e){var t=this.getSourceExtents(e);return this.url.href.substr(0,this.url.href.lastIndexOf("/")+1)+t.image}},{key:"handlingError",value:function(e,t){console.error("Source static: ".concat(this.url,", ").concat(e.response.status," error while trying to fetch data. Url was ").concat(t,"."),e)}},{key:"canTileTextureBeImproved",value:function(e,t){if(!this.images)return!1;var n=this.getSourceExtents(e);if(!n)return!1;if(!t||!t.image)return!0;var r=t.image.currentSrc;return this.url.href.substr(0,this.url.href.lastIndexOf("/")+1)+n.image!=r}},{key:"getSourceExtents",value:function(e){e=e.crs()===this.extent.crs()?e:e.as(this.extent.crs());var t,n=function(e,t,n){return e.search(n.west(),n.south(),n.east(),n.north()).map(function(e){return t[e]})}(this._spatialIndex,this.images,e),r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(e.isInside(l.extent))if(t){var u=t.extent.dimensions(),h=l.extent.dimensions();h.x<=u.x&&h.y<=u.y&&(t=l)}else t=l}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return t}},{key:"extentInsideLimit",value:function(e){return e.intersectsExtent(this.extent)}}]),t}(T.a);t.a=k},function(e,t,n){"use strict";var r=n(0),i=n(2),a=n(30),o=n(37),s=n(8),l=new r.Vector3(0,0,1),u=new r.Vector3(0,1,0);function h(e){return 1-a.a.WGS84ToY(e)}function c(){this.tmp={coords:[new i.e("EPSG:4326",0,0),new i.e("EPSG:4326",0,0)],position:new r.Vector3},this.type="e"}c.prototype.constructor=c,c.prototype.Prepare=function(e){e.nbRow=Math.pow(2,e.level+1);var t=h(e.extent.south());isFinite(t)||(t=0);var n=t%(1/e.nbRow);e.deltaUV1=(t-n)*e.nbRow,e.quatNormalToZ=(new r.Quaternion).setFromAxisAngle(u,-(.5*Math.PI-r.Math.degToRad(e.extent.center().latitude()))),e.projected={longitude:0,latitude:0}},c.prototype.Center=function(e){return e.center(this.tmp.coords[0]).as("EPSG:4978",this.tmp.coords[1]).xyz()},c.prototype.VertexPosition=function(e){return this.tmp.coords[0].set("EPSG:4326",e.projected.longitude,e.projected.latitude),this.tmp.coords[0].as("EPSG:4978",this.tmp.coords[1]).xyz(this.tmp.position),this.tmp.position},c.prototype.VertexNormal=function(){return this.tmp.coords[1].geodesicNormal},c.prototype.uProjecte=function(e,t){t.projected.longitude=a.a.UnitaryToLongitudeWGS84(e,t.extent)},c.prototype.vProjecte=function(e,t){t.projected.latitude=a.a.UnitaryToLatitudeWGS84(e,t.extent)},c.prototype.getUV_PM=function(e){var t=h(e.projected.latitude)*e.nbRow;return isFinite(t)||(t=0),t-e.deltaUV1};var d=new r.Quaternion,m=new r.Quaternion;c.prototype.computeSharableExtent=function(e){var t=Math.abs(e.west()-e.east())/2,n=new s.a(e.crs(),-t,t,e.south(),e.north()),i=r.Math.degToRad(e.west()-n.west()),a=r.Math.degToRad(90-e.center().latitude());return d.setFromAxisAngle(l,i),m.setFromAxisAngle(u,a),d.multiply(m),{sharableExtent:n,quaternion:d.clone(),position:this.Center(e)}},c.prototype.OBB=function(e){return new o.a(e.min,e.max)},t.a=c},function(e,t,n){(function(t){var r=function(){"use strict";var e,r=/\s*/g,i=/^\s*|\s*$/g,a=/\s+/;function o(e){if(!e||!e.length)return 0;for(var t=0,n=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return n}function s(e,t){return e.getElementsByTagName(t)}function l(e,t){return e.getAttribute(t)}function u(e,t){return parseFloat(l(e,t))}function h(e,t){var n=s(e,t);return n.length?n[0]:null}function c(e){for(var t=0,n=[];t<e.length;t++)n[t]=parseFloat(e[t]);return n}function d(e){var t;return e&&(t=e).normalize&&t.normalize(),e&&e.textContent||""}function m(e,t){var n,r,i={};for(r=0;r<t.length;r++)(n=h(e,t[r]))&&(i[t[r]]=d(n));return i}function f(e,t){for(var n in t)e[n]=t[n]}function p(e){return c(e.replace(r,"").split(","))}function v(e){for(var t=e.replace(i,"").split(a),n=[],r=0;r<t.length;r++)n.push(p(t[r]));return n}function g(e){var t,n=[u(e,"lon"),u(e,"lat")],r=h(e,"ele"),i=h(e,"gpxtpx:hr")||h(e,"hr"),a=h(e,"time");return r&&(t=parseFloat(d(r)),isNaN(t)||n.push(t)),{coordinates:n,time:a?d(a):null,heartRate:i?parseFloat(d(i)):null}}function _(t){return void 0!==t.xml?t.xml:e.serializeToString(t)}return"undefined"!=typeof XMLSerializer?e=new XMLSerializer:"object"!=typeof t||t.browser||(e=new(n(175).XMLSerializer)),{kml:function(e){for(var t={type:"FeatureCollection",features:[]},n={},r={},i={},a=["Polygon","LineString","Point","Track","gx:Track"],u=s(e,"Placemark"),m=s(e,"Style"),f=s(e,"StyleMap"),g=0;g<m.length;g++){var y=o(_(m[g])).toString(16);n["#"+l(m[g],"id")]=y,r[y]=m[g]}for(var M=0;M<f.length;M++){n["#"+l(f[M],"id")]=o(_(f[M])).toString(16);for(var x=s(f[M],"Pair"),b={},w=0;w<x.length;w++)b[d(h(x[w],"key"))]=d(h(x[w],"styleUrl"));i["#"+l(f[M],"id")]=b}for(var L=0;L<u.length;L++)t.features=t.features.concat(T(u[L]));function q(e){var t,n;return"#"===(e=e||"").substr(0,1)&&(e=e.substr(1)),6!==e.length&&3!==e.length||(t=e),8===e.length&&(n=parseInt(e.substr(0,2),16)/255,t="#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)),[t,isNaN(n)?void 0:n]}function S(e){var t=s(e,"coord"),n=[],r=[];0===t.length&&(t=s(e,"gx:coord"));for(var i=0;i<t.length;i++)n.push(c(d(t[i]).split(" ")));for(var a=s(e,"when"),o=0;o<a.length;o++)r.push(d(a[o]));return{coords:n,times:r}}function T(e){var t,o=function e(t){var n,r,i,o,l,u=[],c=[];if(h(t,"MultiGeometry"))return e(h(t,"MultiGeometry"));if(h(t,"MultiTrack"))return e(h(t,"MultiTrack"));if(h(t,"gx:MultiTrack"))return e(h(t,"gx:MultiTrack"));for(i=0;i<a.length;i++)if(r=s(t,a[i]))for(o=0;o<r.length;o++)if(n=r[o],"Point"===a[i])u.push({type:"Point",coordinates:p(d(h(n,"coordinates")))});else if("LineString"===a[i])u.push({type:"LineString",coordinates:v(d(h(n,"coordinates")))});else if("Polygon"===a[i]){var m=s(n,"LinearRing"),f=[];for(l=0;l<m.length;l++)f.push(v(d(h(m[l],"coordinates"))));u.push({type:"Polygon",coordinates:f})}else if("Track"===a[i]||"gx:Track"===a[i]){var g=S(n);u.push({type:"LineString",coordinates:g.coords}),g.times.length&&c.push(g.times)}return{geoms:u,coordTimes:c}}(e),u={},c=d(h(e,"name")),m=d(h(e,"address")),f=d(h(e,"styleUrl")),g=d(h(e,"description")),_=h(e,"TimeSpan"),y=h(e,"TimeStamp"),M=h(e,"ExtendedData"),x=h(e,"LineStyle"),b=h(e,"PolyStyle"),w=h(e,"visibility");if(!o.geoms.length)return[];if(c&&(u.name=c),m&&(u.address=m),f){"#"!==f[0]&&(f="#"+f),u.styleUrl=f,n[f]&&(u.styleHash=n[f]),i[f]&&(u.styleMapHash=i[f],u.styleHash=n[i[f].normal]);var L=r[u.styleHash];L&&(x||(x=h(L,"LineStyle")),b||(b=h(L,"PolyStyle")))}if(g&&(u.description=g),_){var T=d(h(_,"begin")),E=d(h(_,"end"));u.timespan={begin:T,end:E}}if(y&&(u.timestamp=d(h(y,"when"))),x){var D=q(d(h(x,"color"))),k=D[0],A=D[1],P=parseFloat(d(h(x,"width")));k&&(u.stroke=k),isNaN(A)||(u["stroke-opacity"]=A),isNaN(P)||(u["stroke-width"]=P)}if(b){var C=q(d(h(b,"color"))),R=C[0],Y=C[1],O=d(h(b,"fill")),I=d(h(b,"outline"));R&&(u.fill=R),isNaN(Y)||(u["fill-opacity"]=Y),O&&(u["fill-opacity"]="1"===O?u["fill-opacity"]||1:0),I&&(u["stroke-opacity"]="1"===I?u["stroke-opacity"]||1:0)}if(M){var F=s(M,"Data"),H=s(M,"SimpleData");for(t=0;t<F.length;t++)u[F[t].getAttribute("name")]=d(h(F[t],"value"));for(t=0;t<H.length;t++)u[H[t].getAttribute("name")]=d(H[t])}w&&(u.visibility=d(w)),o.coordTimes.length&&(u.coordTimes=1===o.coordTimes.length?o.coordTimes[0]:o.coordTimes);var N={type:"Feature",geometry:1===o.geoms.length?o.geoms[0]:{type:"GeometryCollection",geometries:o.geoms},properties:u};return l(e,"id")&&(N.id=l(e,"id")),[N]}return t},gpx:function(e){var t,n,r=s(e,"trk"),i=s(e,"rte"),a=s(e,"wpt"),o={type:"FeatureCollection",features:[]};for(t=0;t<r.length;t++)(n=c(r[t]))&&o.features.push(n);for(t=0;t<i.length;t++)(n=p(i[t]))&&o.features.push(n);for(t=0;t<a.length;t++)o.features.push(v(a[t]));function u(e,t){var n=s(e,t),r=[],i=[],a=[],o=n.length;if(o<2)return{};for(var l=0;l<o;l++){var u=g(n[l]);r.push(u.coordinates),u.time&&i.push(u.time),u.heartRate&&a.push(u.heartRate)}return{line:r,times:i,heartRates:a}}function c(e){for(var t,n=s(e,"trkseg"),r=[],i=[],a=[],o=0;o<n.length;o++)(t=u(n[o],"trkpt"))&&(t.line&&r.push(t.line),t.times&&t.times.length&&i.push(t.times),t.heartRates&&t.heartRates.length&&a.push(t.heartRates));if(0!==r.length){var l=y(e);return f(l,_(h(e,"extensions"))),i.length&&(l.coordTimes=1===r.length?i[0]:i),a.length&&(l.heartRates=1===r.length?a[0]:a),{type:"Feature",properties:l,geometry:{type:1===r.length?"LineString":"MultiLineString",coordinates:1===r.length?r[0]:r}}}}function p(e){var t=u(e,"rtept");if(t.line){var n=y(e);return f(n,_(h(e,"extensions"))),{type:"Feature",properties:n,geometry:{type:"LineString",coordinates:t.line}}}}function v(e){var t=y(e);return f(t,m(e,["sym"])),{type:"Feature",properties:t,geometry:{type:"Point",coordinates:g(e).coordinates}}}function _(e){var t={};if(e){var n=h(e,"line");if(n){var r=d(h(n,"color")),i=parseFloat(d(h(n,"opacity"))),a=parseFloat(d(h(n,"width")));r&&(t.stroke=r),isNaN(i)||(t["stroke-opacity"]=i),isNaN(a)||(t["stroke-width"]=96*a/25.4)}}return t}function y(e){var t=m(e,["name","cmt","desc","type","time","keywords"]),n=s(e,"link");n.length&&(t.links=[]);for(var r,i=0;i<n.length;i++)f(r={href:l(n[i],"href")},m(n[i],["text","type"])),t.links.push(r);return t}return o}}}();e.exports=r}).call(this,n(119))},,,,,,,,function(e,t,n){"use strict";var r=n(0),i=n(18),a=n(4),o=n.n(a),s=n(5),l=n.n(s),u=n(9),h=n.n(u),c=n(7),d=n.n(c),m=n(10),f=n.n(m),p=n(59),v=n(8),g=n(37),_=n(2),y=n(29);function M(e,t){if(this.tmp={coords:new _.e("EPSG:4326",0,0),position:new r.Vector3,normal:new r.Vector3(0,0,1)},void 0===e)throw new Error("Projection type must be defined");if(e===y.a.SPHERICAL)this.type="s",this.radius=100;else{if(e!==y.a.CYLINDRICAL)throw new Error("Unsupported panorama projection type ".concat(e));if(!t)throw new Error("Image ratio must be defined when using cylindrical projection");this.type="c",this.height=200,this.radius=t*this.height/(2*Math.PI)}this.projectionType=e}M.prototype.constructor=M;var x=new r.Vector3(0,1,0);M.prototype.Prepare=function(e){var t=.5*(e.extent.north()+e.extent.south());this.projectionType===y.a.SPHERICAL?(e.quatNormalToZ=(new r.Quaternion).setFromAxisAngle(x,r.Math.degToRad(90-t)),e.projected={theta:0,phi:0,radius:this.radius}):(e.quatNormalToZ=(new r.Quaternion).setFromAxisAngle(x,.5*Math.PI),e.projected={theta:0,radius:this.radius,y:0})},M.prototype.Center=function(e){var t={extent:e};return this.Prepare(t),this.uProjecte(.5,t),this.vProjecte(.5,t),this.VertexPosition(t).clone()},M.prototype.VertexPosition=function(e){return this.projectionType===y.a.SPHERICAL?this.tmp.position.setFromSpherical(e.projected):this.tmp.position.setFromCylindrical(e.projected),this.tmp.position.set(this.tmp.position.z,this.tmp.position.x,this.tmp.position.y),this.tmp.position},M.prototype.VertexNormal=function(){return this.tmp.position.clone().negate().normalize()},M.prototype.uProjecte=function(e,t){t.projected.theta=r.Math.degToRad(90-r.Math.lerp(t.extent.east(),t.extent.west(),1-e))},M.prototype.vProjecte=function(e,t){this.projectionType===y.a.SPHERICAL?t.projected.phi=r.Math.degToRad(90-r.Math.lerp(t.extent.north(),t.extent.south(),1-e)):t.projected.y=this.height*r.Math.lerp(t.extent.south(),t.extent.north(),e)/180},M.prototype.OBB=function(e){return new g.a(e.min,e.max)};var b=new r.Vector3(0,1,0),w=new r.Vector3(0,0,1),L=new r.Quaternion,q=new r.Quaternion;M.prototype.computeSharableExtent=function(e){var t=Math.abs(e.west()-e.east())/2,n=new v.a(e.crs(),-t,t,e.south(),e.north()),i=e.west()-n.west(),a=90-(this.projectionType===y.a.CYLINDRICAL?0:.5*(e.north()+e.south()));return L.setFromAxisAngle(w,-r.Math.degToRad(i)),q.setFromAxisAngle(b,-r.Math.degToRad(a)),L.multiply(q),{sharableExtent:n,quaternion:L.clone(),position:this.Center(e)}};var S=M,T=new r.Vector2(512,256),E=new r.Vector3,D=function(e){function t(e,n,i,a){var s,l;if(o()(this,t),console.warn("Deprecation warning: this layer is going to be removed in iTowns 2.7.0, please consider stop using it."),i===y.a.SPHERICAL)l=[new v.a("EPSG:4326",{west:-180,east:0,north:90,south:-90}),new v.a("EPSG:4326",{west:0,east:180,north:90,south:-90})];else{if(i!==y.a.CYLINDRICAL)throw new Error("Unsupported panorama projection type ".concat(i,".\n                Only ProjectionType.SPHERICAL and ProjectionType.CYLINDRICAL are supported"));l=[new v.a("EPSG:4326",{west:-180,east:-90,north:90,south:-90}),new v.a("EPSG:4326",{west:-90,east:0,north:90,south:-90}),new v.a("EPSG:4326",{west:0,east:90,north:90,south:-90}),new v.a("EPSG:4326",{west:90,east:180,north:90,south:-90})]}var u=new S(i,a.ratio||1);return s=h()(this,d()(t).call(this,e,a.object3d||new r.Group,l,u,a)),n.xyz(s.object3d.position),s.object3d.quaternion.setFromUnitVectors(new r.Vector3(0,0,1),n.geodesicNormal),s.object3d.updateMatrixWorld(!0),s.extent=new v.a("EPSG:4326",{west:-180,east:180,north:90,south:-90}),s.disableSkirt=!0,s.options.segments=8,s.options.quality=.5,s}return f()(t,e),l()(t,[{key:"culling",value:function(e,t){return!t.isBox3Visible(e.obb.box3D,e.obb.matrixWorld)}},{key:"subdivision",value:function(e,t,n){if(n.level<1)return!0;if((this.maxSubdivisionLevel||10)<=n.level)return!1;var r=n.obb;r.updateMatrixWorld();var i=e.camera.box3SizeOnScreen(r.box3D,r.matrixWorld);i.min.z=0,i.max.z=0,i.getCenter(E);var a=1+Math.max(0,1-E.length()),o=.5*(i.max.x-i.min.x)*e.camera.width,s=.5*(i.max.y-i.min.y)*e.camera.height,l=t.options.quality||1;return a*o*l>=T.x&&a*s*l>=T.y}}]),t}(p.a);function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return console.warn("createPanoramaLayer is deprecated, use the PanoramaLayer class instead."),new D(e,t,n,r)}function A(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.warn("Deprecation warning: this view is going to be removed in iTowns 2.7.0, please consider stop using it."),r.Object3D.DefaultUp.set(0,0,1),i.b.call(this,t.crs,e,a);var o=this.camera.camera3D;t.xyz(o.position),o.fov=45,o.near=.1,o.far=1e3,o.up=t.geodesicNormal,o.lookAt(new r.Vector3(0,1,0).add(o.position)),o.updateProjectionMatrix&&o.updateProjectionMatrix(),o.updateMatrixWorld(),this.tileLayer=new D("panorama",t,n,a),i.b.prototype.addLayer.call(this,this.tileLayer)}n.d(t,"a",function(){return k}),A.prototype=Object.create(i.b.prototype),A.prototype.constructor=A,A.prototype.addLayer=function(e){if(!e)return new Promise(function(e,t){return t(new Error("layer is undefined"))});if("color"!=e.type)throw new Error("Unsupported layer type ".concat(e.type," (PanoramaView only support 'color' layers)"));return i.b.prototype.addLayer.call(this,e,this.tileLayer)};t.b=A},function(e,t,n){var r=n(507)();r.helpers=n(15),n(511)(r),r.Animation=n(208),r.animationService=n(209),r.defaults=n(24),r.Element=n(66),r.elements=n(85),r.Interaction=n(210),r.layouts=n(120),r.platform=n(211),r.plugins=n(212),r.Scale=n(121),r.scaleService=n(84),r.Ticks=n(122),r.Tooltip=n(213),n(522)(r),n(523)(r),n(524)(r),n(525)(r),n(526)(r),n(527)(r),n(528)(r),n(529)(r),n(532)(r),n(533)(r),n(534)(r),n(535)(r),n(536)(r),n(537)(r),n(538)(r),n(539)(r),n(540)(r),n(541)(r),n(542)(r),n(543)(r),n(544)(r),n(545)(r);var i=n(546);for(var a in i)i.hasOwnProperty(a)&&r.plugins.register(i[a]);r.platform.initialize(),e.exports=r,"undefined"!=typeof window&&(window.Chart=r),r.Legend=i.legend._element,r.Title=i.title._element,r.pluginService=r.plugins,r.PluginBase=r.Element.extend({}),r.canvasHelpers=r.helpers.canvas,r.layoutService=r.layouts},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,,function(e){e.exports={a:"2.5.0"}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";var r=n(118);function i(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(a,this,t),this.length=this._features.length}function a(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){var t=null,n=e.readVarint()+e.pos;for(;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}e.exports=i,i.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,t,this.extent,this._keys,this._values)}},function(e,t,n){"use strict";var r=n(174);function i(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(a,this,t)}function a(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){var n=e.readVarint()+e.pos;for(;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,a=0,o=0,s=0,l=[];e.pos<n;){if(a<=0){var u=e.readVarint();i=7&u,a=u>>3}if(a--,1===i||2===i)o+=e.readSVarint(),s+=e.readSVarint(),1===i&&(t&&l.push(t),t=[]),t.push(new r(o,s));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&l.push(t),l},i.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(r<=0){var h=e.readVarint();n=7&h,r=h>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<l&&(l=a),a>u&&(u=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,s,u]},i.prototype.toGeoJSON=function(e,t,n){var r,a,s=this.extent*Math.pow(2,n),l=this.extent*e,u=this.extent*t,h=this.loadGeometry(),c=i.types[this.type];function d(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+u)/s;e[t]=[360*(n.x+l)/s-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var m=[];for(r=0;r<h.length;r++)m[r]=h[r][0];d(h=m);break;case 2:for(r=0;r<h.length;r++)d(h[r]);break;case 3:for(h=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var s=o(e[a]);0!==s&&(void 0===r&&(r=s<0),r===s<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}n&&i.push(n);return i}(h),r=0;r<h.length;r++)for(a=0;a<h[r].length;a++)d(h[r][a])}1===h.length?h=h[0]:c="Multi"+c;var f={type:"Feature",geometry:{type:c,coordinates:h},properties:this.properties};return"id"in this&&(f.id=this.id),f}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],h=!1,c=-1;function d(){h&&l&&(h=!1,l.length?u=l.concat(u):c=-1,u.length&&m())}function m(){if(!h){var e=s(d);h=!0;for(var t=u.length;t;){for(l=u,u=[];++c<t;)l&&l[c].run();c=-1,t=u.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||h||s(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(15);function i(e,t){return r.where(e,function(e){return e.position===t})}function a(e,t){e.forEach(function(e,t){return e._tmpIndex_=t,e}),e.sort(function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r._tmpIndex_-i._tmpIndex_:r.weight-i.weight}),e.forEach(function(e){delete e._tmpIndex_})}e.exports={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var r,i=["fullWidth","position","weight"],a=i.length,o=0;o<a;++o)r=i[o],n.hasOwnProperty(r)&&(t[r]=n[r])},update:function(e,t,n){if(e){var o=e.options.layout||{},s=r.options.toPadding(o.padding),l=s.left,u=s.right,h=s.top,c=s.bottom,d=i(e.boxes,"left"),m=i(e.boxes,"right"),f=i(e.boxes,"top"),p=i(e.boxes,"bottom"),v=i(e.boxes,"chartArea");a(d,!0),a(m,!1),a(f,!0),a(p,!1);var g=t-l-u,_=n-h-c,y=_/2,M=(t-g/2)/(d.length+m.length),x=(n-y)/(f.length+p.length),b=g,w=_,L=[];r.each(d.concat(m,f,p),function(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?g:b,x),w-=t.height):(t=e.update(M,w),b-=t.width),L.push({horizontal:n,minSize:t,box:e})});var q=0,S=0,T=0,E=0;r.each(f.concat(p),function(e){if(e.getPadding){var t=e.getPadding();q=Math.max(q,t.left),S=Math.max(S,t.right)}}),r.each(d.concat(m),function(e){if(e.getPadding){var t=e.getPadding();T=Math.max(T,t.top),E=Math.max(E,t.bottom)}});var D=l,k=u,A=h,P=c;r.each(d.concat(m),H),r.each(d,function(e){D+=e.width}),r.each(m,function(e){k+=e.width}),r.each(f.concat(p),H),r.each(f,function(e){A+=e.height}),r.each(p,function(e){P+=e.height}),r.each(d.concat(m),function(e){var t=r.findNextWhere(L,function(t){return t.box===e}),n={left:0,right:0,top:A,bottom:P};t&&e.update(t.minSize.width,w,n)}),D=l,k=u,A=h,P=c,r.each(d,function(e){D+=e.width}),r.each(m,function(e){k+=e.width}),r.each(f,function(e){A+=e.height}),r.each(p,function(e){P+=e.height});var C=Math.max(q-D,0);D+=C,k+=Math.max(S-k,0);var R=Math.max(T-A,0);A+=R,P+=Math.max(E-P,0);var Y=n-A-P,O=t-D-k;O===b&&Y===w||(r.each(d,function(e){e.height=Y}),r.each(m,function(e){e.height=Y}),r.each(f,function(e){e.fullWidth||(e.width=O)}),r.each(p,function(e){e.fullWidth||(e.width=O)}),w=Y,b=O);var I=l+C,F=h+R;r.each(d.concat(f),N),I+=b,F+=w,r.each(m,N),r.each(p,N),e.chartArea={left:D,top:A,right:D+b,bottom:A+w},r.each(v,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(b,w)})}function H(e){var t=r.findNextWhere(L,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(D,q),right:Math.max(k,S),top:0,bottom:0};e.update(e.fullWidth?g:b,_/2,n)}else e.update(t.minSize.width,w)}function N(e){e.isHorizontal()?(e.left=e.fullWidth?l:D,e.right=e.fullWidth?t-u:D+b,e.top=F,e.bottom=F+e.height,F=e.bottom):(e.left=I,e.right=I+e.width,e.top=A,e.bottom=A+w,I=e.right)}}}},function(e,t,n){"use strict";var r=n(24),i=n(66),a=n(15),o=n(122);function s(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(e[t].label);return r}function l(e,t,n){var r=e.getPixelForTick(t);return n&&(r-=0===t?(e.getPixelForTick(1)-r)/2:(r-e.getPixelForTick(t-1))/2),r}function u(e,t,n){return a.isArray(t)?a.longestText(e,n,t):e.measureText(t).width}function h(e){var t=a.valueOrDefault,n=r.global,i=t(e.fontSize,n.defaultFontSize),o=t(e.fontStyle,n.defaultFontStyle),s=t(e.fontFamily,n.defaultFontFamily);return{size:i,style:o,family:s,font:a.fontString(i,o,s)}}function c(e){return a.options.toLineHeight(a.valueOrDefault(e.lineHeight,1.2),a.valueOrDefault(e.fontSize,r.global.defaultFontSize))}r._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:o.formatters.values,minor:{},major:{}}}),e.exports=i.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;for(var t in!1===e.minor&&(e.minor={display:!1}),!1===e.major&&(e.major={display:!1}),e)"major"!==t&&"minor"!==t&&(void 0===e.minor[t]&&(e.minor[t]=e[t]),void 0===e.major[t]&&(e.major[t]=e[t]))},beforeUpdate:function(){a.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var r,i,o,s,l,u,h=this;for(h.beforeUpdate(),h.maxWidth=e,h.maxHeight=t,h.margins=a.extend({left:0,right:0,top:0,bottom:0},n),h.longestTextCache=h.longestTextCache||{},h.beforeSetDimensions(),h.setDimensions(),h.afterSetDimensions(),h.beforeDataLimits(),h.determineDataLimits(),h.afterDataLimits(),h.beforeBuildTicks(),l=h.buildTicks()||[],h.afterBuildTicks(),h.beforeTickToLabelConversion(),o=h.convertTicksToLabels(l)||h.ticks,h.afterTickToLabelConversion(),h.ticks=o,r=0,i=o.length;r<i;++r)s=o[r],(u=l[r])?u.label=s:l.push(u={label:s,major:!1});return h._ticks=l,h.beforeCalculateTickRotation(),h.calculateTickRotation(),h.afterCalculateTickRotation(),h.beforeFit(),h.fit(),h.afterFit(),h.afterUpdate(),h.minSize},afterUpdate:function(){a.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){a.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){a.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){a.callback(this.options.beforeDataLimits,[this])},determineDataLimits:a.noop,afterDataLimits:function(){a.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){a.callback(this.options.beforeBuildTicks,[this])},buildTicks:a.noop,afterBuildTicks:function(){a.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){a.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){a.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){a.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,n=e.options.ticks,r=s(e._ticks),i=h(n);t.font=i.font;var o=n.minRotation||0;if(r.length&&e.options.display&&e.isHorizontal())for(var l,u=a.longestText(t,i.font,r,e.longestTextCache),c=u,d=e.getPixelForTick(1)-e.getPixelForTick(0)-6;c>d&&o<n.maxRotation;){var m=a.toRadians(o);if(l=Math.cos(m),Math.sin(m)*u>e.maxHeight){o--;break}o++,c=l*u}e.labelRotation=o},afterCalculateTickRotation:function(){a.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){a.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=s(e._ticks),r=e.options,i=r.ticks,o=r.scaleLabel,l=r.gridLines,d=r.display,m=e.isHorizontal(),f=h(i),p=r.gridLines.tickMarkLength;if(t.width=m?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:d&&l.drawTicks?p:0,t.height=m?d&&l.drawTicks?p:0:e.maxHeight,o.display&&d){var v=c(o)+a.options.toPadding(o.padding).height;m?t.height+=v:t.width+=v}if(i.display&&d){var g=a.longestText(e.ctx,f.font,n,e.longestTextCache),_=a.numberOfLabelLines(n),y=.5*f.size,M=e.options.ticks.padding;if(m){e.longestLabelWidth=g;var x=a.toRadians(e.labelRotation),b=Math.cos(x),w=Math.sin(x)*g+f.size*_+y*(_-1)+y;t.height=Math.min(e.maxHeight,t.height+w+M),e.ctx.font=f.font;var L=u(e.ctx,n[0],f.font),q=u(e.ctx,n[n.length-1],f.font);0!==e.labelRotation?(e.paddingLeft="bottom"===r.position?b*L+3:b*y+3,e.paddingRight="bottom"===r.position?b*y+3:b*q+3):(e.paddingLeft=L/2+3,e.paddingRight=q/2+3)}else i.mirror?g=0:g+=M+y,t.width=Math.min(e.maxWidth,t.width+g),e.paddingTop=f.size/2,e.paddingBottom=f.size/2}e.handleMargins(),e.width=t.width,e.height=t.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){a.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(a.isNullOrUndef(e))return NaN;if("number"==typeof e&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:a.noop,getPixelForValue:a.noop,getValueForPixel:a.noop,getPixelForTick:function(e){var t=this,n=t.options.offset;if(t.isHorizontal()){var r=(t.width-(t.paddingLeft+t.paddingRight))/Math.max(t._ticks.length-(n?0:1),1),i=r*e+t.paddingLeft;n&&(i+=r/2);var a=t.left+Math.round(i);return a+=t.isFullWidth()?t.margins.left:0}var o=t.height-(t.paddingTop+t.paddingBottom);return t.top+e*(o/(t._ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=(t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft,r=t.left+Math.round(n);return r+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},_autoSkip:function(e){var t,n,r,i,o=this,s=o.isHorizontal(),l=o.options.ticks.minor,u=e.length,h=a.toRadians(o.labelRotation),c=Math.cos(h),d=o.longestLabelWidth*c,m=[];for(l.maxTicksLimit&&(i=l.maxTicksLimit),s&&(t=!1,(d+l.autoSkipPadding)*u>o.width-(o.paddingLeft+o.paddingRight)&&(t=1+Math.floor((d+l.autoSkipPadding)*u/(o.width-(o.paddingLeft+o.paddingRight)))),i&&u>i&&(t=Math.max(t,Math.floor(u/i)))),n=0;n<u;n++)r=e[n],(t>1&&n%t>0||n%t==0&&n+t>=u)&&n!==u-1&&delete r.label,m.push(r);return m},draw:function(e){var t=this,n=t.options;if(n.display){var i=t.ctx,o=r.global,s=n.ticks.minor,u=n.ticks.major||s,d=n.gridLines,m=n.scaleLabel,f=0!==t.labelRotation,p=t.isHorizontal(),v=s.autoSkip?t._autoSkip(t.getTicks()):t.getTicks(),g=a.valueOrDefault(s.fontColor,o.defaultFontColor),_=h(s),y=a.valueOrDefault(u.fontColor,o.defaultFontColor),M=h(u),x=d.drawTicks?d.tickMarkLength:0,b=a.valueOrDefault(m.fontColor,o.defaultFontColor),w=h(m),L=a.options.toPadding(m.padding),q=a.toRadians(t.labelRotation),S=[],T=t.options.gridLines.lineWidth,E="right"===n.position?t.left:t.right-T-x,D="right"===n.position?t.left+x:t.right,k="bottom"===n.position?t.top+T:t.bottom-x-T,A="bottom"===n.position?t.top+T+x:t.bottom+T;if(a.each(v,function(r,i){if(!a.isNullOrUndef(r.label)){var u,h,c,m,g,_,y,M,b,w,L,P,C,R,Y=r.label;i===t.zeroLineIndex&&n.offset===d.offsetGridLines?(u=d.zeroLineWidth,h=d.zeroLineColor,c=d.zeroLineBorderDash,m=d.zeroLineBorderDashOffset):(u=a.valueAtIndexOrDefault(d.lineWidth,i),h=a.valueAtIndexOrDefault(d.color,i),c=a.valueOrDefault(d.borderDash,o.borderDash),m=a.valueOrDefault(d.borderDashOffset,o.borderDashOffset));var O="middle",I="middle",F=s.padding;if(p){var H=x+F;"bottom"===n.position?(I=f?"middle":"top",O=f?"right":"center",R=t.top+H):(I=f?"middle":"bottom",O=f?"left":"center",R=t.bottom-H);var N=l(t,i,d.offsetGridLines&&v.length>1);N<t.left&&(h="rgba(0,0,0,0)"),N+=a.aliasPixel(u),C=t.getPixelForTick(i)+s.labelOffset,g=y=b=L=N,_=k,M=A,w=e.top,P=e.bottom+T}else{var j,z="left"===n.position;s.mirror?(O=z?"left":"right",j=F):(O=z?"right":"left",j=x+F),C=z?t.right-j:t.left+j;var B=l(t,i,d.offsetGridLines&&v.length>1);B<t.top&&(h="rgba(0,0,0,0)"),B+=a.aliasPixel(u),R=t.getPixelForTick(i)+s.labelOffset,g=E,y=D,b=e.left,L=e.right+T,_=M=w=P=B}S.push({tx1:g,ty1:_,tx2:y,ty2:M,x1:b,y1:w,x2:L,y2:P,labelX:C,labelY:R,glWidth:u,glColor:h,glBorderDash:c,glBorderDashOffset:m,rotation:-1*q,label:Y,major:r.major,textBaseline:I,textAlign:O})}}),a.each(S,function(e){if(d.display&&(i.save(),i.lineWidth=e.glWidth,i.strokeStyle=e.glColor,i.setLineDash&&(i.setLineDash(e.glBorderDash),i.lineDashOffset=e.glBorderDashOffset),i.beginPath(),d.drawTicks&&(i.moveTo(e.tx1,e.ty1),i.lineTo(e.tx2,e.ty2)),d.drawOnChartArea&&(i.moveTo(e.x1,e.y1),i.lineTo(e.x2,e.y2)),i.stroke(),i.restore()),s.display){i.save(),i.translate(e.labelX,e.labelY),i.rotate(e.rotation),i.font=e.major?M.font:_.font,i.fillStyle=e.major?y:g,i.textBaseline=e.textBaseline,i.textAlign=e.textAlign;var n=e.label;if(a.isArray(n))for(var r=n.length,o=1.5*_.size,l=t.isHorizontal()?0:-o*(r-1)/2,u=0;u<r;++u)i.fillText(""+n[u],0,l),l+=o;else i.fillText(n,0,0);i.restore()}}),m.display){var P,C,R=0,Y=c(m)/2;if(p)P=t.left+(t.right-t.left)/2,C="bottom"===n.position?t.bottom-Y-L.bottom:t.top+Y+L.top;else{var O="left"===n.position;P=O?t.left+Y+L.top:t.right-Y-L.top,C=t.top+(t.bottom-t.top)/2,R=O?-.5*Math.PI:.5*Math.PI}i.save(),i.translate(P,C),i.rotate(R),i.textAlign="center",i.textBaseline="middle",i.fillStyle=b,i.font=w.font,i.fillText(m.labelString,0,0),i.restore()}if(d.drawBorder){i.lineWidth=a.valueAtIndexOrDefault(d.lineWidth,0),i.strokeStyle=a.valueAtIndexOrDefault(d.color,0);var I=t.left,F=t.right+T,H=t.top,N=t.bottom+T,j=a.aliasPixel(i.lineWidth);p?(H=N="top"===n.position?t.bottom:t.top,H+=j,N+=j):(I=F="left"===n.position?t.right:t.left,I+=j,F+=j),i.beginPath(),i.moveTo(I,H),i.lineTo(F,N),i.stroke()}}}})},function(e,t,n){"use strict";var r=n(15);e.exports={formatters:{values:function(e){return r.isArray(e)?e:""+e},linear:function(e,t,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&e!==Math.floor(e)&&(i=e-Math.floor(e));var a=r.log10(Math.abs(i)),o="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var s=r.log10(Math.abs(e));o=e.toExponential(Math.floor(s)-Math.floor(a))}else{var l=-1*Math.floor(a);l=Math.max(Math.min(l,20),0),o=e.toFixed(l)}else o="0";return o},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(r.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}}},function(e,t,n){var r=n(168),i=n(169),a=n(170);e.exports=function(e,t){return r(e)||i(e,t)||a()}},function(e,t,n){var r;e.exports=function e(t,n,i){function a(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof r&&r;if(!l&&u)return r(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return a(n||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof r&&r,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){var r,i,a,o,s,l={}.hasOwnProperty;r=e("./PriorityQueue/AbstractPriorityQueue"),i=e("./PriorityQueue/ArrayStrategy"),o=e("./PriorityQueue/BinaryHeapStrategy"),a=e("./PriorityQueue/BHeapStrategy"),(s=function(e){function t(e){e||(e={}),e.strategy||(e.strategy=o),e.comparator||(e.comparator=function(e,t){return(e||0)-(t||0)}),t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t}(r)).ArrayStrategy=i,s.BinaryHeapStrategy=o,s.BHeapStrategy=a,t.exports=s},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(e,t,n){t.exports=function(){function e(e){var t;if(null==(null!=e?e.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=e?e.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new e.strategy(e),this.length=(null!=e&&null!=(t=e.initialValues)?t.length:void 0)||0}return e.prototype.queue=function(e){this.length++,this.priv.queue(e)},e.prototype.dequeue=function(e){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},e.prototype.peek=function(e){if(!this.length)throw"Empty queue";return this.priv.peek()},e.prototype.clear=function(){return this.length=0,this.priv.clear()},e}()},{}],3:[function(e,t,n){var r;r=function(e,t,n){var r,i,a;for(i=0,r=e.length;i<r;)n(e[a=i+r>>>1],t)>=0?i=a+1:r=a;return i},t.exports=function(){function e(e){var t;this.options=e,this.comparator=this.options.comparator,this.data=(null!=(t=this.options.initialValues)?t.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return e.prototype.queue=function(e){var t;t=r(this.data,e,this.comparator),this.data.splice(t,0,e)},e.prototype.dequeue=function(){return this.data.pop()},e.prototype.peek=function(){return this.data[this.data.length-1]},e.prototype.clear=function(){this.data.length=0},e}()},{}],4:[function(e,t,n){t.exports=function(){function e(e){var t,n,r,i,a,o,s,l;for(this.comparator=(null!=e?e.comparator:void 0)||function(e,t){return e-t},this.pageSize=(null!=e?e.pageSize:void 0)||512,this.length=0,s=0;1<<s<this.pageSize;)s+=1;if(1<<s!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=s,this._emptyMemoryPageTemplate=t=[],n=0,a=this.pageSize;0<=a?n<a:n>a;0<=a?++n:--n)t.push(null);if(this._memory=[],this._mask=this.pageSize-1,e.initialValues)for(o=e.initialValues,r=0,i=o.length;r<i;r++)l=o[r],this.queue(l)}return e.prototype.queue=function(e){this.length+=1,this._write(this.length,e),this._bubbleUp(this.length,e)},e.prototype.dequeue=function(){var e,t;return e=this._read(1),t=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,t),this._bubbleDown(1,t)),e},e.prototype.peek=function(){return this._read(1)},e.prototype.clear=function(){this.length=0,this._memory.length=0},e.prototype._write=function(e,t){var n;for(n=e>>this._shift;n>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[n][e&this._mask]=t},e.prototype._read=function(e){return this._memory[e>>this._shift][e&this._mask]},e.prototype._bubbleUp=function(e,t){var n,r,i,a;for(n=this.comparator;e>1&&(r=e&this._mask,e<this.pageSize||r>3?i=e&~this._mask|r>>1:r<2?(i=e-this.pageSize>>this._shift,i+=i&~(this._mask>>1),i|=this.pageSize>>1):i=e-2,a=this._read(i),!(n(a,t)<0));)this._write(i,t),this._write(e,a),e=i},e.prototype._bubbleDown=function(e,t){var n,r,i,a,o;for(o=this.comparator;e<this.length;)if(e>this._mask&&!(e&this._mask-1)?n=r=e+2:e&this.pageSize>>1?(n=(e&~this._mask)>>1,n=1+(n|=e&this._mask>>1)<<this._shift,r=n+1):(n=e+(e&this._mask),r=n+1),n!==r&&r<=this.length)if(i=this._read(n),a=this._read(r),o(i,t)<0&&o(i,a)<=0)this._write(n,t),this._write(e,i),e=n;else{if(!(o(a,t)<0))break;this._write(r,t),this._write(e,a),e=r}else{if(!(n<=this.length))break;if(i=this._read(n),!(o(i,t)<0))break;this._write(n,t),this._write(e,i),e=n}},e}()},{}],5:[function(e,t,n){t.exports=function(){function e(e){var t;this.comparator=(null!=e?e.comparator:void 0)||function(e,t){return e-t},this.length=0,this.data=(null!=(t=e.initialValues)?t.slice(0):void 0)||[],this._heapify()}return e.prototype._heapify=function(){var e,t,n;if(this.data.length>0)for(e=t=1,n=this.data.length;1<=n?t<n:t>n;e=1<=n?++t:--t)this._bubbleUp(e)},e.prototype.queue=function(e){this.data.push(e),this._bubbleUp(this.data.length-1)},e.prototype.dequeue=function(){var e,t;return t=this.data[0],e=this.data.pop(),this.data.length>0&&(this.data[0]=e,this._bubbleDown(0)),t},e.prototype.peek=function(){return this.data[0]},e.prototype.clear=function(){this.length=0,this.data.length=0},e.prototype._bubbleUp=function(e){for(var t,n;e>0&&(t=e-1>>>1,this.comparator(this.data[e],this.data[t])<0);)n=this.data[t],this.data[t]=this.data[e],this.data[e]=n,e=t},e.prototype._bubbleDown=function(e){var t,n,r,i,a;for(t=this.data.length-1;i=1+(n=1+(e<<1)),r=e,n<=t&&this.comparator(this.data[n],this.data[r])<0&&(r=n),i<=t&&this.comparator(this.data[i],this.data[r])<0&&(r=i),r!==e;)a=this.data[r],this.data[r]=this.data[e],this.data[e]=a,e=r},e}()},{}]},{},[1])(1)},function(e,t,n){"use strict";e.exports=i;var r=n(172);function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;function a(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function o(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function s(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function l(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function g(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function _(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=g(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=y(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=g(this.buf,this.pos)+4294967296*g(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=g(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(i=a[n.pos++],r=(112&i)>>4,i<128)return o(e,r,t);if(i=a[n.pos++],r|=(127&i)<<3,i<128)return o(e,r,t);if(i=a[n.pos++],r|=(127&i)<<10,i<128)return o(e,r,t);if(i=a[n.pos++],r|=(127&i)<<17,i<128)return o(e,r,t);if(i=a[n.pos++],r|=(127&i)<<24,i<128)return o(e,r,t);if(i=a[n.pos++],r|=(1&i)<<31,i<128)return o(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,n){var r="",i=t;for(;i<n;){var a,o,s,l=e[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h>n)break;1===h?l<128&&(u=l):2===h?128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)<=127&&(u=null):3===h?(a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&((u=(15&l)<<12|(63&a)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===h&&(a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,h=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=h}return r}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var n=a(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&s(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&s(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,l,t)},writePackedSVarint:function(e,t){this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){this.writeMessage(e,d,t)},writePackedFloat:function(e,t){this.writeMessage(e,h,t)},writePackedDouble:function(e,t){this.writeMessage(e,c,t)},writePackedFixed32:function(e,t){this.writeMessage(e,m,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,f,t)},writePackedFixed64:function(e,t){this.writeMessage(e,p,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,v,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},function(e,t,n){e.exports.VectorTile=n(173),e.exports.VectorTileFeature=n(118),e.exports.VectorTileLayer=n(117)},function(e,t,n){"use strict";function r(e,t,n){return t<=e&&e<=n}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}n.d(t,"a",function(){return h});var a=-1;function o(e){this.tokens=[].slice.call(e)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():a},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function l(e,t){if(e)throw TypeError("Decoder error");return t||65533}var u="utf-8";function h(e,t){if(!(this instanceof h))return new h(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(e){var t=e.fatal,n=0,i=0,o=0,u=128,h=191;this.handler=function(e,c){if(c===a&&0!==o)return o=0,l(t);if(c===a)return s;if(0===o){if(r(c,0,127))return c;if(r(c,194,223))o=1,n=c-192;else if(r(c,224,239))224===c&&(u=160),237===c&&(h=159),o=2,n=c-224;else{if(!r(c,240,244))return l(t);240===c&&(u=144),244===c&&(h=143),o=3,n=c-240}return n<<=6*o,null}if(!r(c,u,h))return n=o=i=0,u=128,h=191,e.prepend(c),l(t);if(u=128,h=191,n+=c-128<<6*(o-(i+=1)),i!==o)return null;var d=n;return n=o=i=0,d}}h.prototype={decode:function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,a=new o(n),l=[];!a.endOfStream()&&(r=this._decoder.handler(a,a.read()))!==s;)null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r));if(!this._streaming){do{if((r=this._decoder.handler(a,a.read()))===s)break;null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r))}while(!a.endOfStream());this._decoder=null}return l.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===l[0]?(this._BOMseen=!0,l.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(l)}}},,,,,,,,,,,,function(e,t,n){"use strict";var r,i={noop:function(){},uid:(r=0,function(){return r++}),isNullOrUndef:function(e){return null==e},isArray:Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return i.valueOrDefault(i.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,r){var a,o,s;if(i.isArray(e))if(o=e.length,r)for(a=o-1;a>=0;a--)t.call(n,e[a],a);else for(a=0;a<o;a++)t.call(n,e[a],a);else if(i.isObject(e))for(o=(s=Object.keys(e)).length,a=0;a<o;a++)t.call(n,e[s[a]],s[a])},arrayEquals:function(e,t){var n,r,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(a=e[n],o=t[n],a instanceof Array&&o instanceof Array){if(!i.arrayEquals(a,o))return!1}else if(a!==o)return!1;return!0},clone:function(e){if(i.isArray(e))return e.map(i.clone);if(i.isObject(e)){for(var t={},n=Object.keys(e),r=n.length,a=0;a<r;++a)t[n[a]]=i.clone(e[n[a]]);return t}return e},_merger:function(e,t,n,r){var a=t[e],o=n[e];i.isObject(a)&&i.isObject(o)?i.merge(a,o,r):t[e]=i.clone(o)},_mergerIf:function(e,t,n){var r=t[e],a=n[e];i.isObject(r)&&i.isObject(a)?i.mergeIf(r,a):t.hasOwnProperty(e)||(t[e]=i.clone(a))},merge:function(e,t,n){var r,a,o,s,l,u=i.isArray(t)?t:[t],h=u.length;if(!i.isObject(e))return e;for(r=(n=n||{}).merger||i._merger,a=0;a<h;++a)if(t=u[a],i.isObject(t))for(l=0,s=(o=Object.keys(t)).length;l<s;++l)r(o[l],e,t,n);return e},mergeIf:function(e,t){return i.merge(e,t,{merger:i._mergerIf})},extend:function(e){for(var t=function(t,n){e[n]=t},n=1,r=arguments.length;n<r;++n)i.each(arguments[n],t);return e},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=i.inherits,e&&i.extend(n.prototype,e),n.__super__=t.prototype,n}};e.exports=i,i.callCallback=i.callback,i.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},i.getValueOrDefault=i.valueOrDefault,i.getValueAtIndexOrDefault=i.valueAtIndexOrDefault},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=n(7);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,h=-7,c=n?i-1:0,d=n?-1:1,m=e[t+c];for(c+=d,a=m&(1<<-h)-1,m>>=-h,h+=s;h>0;a=256*a+e[t+c],c+=d,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=r;h>0;o=256*o+e[t+c],c+=d,h-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(m?-1:1);o+=Math.pow(2,r),a-=u}return(m?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,h=(1<<u)-1,c=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:a-1,f=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(o++,l/=2),o+c>=h?(s=0,o=h):o+c>=1?(s=(t*l-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[n+m]=255&s,m+=f,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+m]=255&o,m+=f,o/=256,u-=8);e[n+m-f]|=128*p}},function(e,t,n){"use strict";var r=n(117);function i(e,t,n){if(3===e){var i=new r(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}e.exports=function(e,t){this.layers=e.readFields(i,{},t)}},function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),a=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(512),i=n(514),a=function(e){return e instanceof a?e:this instanceof a?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=i.getRgba(e))?this.setValues("rgb",t):(t=i.getHsla(e))?this.setValues("hsl",t):(t=i.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new a(e);var t};a.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,r=void 0===t?.5:t,i=2*r-1,a=this.alpha()-n.alpha(),o=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*r+n.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new a,r=this.values,i=n.values;for(var o in r)r.hasOwnProperty(o)&&(e=r[o],"[object Array]"===(t={}.toString.call(e))?i[o]=e.slice(0):"[object Number]"===t?i[o]=e:console.error("unexpected color value:",e));return n}},a.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},a.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a.prototype.getValues=function(e){for(var t=this.values,n={},r=0;r<e.length;r++)n[e.charAt(r)]=t[e][r];return 1!==t.alpha&&(n.a=t.alpha),n},a.prototype.setValues=function(e,t){var n,i,a=this.values,o=this.spaces,s=this.maxes,l=1;if(this.valid=!0,"alpha"===e)l=t;else if(t.length)a[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)a[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[o[e][0]]){var u=o[e];for(n=0;n<e.length;n++)a[e][n]=t[u[n]];l=t.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===l?a.alpha:l)),"alpha"===e)return!1;for(n=0;n<e.length;n++)i=Math.max(0,Math.min(s[e][n],a[e][n])),a[e][n]=Math.round(i);for(var h in o)h!==e&&(a[h]=r[e][h](a[e]));return!0},a.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},a.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:n===r[t]?this:(r[t]=n,this.setValues(e,r),this)},"undefined"!=typeof window&&(window.Color=a),e.exports=a},function(e,t,n){"use strict";var r=n(66);t=e.exports=r.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null});Object.defineProperty(t.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}})},function(e,t,n){"use strict";var r=n(24),i=n(15);r._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:i.noop,onComplete:i.noop}}),e.exports={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,r){var i,a,o=this.animations;for(t.chart=e,r||(e.animating=!0),i=0,a=o.length;i<a;++i)if(o[i].chart===e)return void(o[i]=t);o.push(t),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=i.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=i.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+n);var r=Date.now();e.dropFrames+=(r-t)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var t,n,r=this.animations,a=0;a<r.length;)n=(t=r[a]).chart,t.currentStep=(t.currentStep||0)+e,t.currentStep=Math.min(t.currentStep,t.numSteps),i.callback(t.render,[n,t],n),i.callback(t.onAnimationProgress,[t],n),t.currentStep>=t.numSteps?(i.callback(t.onAnimationComplete,[t],n),n.animating=!1,r.splice(a,1)):++a}}},function(e,t,n){"use strict";var r=n(15);function i(e,t){return e.native?{x:e.x,y:e.y}:r.getRelativePosition(e,t)}function a(e,t){var n,r,i,a,o;for(r=0,a=e.data.datasets.length;r<a;++r)if(e.isDatasetVisible(r))for(i=0,o=(n=e.getDatasetMeta(r)).data.length;i<o;++i){var s=n.data[i];s._view.skip||t(s)}}function o(e,t){var n=[];return a(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function s(e,t,n,r){var i=Number.POSITIVE_INFINITY,o=[];return a(e,function(e){if(!n||e.inRange(t.x,t.y)){var a=e.getCenterPoint(),s=r(t,a);s<i?(o=[e],i=s):s===i&&o.push(e)}}),o}function l(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function u(e,t,n){var r=i(t,e);n.axis=n.axis||"x";var a=l(n.axis),u=n.intersect?o(e,r):s(e,r,!1,a),h=[];return u.length?(e.data.datasets.forEach(function(t,n){if(e.isDatasetVisible(n)){var r=e.getDatasetMeta(n).data[u[0]._index];r&&!r._view.skip&&h.push(r)}}),h):[]}e.exports={modes:{single:function(e,t){var n=i(t,e),r=[];return a(e,function(e){if(e.inRange(n.x,n.y))return r.push(e),r}),r.slice(0,1)},label:u,index:u,dataset:function(e,t,n){var r=i(t,e);n.axis=n.axis||"xy";var a=l(n.axis),u=n.intersect?o(e,r):s(e,r,!1,a);return u.length>0&&(u=e.getDatasetMeta(u[0]._datasetIndex).data),u},"x-axis":function(e,t){return u(e,t,{intersect:!1})},point:function(e,t){return o(e,i(t,e))},nearest:function(e,t,n){var r=i(t,e);n.axis=n.axis||"xy";var a=l(n.axis),o=s(e,r,n.intersect,a);return o.length>1&&o.sort(function(e,t){var n=e.getArea()-t.getArea();return 0===n&&(n=e._datasetIndex-t._datasetIndex),n}),o.slice(0,1)},x:function(e,t,n){var r=i(t,e),o=[],s=!1;return a(e,function(e){e.inXRange(r.x)&&o.push(e),e.inRange(r.x,r.y)&&(s=!0)}),n.intersect&&!s&&(o=[]),o},y:function(e,t,n){var r=i(t,e),o=[],s=!1;return a(e,function(e){e.inYRange(r.y)&&o.push(e),e.inRange(r.x,r.y)&&(s=!0)}),n.intersect&&!s&&(o=[]),o}}}},function(e,t,n){"use strict";var r=n(15),i=n(520),a=n(521),o=a._enabled?a:i;e.exports=r.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},o)},function(e,t,n){"use strict";var r=n(24),i=n(15);r._set("global",{plugins:{}}),e.exports={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var r,i,a,o,s,l=this.descriptors(e),u=l.length;for(r=0;r<u;++r)if("function"==typeof(s=(a=(i=l[r]).plugin)[t])&&((o=[e].concat(n||[])).push(i.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],a=[],o=e&&e.config||{},s=o.options&&o.options.plugins||{};return this._plugins.concat(o.plugins||[]).forEach(function(e){if(-1===n.indexOf(e)){var t=e.id,o=s[t];!1!==o&&(!0===o&&(o=i.clone(r.global.plugins[t])),n.push(e),a.push({plugin:e,options:o||{}}))}}),t.descriptors=a,t.id=this._cacheId,a},_invalidate:function(e){delete e.$plugins}}},function(e,t,n){"use strict";var r=n(24),i=n(66),a=n(15);r._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:a.noop,title:function(e,t){var n="",r=t.labels,i=r?r.length:0;if(e.length>0){var a=e[0];a.xLabel?n=a.xLabel:i>0&&a.index<i&&(n=r[a.index])}return n},afterTitle:a.noop,beforeBody:a.noop,beforeLabel:a.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),n+=e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:a.noop,afterBody:a.noop,beforeFooter:a.noop,footer:a.noop,afterFooter:a.noop}}});var o={average:function(e){if(!e.length)return!1;var t,n,r=0,i=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t];if(o&&o.hasValue()){var s=o.tooltipPosition();r+=s.x,i+=s.y,++a}}return{x:Math.round(r/a),y:Math.round(i/a)}},nearest:function(e,t){var n,r,i,o=t.x,s=t.y,l=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var u=e[n];if(u&&u.hasValue()){var h=u.getCenterPoint(),c=a.distanceBetweenPoints(t,h);c<l&&(l=c,i=u)}}if(i){var d=i.tooltipPosition();o=d.x,s=d.y}return{x:o,y:s}}};function s(e,t){var n=a.color(e);return n.alpha(t*n.alpha()).rgbaString()}function l(e,t){return t&&(a.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function u(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function h(e){var t=r.global,n=a.valueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:n(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:n(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:n(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:n(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:n(e.titleFontStyle,t.defaultFontStyle),titleFontSize:n(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:n(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:n(e.footerFontStyle,t.defaultFontStyle),footerFontSize:n(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function c(e){return l([],u(e))}(e.exports=i.extend({initialize:function(){this._model=h(this._options),this._lastActive=[]},getTitle:function(){var e=this._options.callbacks,t=e.beforeTitle.apply(this,arguments),n=e.title.apply(this,arguments),r=e.afterTitle.apply(this,arguments),i=[];return i=l(i,u(t)),i=l(i,u(n)),i=l(i,u(r))},getBeforeBody:function(){return c(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,r=n._options.callbacks,i=[];return a.each(e,function(e){var a={before:[],lines:[],after:[]};l(a.before,u(r.beforeLabel.call(n,e,t))),l(a.lines,r.label.call(n,e,t)),l(a.after,u(r.afterLabel.call(n,e,t))),i.push(a)}),i},getAfterBody:function(){return c(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this._options.callbacks,t=e.beforeFooter.apply(this,arguments),n=e.footer.apply(this,arguments),r=e.afterFooter.apply(this,arguments),i=[];return i=l(i,u(t)),i=l(i,u(n)),i=l(i,u(r))},update:function(e){var t,n,r,i,s,l,u,c=this,d=c._options,m=c._model,f=c._model=h(d),p=c._active,v=c._data,g={xAlign:m.xAlign,yAlign:m.yAlign},_={x:m.x,y:m.y},y={width:m.width,height:m.height},M={x:m.caretX,y:m.caretY};if(p.length){f.opacity=1;var x=[],b=[];M=o[d.position].call(c,p,c._eventPosition);var w=[];for(t=0,n=p.length;t<n;++t)w.push((r=p[t],i=void 0,s=void 0,l=void 0,u=void 0,i=r._xScale,s=r._yScale||r._scale,l=r._index,u=r._datasetIndex,{xLabel:i?i.getLabelForIndex(l,u):"",yLabel:s?s.getLabelForIndex(l,u):"",index:l,datasetIndex:u,x:r._model.x,y:r._model.y}));d.filter&&(w=w.filter(function(e){return d.filter(e,v)})),d.itemSort&&(w=w.sort(function(e,t){return d.itemSort(e,t,v)})),a.each(w,function(e){x.push(d.callbacks.labelColor.call(c,e,c._chart)),b.push(d.callbacks.labelTextColor.call(c,e,c._chart))}),f.title=c.getTitle(w,v),f.beforeBody=c.getBeforeBody(w,v),f.body=c.getBody(w,v),f.afterBody=c.getAfterBody(w,v),f.footer=c.getFooter(w,v),f.x=Math.round(M.x),f.y=Math.round(M.y),f.caretPadding=d.caretPadding,f.labelColors=x,f.labelTextColors=b,f.dataPoints=w,y=function(e,t){var n=e._chart.ctx,r=2*t.yPadding,i=0,o=t.body,s=o.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);s+=t.beforeBody.length+t.afterBody.length;var l=t.title.length,u=t.footer.length,h=t.titleFontSize,c=t.bodyFontSize,d=t.footerFontSize;r+=l*h,r+=l?(l-1)*t.titleSpacing:0,r+=l?t.titleMarginBottom:0,r+=s*c,r+=s?(s-1)*t.bodySpacing:0,r+=u?t.footerMarginTop:0,r+=u*d,r+=u?(u-1)*t.footerSpacing:0;var m=0,f=function(e){i=Math.max(i,n.measureText(e).width+m)};return n.font=a.fontString(h,t._titleFontStyle,t._titleFontFamily),a.each(t.title,f),n.font=a.fontString(c,t._bodyFontStyle,t._bodyFontFamily),a.each(t.beforeBody.concat(t.afterBody),f),m=t.displayColors?c+2:0,a.each(o,function(e){a.each(e.before,f),a.each(e.lines,f),a.each(e.after,f)}),m=0,n.font=a.fontString(d,t._footerFontStyle,t._footerFontFamily),a.each(t.footer,f),{width:i+=2*t.xPadding,height:r}}(this,f),_=function(e,t,n,r){var i=e.x,a=e.y,o=e.caretSize,s=e.caretPadding,l=e.cornerRadius,u=n.xAlign,h=n.yAlign,c=o+s,d=l+s;return"right"===u?i-=t.width:"center"===u&&((i-=t.width/2)+t.width>r.width&&(i=r.width-t.width),i<0&&(i=0)),"top"===h?a+=c:a-="bottom"===h?t.height+c:t.height/2,"center"===h?"left"===u?i+=c:"right"===u&&(i-=c):"left"===u?i-=d:"right"===u&&(i+=d),{x:i,y:a}}(f,y,g=function(e,t){var n,r,i,a,o,s=e._model,l=e._chart,u=e._chart.chartArea,h="center",c="center";s.y<t.height?c="top":s.y>l.height-t.height&&(c="bottom");var d=(u.left+u.right)/2,m=(u.top+u.bottom)/2;"center"===c?(n=function(e){return e<=d},r=function(e){return e>d}):(n=function(e){return e<=t.width/2},r=function(e){return e>=l.width-t.width/2}),i=function(e){return e+t.width+s.caretSize+s.caretPadding>l.width},a=function(e){return e-t.width-s.caretSize-s.caretPadding<0},o=function(e){return e<=m?"top":"bottom"},n(s.x)?(h="left",i(s.x)&&(h="center",c=o(s.y))):r(s.x)&&(h="right",a(s.x)&&(h="center",c=o(s.y)));var f=e._options;return{xAlign:f.xAlign?f.xAlign:h,yAlign:f.yAlign?f.yAlign:c}}(this,y),c._chart)}else f.opacity=0;return f.xAlign=g.xAlign,f.yAlign=g.yAlign,f.x=_.x,f.y=_.y,f.width=y.width,f.height=y.height,f.caretX=M.x,f.caretY=M.y,c._model=f,e&&d.custom&&d.custom.call(c,f),c},drawCaret:function(e,t){var n=this._chart.ctx,r=this._view,i=this.getCaretPosition(e,t,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(e,t,n){var r,i,a,o,s,l,u=n.caretSize,h=n.cornerRadius,c=n.xAlign,d=n.yAlign,m=e.x,f=e.y,p=t.width,v=t.height;if("center"===d)s=f+v/2,"left"===c?(i=(r=m)-u,a=r,o=s+u,l=s-u):(i=(r=m+p)+u,a=r,o=s-u,l=s+u);else if("left"===c?(r=(i=m+h+u)-u,a=i+u):"right"===c?(r=(i=m+p-h-u)-u,a=i+u):(r=(i=n.caretX)-u,a=i+u),"top"===d)s=(o=f)-u,l=o;else{s=(o=f+v)+u,l=o;var g=a;a=r,r=g}return{x1:r,x2:i,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(e,t,n,r){var i=t.title;if(i.length){n.textAlign=t._titleAlign,n.textBaseline="top";var o,l,u=t.titleFontSize,h=t.titleSpacing;for(n.fillStyle=s(t.titleFontColor,r),n.font=a.fontString(u,t._titleFontStyle,t._titleFontFamily),o=0,l=i.length;o<l;++o)n.fillText(i[o],e.x,e.y),e.y+=u+h,o+1===i.length&&(e.y+=t.titleMarginBottom-h)}},drawBody:function(e,t,n,r){var i=t.bodyFontSize,o=t.bodySpacing,l=t.body;n.textAlign=t._bodyAlign,n.textBaseline="top",n.font=a.fontString(i,t._bodyFontStyle,t._bodyFontFamily);var u=0,h=function(t){n.fillText(t,e.x+u,e.y),e.y+=i+o};n.fillStyle=s(t.bodyFontColor,r),a.each(t.beforeBody,h);var c=t.displayColors;u=c?i+2:0,a.each(l,function(o,l){var u=s(t.labelTextColors[l],r);n.fillStyle=u,a.each(o.before,h),a.each(o.lines,function(a){c&&(n.fillStyle=s(t.legendColorBackground,r),n.fillRect(e.x,e.y,i,i),n.lineWidth=1,n.strokeStyle=s(t.labelColors[l].borderColor,r),n.strokeRect(e.x,e.y,i,i),n.fillStyle=s(t.labelColors[l].backgroundColor,r),n.fillRect(e.x+1,e.y+1,i-2,i-2),n.fillStyle=u),h(a)}),a.each(o.after,h)}),u=0,a.each(t.afterBody,h),e.y-=o},drawFooter:function(e,t,n,r){var i=t.footer;i.length&&(e.y+=t.footerMarginTop,n.textAlign=t._footerAlign,n.textBaseline="top",n.fillStyle=s(t.footerFontColor,r),n.font=a.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),a.each(i,function(r){n.fillText(r,e.x,e.y),e.y+=t.footerFontSize+t.footerSpacing}))},drawBackground:function(e,t,n,r,i){n.fillStyle=s(t.backgroundColor,i),n.strokeStyle=s(t.borderColor,i),n.lineWidth=t.borderWidth;var a=t.xAlign,o=t.yAlign,l=e.x,u=e.y,h=r.width,c=r.height,d=t.cornerRadius;n.beginPath(),n.moveTo(l+d,u),"top"===o&&this.drawCaret(e,r),n.lineTo(l+h-d,u),n.quadraticCurveTo(l+h,u,l+h,u+d),"center"===o&&"right"===a&&this.drawCaret(e,r),n.lineTo(l+h,u+c-d),n.quadraticCurveTo(l+h,u+c,l+h-d,u+c),"bottom"===o&&this.drawCaret(e,r),n.lineTo(l+d,u+c),n.quadraticCurveTo(l,u+c,l,u+c-d),"center"===o&&"left"===a&&this.drawCaret(e,r),n.lineTo(l,u+d),n.quadraticCurveTo(l,u,l+d,u),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},i=Math.abs(t.opacity<.001)?0:t.opacity,a=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&a&&(this.drawBackground(r,t,e,n,i),r.x+=t.xPadding,r.y+=t.yPadding,this.drawTitle(r,t,e,i),this.drawBody(r,t,e,i),this.drawFooter(r,t,e,i))}},handleEvent:function(e){var t,n=this,r=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:n._active=n._chart.getElementsAtEventForMode(e,r.mode,r),(t=!a.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(r.enabled||r.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}})).positioners=o},function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(e){return function(t,n,a,o){var s=r(t),l=i[e][r(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},o=["","","","","","","","","","","",""];e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(t,i,a,o){var s=n(t),l=r[e][n(t)];return 2===s&&(l=l[i?0:1]),l.replace(/%d/i,t)}},a=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i,a={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,i=a[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function r(e){return e>1&&e<5&&1!=~~(e/10)}function i(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"pr sekund":"pr sekundami";case"ss":return t||i?a+(r(e)?"sekundy":"sekund"):a+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?a+(r(e)?"minuty":"minut"):a+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?a+(r(e)?"hodiny":"hodin"):a+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?a+(r(e)?"dny":"dn"):a+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?a+(r(e)?"msce":"msc"):a+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?a+(r(e)?"roky":"let"):a+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="";return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n,r=this._calendarEl[e],i=t&&t.hours();return((n=r)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(t)),r.replace("{}",i%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function r(e,r,i,a){var o="";switch(i){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"ss":return a?"sekunnin":"sekuntia";case"m":return a?"minuutin":"minuutti";case"mm":o=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":o=a?"tunnin":"tuntia";break;case"d":return a?"pivn":"piv";case"dd":o=a?"pivn":"piv";break;case"M":return a?"kuukauden":"kuukausi";case"MM":o=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":o=a?"vuoden":"vuotta"}return o=function(e,r){return e<10?r?n[e]:t[e]:e}(e,a)+" "+o}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10==2?"na":"mh";return e+t},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" horam"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var a=e+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?a+(n||i?"sekndur":"sekndum"):a+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?a+(n||i?"mntur":"mntum"):n?a+"mnta":a+"mntu";case"hh":return t(e)?a+(n||i?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?a+"dagar":a+(i?"daga":"dgum"):n?a+"dagur":a+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?n?a+"mnuir":a+(i?"mnui":"mnuum"):n?a+"mnuur":a+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return t(e)?a+(n||i?"r":"rum"):a+(n||i?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()<e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,r=e/10;return n(0===t?r:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function a(e,t,a,o){var s=e+" ";return 1===e?s+n(0,t,a[0],o):t?s+(r(e)?i(a)[1]:i(a)[0]):o?s+i(a)[1]:s+(r(e)?i(a)[1]:i(a)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:a,m:n,mm:a,h:n,hh:a,d:n,dd:a,M:n,MM:a,y:n,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var i=e+" ";switch(n){case"ss":return i+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesice":"miesicy");case"yy":return i+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?""===r?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i,a={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":e+" "+(r=+e,i=a[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"ss":return t||i?a+(r(e)?"sekundy":"seknd"):a+"sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?a+(r(e)?"minty":"mint"):a+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?a+(r(e)?"hodiny":"hodn"):a+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?a+(r(e)?"dni":"dn"):a+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?a+(r(e)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?a+(r(e)?"roky":"rokov"):a+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,i){var a=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,a="";return n>0&&(a+=t[n]+"vatlh"),r>0&&(a+=(""!==a?" ":"")+t[r]+"maH"),i>0&&(a+=(""!==a?" ":"")+t[i]),""===a?"pagh":a}(e);switch(r){case"ss":return a+" lup";case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var r=e%10,i=e%100-r,a=e>=100?100:null;return e+(t[r]||t[i]||t[a])}},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r?i[n][0]:t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i,a={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,i=a[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};if(!e)return n.nominative;var r=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[r][e.day()]},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(3))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(3))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(551)},function(e,t,n){"use strict";n(24)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var e=function(e,t){return this.construct(e,t),this};return e.Chart=e,e}},function(e,t,n){"use strict";var r=n(139),i={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-i.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*i.easeInBounce(2*e):.5*i.easeOutBounce(2*e-1)+.5}};e.exports={effects:i},r.easingEffects=i},function(e,t,n){"use strict";var r=n(139);t=e.exports={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,i,a){if(a){var o=Math.min(a,i/2-1e-7,r/2-1e-7);e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.arcTo(t+r,n,t+r,n+o,o),e.lineTo(t+r,n+i-o),e.arcTo(t+r,n+i,t+r-o,n+i,o),e.lineTo(t+o,n+i),e.arcTo(t,n+i,t,n+i-o,o),e.lineTo(t,n+o),e.arcTo(t,n,t+o,n,o),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,i)},drawPoint:function(e,t,n,r,i,a){var o,s,l,u,h,c;if(a=a||0,!t||"object"!=typeof t||"[object HTMLImageElement]"!==(o=t.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||n<=0)){switch(e.save(),e.translate(r,i),e.rotate(a*Math.PI/180),e.beginPath(),t){default:e.arc(0,0,n,0,2*Math.PI),e.closePath();break;case"triangle":h=(s=3*n/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(-s/2,h/3),e.lineTo(s/2,h/3),e.lineTo(0,-2*h/3),e.closePath();break;case"rect":c=1/Math.SQRT2*n,e.rect(-c,-c,2*c,2*c);break;case"rectRounded":var d=n/Math.SQRT2,m=-d,f=-d,p=Math.SQRT2*n;this.roundedRect(e,m,f,p,p,.425*n);break;case"rectRot":c=1/Math.SQRT2*n,e.moveTo(-c,0),e.lineTo(0,c),e.lineTo(c,0),e.lineTo(0,-c),e.closePath();break;case"cross":e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-n,0),e.lineTo(n,0);break;case"crossRot":l=Math.cos(Math.PI/4)*n,u=Math.sin(Math.PI/4)*n,e.moveTo(-l,-u),e.lineTo(l,u),e.moveTo(-l,u),e.lineTo(l,-u);break;case"star":e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-n,0),e.lineTo(n,0),l=Math.cos(Math.PI/4)*n,u=Math.sin(Math.PI/4)*n,e.moveTo(-l,-u),e.lineTo(l,u),e.moveTo(-l,u),e.lineTo(l,-u);break;case"line":e.moveTo(-n,0),e.lineTo(n,0);break;case"dash":e.moveTo(0,0),e.lineTo(n,0)}e.fill(),e.stroke(),e.restore()}}else e.drawImage(t,r-t.width/2,i-t.height/2,t.width,t.height)},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){if(n.steppedLine)return"after"===n.steppedLine&&!r||"after"!==n.steppedLine&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y),void e.lineTo(n.x,n.y);n.tension?e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}};r.clear=t.clear,r.drawRoundedRectangle=function(e){e.beginPath(),t.roundedRect.apply(t,arguments)}},function(e,t,n){"use strict";var r=n(139);e.exports={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,a;return r.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,a=+e.left||0):t=n=i=a=+e||0,{top:t,right:n,bottom:i,left:a,height:t+i,width:a+n}},resolve:function(e,t,n){var i,a,o;for(i=0,a=e.length;i<a;++i)if(void 0!==(o=e[i])&&(void 0!==t&&"function"==typeof o&&(o=o(t)),void 0!==n&&r.isArray(o)&&(o=o[n]),void 0!==o))return o}}},function(e,t,n){"use strict";var r=n(207),i=n(24),a=n(15),o=n(84);e.exports=function(){function e(e,t,n){var r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}function t(e){return null!=e&&"none"!==e}function n(n,r,i){var o=document.defaultView,s=a._getParentNode(n),l=o.getComputedStyle(n)[r],u=o.getComputedStyle(s)[r],h=t(l),c=t(u),d=Number.POSITIVE_INFINITY;return h||c?Math.min(h?e(l,n,i):d,c?e(u,s,i):d):"none"}a.configMerge=function(){return a.merge(a.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,t,n,r){var i=t[e]||{},s=n[e];"scales"===e?t[e]=a.scaleMerge(i,s):"scale"===e?t[e]=a.merge(i,[o.getScaleDefaults(s.type),s]):a._merger(e,t,n,r)}})},a.scaleMerge=function(){return a.merge(a.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,t,n,r){if("xAxes"===e||"yAxes"===e){var i,s,l,u=n[e].length;for(t[e]||(t[e]=[]),i=0;i<u;++i)l=n[e][i],s=a.valueOrDefault(l.type,"xAxes"===e?"category":"linear"),i>=t[e].length&&t[e].push({}),!t[e][i].type||l.type&&l.type!==t[e][i].type?a.merge(t[e][i],[o.getScaleDefaults(s),l]):a.merge(t[e][i],l)}else a._merger(e,t,n,r)}})},a.where=function(e,t){if(a.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return a.each(e,function(e){t(e)&&n.push(e)}),n},a.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var r=0,i=e.length;r<i;++r)if(t.call(n,e[r],r,e))return r;return-1},a.findNextWhere=function(e,t,n){a.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<e.length;r++){var i=e[r];if(t(i))return i}},a.findPreviousWhere=function(e,t,n){a.isNullOrUndef(n)&&(n=e.length);for(var r=n-1;r>=0;r--){var i=e[r];if(t(i))return i}},a.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},a.almostEquals=function(e,t,n){return Math.abs(e-t)<n},a.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&n+t>e},a.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},a.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},a.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},a.log10=Math.log10?function(e){return Math.log10(e)}:function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t},a.toRadians=function(e){return e*(Math.PI/180)},a.toDegrees=function(e){return e*(180/Math.PI)},a.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),a=Math.atan2(r,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:i}},a.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},a.aliasPixel=function(e){return e%2==0?0:.5},a.splineCurve=function(e,t,n,r){var i=e.skip?t:e,a=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),u=s/(s+l),h=l/(s+l),c=r*(u=isNaN(u)?0:u),d=r*(h=isNaN(h)?0:h);return{previous:{x:a.x-c*(o.x-i.x),y:a.y-c*(o.y-i.y)},next:{x:a.x+d*(o.x-i.x),y:a.y+d*(o.y-i.y)}}},a.EPSILON=Number.EPSILON||1e-14,a.splineCurveMonotone=function(e){var t,n,r,i,o,s,l,u,h,c=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),d=c.length;for(t=0;t<d;++t)if(!(r=c[t]).model.skip){if(n=t>0?c[t-1]:null,(i=t<d-1?c[t+1]:null)&&!i.model.skip){var m=i.model.x-r.model.x;r.deltaK=0!==m?(i.model.y-r.model.y)/m:0}!n||n.model.skip?r.mK=r.deltaK:!i||i.model.skip?r.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(n.deltaK+r.deltaK)/2}for(t=0;t<d-1;++t)r=c[t],i=c[t+1],r.model.skip||i.model.skip||(a.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(o=r.mK/r.deltaK,s=i.mK/r.deltaK,(u=Math.pow(o,2)+Math.pow(s,2))<=9||(l=3/Math.sqrt(u),r.mK=o*l*r.deltaK,i.mK=s*l*r.deltaK)));for(t=0;t<d;++t)(r=c[t]).model.skip||(n=t>0?c[t-1]:null,i=t<d-1?c[t+1]:null,n&&!n.model.skip&&(h=(r.model.x-n.model.x)/3,r.model.controlPointPreviousX=r.model.x-h,r.model.controlPointPreviousY=r.model.y-h*r.mK),i&&!i.model.skip&&(h=(i.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+h,r.model.controlPointNextY=r.model.y+h*r.mK))},a.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},a.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},a.niceNum=function(e,t){var n=Math.floor(a.log10(e)),r=e/Math.pow(10,n);return(t?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},a.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},a.getRelativePosition=function(e,t){var n,r,i=e.originalEvent||e,o=e.target||e.srcElement,s=o.getBoundingClientRect(),l=i.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=i.clientX,r=i.clientY);var u=parseFloat(a.getStyle(o,"padding-left")),h=parseFloat(a.getStyle(o,"padding-top")),c=parseFloat(a.getStyle(o,"padding-right")),d=parseFloat(a.getStyle(o,"padding-bottom")),m=s.right-s.left-u-c,f=s.bottom-s.top-h-d;return{x:n=Math.round((n-s.left-u)/m*o.width/t.currentDevicePixelRatio),y:r=Math.round((r-s.top-h)/f*o.height/t.currentDevicePixelRatio)}},a.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},a.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},a._calculatePadding=function(e,t,n){return(t=a.getStyle(e,t)).indexOf("%")>-1?n/parseInt(t,10):parseInt(t,10)},a._getParentNode=function(e){var t=e.parentNode;return t&&t.host&&(t=t.host),t},a.getMaximumWidth=function(e){var t=a._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,r=n-a._calculatePadding(t,"padding-left",n)-a._calculatePadding(t,"padding-right",n),i=a.getConstraintWidth(e);return isNaN(i)?r:Math.min(r,i)},a.getMaximumHeight=function(e){var t=a._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,r=n-a._calculatePadding(t,"padding-top",n)-a._calculatePadding(t,"padding-bottom",n),i=a.getConstraintHeight(e);return isNaN(i)?r:Math.min(r,i)},a.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},a.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var r=e.canvas,i=e.height,a=e.width;r.height=i*n,r.width=a*n,e.ctx.scale(n,n),r.style.height||r.style.width||(r.style.height=i+"px",r.style.width=a+"px")}},a.fontString=function(e,t,n){return t+" "+e+"px "+n},a.longestText=function(e,t,n,r){var i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},o=r.garbageCollect=[],r.font=t),e.font=t;var s=0;a.each(n,function(t){null!=t&&!0!==a.isArray(t)?s=a.measureText(e,i,o,s,t):a.isArray(t)&&a.each(t,function(t){null==t||a.isArray(t)||(s=a.measureText(e,i,o,s,t))})});var l=o.length/2;if(l>n.length){for(var u=0;u<l;u++)delete i[o[u]];o.splice(0,l)}return s},a.measureText=function(e,t,n,r,i){var a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r},a.numberOfLabelLines=function(e){var t=1;return a.each(e,function(e){a.isArray(e)&&e.length>t&&(t=e.length)}),t},a.color=r?function(e){return e instanceof CanvasGradient&&(e=i.global.defaultColor),r(e)}:function(e){return console.error("Color.js not found!"),e},a.getHoverColor=function(e){return e instanceof CanvasPattern?e:a.color(e).saturate(.5).darken(.1).rgbString()}}},function(e,t,n){var r=n(513),i=function(){return new u};for(var a in r){i[a+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(a);var o=/(\w+)2(\w+)/.exec(a),s=o[1],l=o[2];(i[s]=i[s]||{})[l]=i[a]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=r[e](t);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(a)}var u=function(){this.convs={}};u.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},u.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},u.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,r=this.convs[n];t=i[n][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=i},function(e,t){function n(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),l=s-o;return s==o?t=0:r==s?t=(i-a)/l:i==s?t=2+(a-r)/l:a==s&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s==o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]}function i(e){var t,n,r=e[0],i=e[1],a=e[2],o=Math.min(r,i,a),s=Math.max(r,i,a),l=s-o;return n=0==s?0:l/s*1e3/10,s==o?t=0:r==s?t=(i-a)/l:i==s?t=2+(a-r)/l:a==s&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function a(e){var t=e[0],r=e[1],i=e[2];return[n(e)[0],100*(1/255*Math.min(t,Math.min(r,i))),100*(i=1-1/255*Math.max(t,Math.max(r,i)))]}function o(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]}function s(e){return L[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]}function u(e){var t=l(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function h(e){var t,n,r,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[a=255*l,a,a];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=o+1/3*-(u-1))<0&&r++,r>1&&r--,a=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[u]=255*a;return i}function c(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,a=t-Math.floor(t),o=255*r*(1-n),s=255*r*(1-n*a),l=255*r*(1-n*(1-a));r*=255;switch(i){case 0:return[r,l,o];case 1:return[s,r,o];case 2:return[o,r,l];case 3:return[o,s,r];case 4:return[l,o,r];case 5:return[r,o,s]}}function d(e){var t,n,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),i=6*o-(t=Math.floor(6*o)),0!=(1&t)&&(i=1-i),a=s+i*((n=1-l)-s),t){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function m(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]}function f(e){var t,n,r,i=e[0]/100,a=e[1]/100,o=e[2]/100;return n=-.9689*i+1.8758*a+.0415*o,r=.0557*i+-.204*a+1.057*o,t=(t=3.2406*i+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function p(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function v(e){var t,n,r,i,a=e[0],o=e[1],s=e[2];return a<=8?i=(n=100*a/903.3)/100*7.787+16/116:(n=100*Math.pow((a+16)/116,3),i=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(o/500+i-16/116)/7.787:95.047*Math.pow(o/500+i,3),n,r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3)]}function _(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]}function y(e){return f(v(e))}function M(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]}function x(e){return w[e]}e.exports={rgb2hsl:n,rgb2hsv:i,rgb2hwb:a,rgb2cmyk:o,rgb2keyword:s,rgb2xyz:l,rgb2lab:u,rgb2lch:function(e){return _(u(e))},hsl2rgb:h,hsl2hsv:function(e){var t=e[0],n=e[1]/100,r=e[2]/100;if(0===r)return[0,0,0];return[t,100*(2*(n*=(r*=2)<=1?r:2-r)/(r+n)),100*((r+n)/2)]},hsl2hwb:function(e){return a(h(e))},hsl2cmyk:function(e){return o(h(e))},hsl2keyword:function(e){return s(h(e))},hsv2rgb:c,hsv2hsl:function(e){var t,n,r=e[0],i=e[1]/100,a=e[2]/100;return t=i*a,[r,100*(t=(t/=(n=(2-i)*a)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return a(c(e))},hsv2cmyk:function(e){return o(c(e))},hsv2keyword:function(e){return s(c(e))},hwb2rgb:d,hwb2hsl:function(e){return n(d(e))},hwb2hsv:function(e){return i(d(e))},hwb2cmyk:function(e){return o(d(e))},hwb2keyword:function(e){return s(d(e))},cmyk2rgb:m,cmyk2hsl:function(e){return n(m(e))},cmyk2hsv:function(e){return i(m(e))},cmyk2hwb:function(e){return a(m(e))},cmyk2keyword:function(e){return s(m(e))},keyword2rgb:x,keyword2hsl:function(e){return n(x(e))},keyword2hsv:function(e){return i(x(e))},keyword2hwb:function(e){return a(x(e))},keyword2cmyk:function(e){return o(x(e))},keyword2lab:function(e){return u(x(e))},keyword2xyz:function(e){return l(x(e))},xyz2rgb:f,xyz2lab:p,xyz2lch:function(e){return _(p(e))},lab2xyz:v,lab2rgb:y,lab2lch:_,lch2lab:M,lch2xyz:function(e){return v(M(e))},lch2rgb:function(e){return y(M(e))}};var w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L={};for(var q in w)L[JSON.stringify(w[q])]=q},function(e,t,n){var r=n(515);function i(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3})$/i);if(i){i=i[1];for(var a=0;a<t.length;a++)t[a]=parseInt(i[a]+i[a],16)}else if(i=e.match(/^#([a-fA-F0-9]{6})$/i)){i=i[1];for(a=0;a<t.length;a++)t[a]=parseInt(i.slice(2*a,2*a+2),16)}else if(i=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<t.length;a++)t[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<t.length;a++)t[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=e.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(t=r[i[1]]))return}for(a=0;a<t.length;a++)t[a]=h(t[a],0,255);return n=n||0==n?h(n,0,1):1,t[3]=n,t}}function a(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[h(parseInt(t[1]),0,360),h(parseFloat(t[2]),0,100),h(parseFloat(t[3]),0,100),h(isNaN(n)?1:n,0,1)]}}}function o(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[h(parseInt(t[1]),0,360),h(parseFloat(t[2]),0,100),h(parseFloat(t[3]),0,100),h(isNaN(n)?1:n,0,1)]}}}function s(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function l(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function u(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function h(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}e.exports={getRgba:i,getHsla:a,getRgb:function(e){var t=i(e);return t&&t.slice(0,3)},getHsl:function(e){var t=a(e);return t&&t.slice(0,3)},getHwb:o,getAlpha:function(e){var t=i(e);if(t)return t[3];if(t=a(e))return t[3];if(t=o(e))return t[3]},hexString:function(e){return"#"+c(e[0])+c(e[1])+c(e[2])},rgbString:function(e,t){if(t<1||e[3]&&e[3]<1)return s(e,t);return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:s,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return l(e,t);var n=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return"rgb("+n+"%, "+r+"%, "+i+"%)"},percentaString:l,hslString:function(e,t){if(t<1||e[3]&&e[3]<1)return u(e,t);return"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:u,hwbString:function(e,t){void 0===t&&(t=void 0!==e[3]?e[3]:1);return"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return d[e.slice(0,3)]}};var d={};for(var m in r)d[r[m]]=m},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){"use strict";var r=n(24),i=n(66),a=n(15);r._set("global",{elements:{arc:{backgroundColor:r.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=i.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=a.getAngleFromPoint(n,{x:e,y:t}),i=r.angle,o=r.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;i>l;)i-=2*Math.PI;for(;i<s;)i+=2*Math.PI;var u=i>=s&&i<=l,h=o>=n.innerRadius&&o<=n.outerRadius;return u&&h}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,r=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,r),e.arc(t.x,t.y,t.innerRadius,r,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})},function(e,t,n){"use strict";var r=n(24),i=n(66),a=n(15),o=r.global;r._set("global",{elements:{line:{tension:.4,backgroundColor:o.defaultColor,borderWidth:3,borderColor:o.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=i.extend({draw:function(){var e,t,n,r,i=this._view,s=this._chart.ctx,l=i.spanGaps,u=this._children.slice(),h=o.elements.line,c=-1;for(this._loop&&u.length&&u.push(u[0]),s.save(),s.lineCap=i.borderCapStyle||h.borderCapStyle,s.setLineDash&&s.setLineDash(i.borderDash||h.borderDash),s.lineDashOffset=i.borderDashOffset||h.borderDashOffset,s.lineJoin=i.borderJoinStyle||h.borderJoinStyle,s.lineWidth=i.borderWidth||h.borderWidth,s.strokeStyle=i.borderColor||o.defaultColor,s.beginPath(),c=-1,e=0;e<u.length;++e)t=u[e],n=a.previousItem(u,e),r=t._view,0===e?r.skip||(s.moveTo(r.x,r.y),c=e):(n=-1===c?n:u[c],r.skip||(c!==e-1&&!l||-1===c?s.moveTo(r.x,r.y):a.canvas.lineTo(s,n._view,t._view),c=e));s.stroke(),s.restore()}})},function(e,t,n){"use strict";var r=n(24),i=n(66),a=n(15),o=r.global.defaultColor;function s(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}r._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:o,borderColor:o,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=i.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:s,inXRange:s,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._model,i=this._chart.ctx,s=t.pointStyle,l=t.rotation,u=t.radius,h=t.x,c=t.y;t.skip||(void 0===e||n.x>=e.left&&1.01*e.right>=n.x&&n.y>=e.top&&1.01*e.bottom>=n.y)&&(i.strokeStyle=t.borderColor||o,i.lineWidth=a.valueOrDefault(t.borderWidth,r.global.elements.point.borderWidth),i.fillStyle=t.backgroundColor||o,a.canvas.drawPoint(i,s,u,h,c,l))}})},function(e,t,n){"use strict";var r=n(24),i=n(66);function a(e){return void 0!==e._view.width}function o(e){var t,n,r,i,o=e._view;if(a(e)){var s=o.width/2;t=o.x-s,n=o.x+s,r=Math.min(o.y,o.base),i=Math.max(o.y,o.base)}else{var l=o.height/2;t=Math.min(o.x,o.base),n=Math.max(o.x,o.base),r=o.y-l,i=o.y+l}return{left:t,top:r,right:n,bottom:i}}r._set("global",{elements:{rectangle:{backgroundColor:r.global.defaultColor,borderColor:r.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=i.extend({draw:function(){var e,t,n,r,i,a,o,s=this._chart.ctx,l=this._view,u=l.borderWidth;if(l.horizontal?(e=l.base,t=l.x,n=l.y-l.height/2,r=l.y+l.height/2,i=t>e?1:-1,a=1,o=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,n=l.y,i=1,a=(r=l.base)>n?1:-1,o=l.borderSkipped||"bottom"),u){var h=Math.min(Math.abs(e-t),Math.abs(n-r)),c=(u=u>h?h:u)/2,d=e+("left"!==o?c*i:0),m=t+("right"!==o?-c*i:0),f=n+("top"!==o?c*a:0),p=r+("bottom"!==o?-c*a:0);d!==m&&(n=f,r=p),f!==p&&(e=d,t=m)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=u;var v=[[e,r],[e,n],[t,n],[t,r]],g=["bottom","left","top","right"].indexOf(o,0);function _(e){return v[(g+e)%4]}-1===g&&(g=0);var y=_(0);s.moveTo(y[0],y[1]);for(var M=1;M<4;M++)y=_(M),s.lineTo(y[0],y[1]);s.fill(),u&&s.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=!1;if(this._view){var r=o(this);n=e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}return n},inLabelRange:function(e,t){if(!this._view)return!1;var n=o(this);return a(this)?e>=n.left&&e<=n.right:t>=n.top&&t<=n.bottom},inXRange:function(e){var t=o(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=o(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,t,n=this._view;return a(this)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})},function(e,t){e.exports={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}}},function(e,t,n){"use strict";var r=n(15),i="$chartjs",a="chartjs-",o=a+"render-monitor",s=a+"render-animation",l=["animationstart","webkitAnimationStart"],u={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function h(e,t){var n=r.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var c=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function d(e,t,n){e.addEventListener(t,n,c)}function m(e,t,n){e.removeEventListener(t,n,c)}function f(e,t,n,r,i){return{type:e,chart:t,native:i||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function p(e,t,n){var u,h,c,m,p=e[i]||(e[i]={}),v=p.resizer=function(e){var t=document.createElement("div"),n=a+"size-monitor",r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";t.style.cssText=r,t.className=n,t.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var i=t.childNodes[0],o=t.childNodes[1];t._reset=function(){i.scrollLeft=1e6,i.scrollTop=1e6,o.scrollLeft=1e6,o.scrollTop=1e6};var s=function(){t._reset(),e()};return d(i,"scroll",s.bind(i,"expand")),d(o,"scroll",s.bind(o,"shrink")),t}((u=function(){if(p.resizer)return t(f("resize",n))},c=!1,m=[],function(){m=Array.prototype.slice.call(arguments),h=h||this,c||(c=!0,r.requestAnimFrame.call(window,function(){c=!1,u.apply(h,m)}))}));!function(e,t){var n=e[i]||(e[i]={}),a=n.renderProxy=function(e){e.animationName===s&&t()};r.each(l,function(t){d(e,t,a)}),n.reflow=!!e.offsetParent,e.classList.add(o)}(e,function(){if(p.resizer){var t=e.parentNode;t&&t!==v.parentNode&&t.insertBefore(v,t.firstChild),v._reset()}})}function v(e){var t=e[i]||{},n=t.resizer;delete t.resizer,function(e){var t=e[i]||{},n=t.renderProxy;n&&(r.each(l,function(t){m(e,t,n)}),delete t.renderProxy),e.classList.remove(o)}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var e,t,n,r="from{opacity:0.99}to{opacity:1}";t="@-webkit-keyframes "+s+"{"+r+"}@keyframes "+s+"{"+r+"}."+o+"{-webkit-animation:"+s+" 0.001s;animation:"+s+" 0.001s;}",n=(e=this)._style||document.createElement("style"),e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute("height"),a=e.getAttribute("width");if(e[i]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===a||""===a){var o=h(e,"width");void 0!==o&&(e.width=o)}if(null===r||""===r)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=h(e,"height");void 0!==o&&(e.height=s)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[i]){var n=t[i].initial;["height","width"].forEach(function(e){var i=n[e];r.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)}),r.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[i]}},addEventListener:function(e,t,n){var a=e.canvas;if("resize"!==t){var o=n[i]||(n[i]={});d(a,t,(o.proxies||(o.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=u[e.type]||e.type,i=r.getRelativePosition(e,t);return f(n,t,i.x,i.y,e)}(t,e))})}else p(a,n,e)},removeEventListener:function(e,t,n){var r=e.canvas;if("resize"!==t){var a=((n[i]||{}).proxies||{})[e.id+"_"+t];a&&m(r,t,a)}else v(r)}},r.addEvent=d,r.removeEvent=m},function(e,t,n){"use strict";var r=n(208),i=n(209),a=n(24),o=n(15),s=n(210),l=n(120),u=n(211),h=n(212),c=n(84),d=n(213);e.exports=function(e){function t(e){return"top"===e||"bottom"===e}e.types={},e.instances={},e.controllers={},o.extend(e.prototype,{construct:function(t,n){var r=this;n=function(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=o.configMerge(a.global,a[e.type],e.options||{}),e}(n);var i=u.acquireContext(t,n),s=i&&i.canvas,l=s&&s.height,h=s&&s.width;r.id=o.uid(),r.ctx=i,r.canvas=s,r.config=n,r.width=h,r.height=l,r.aspectRatio=l?h/l:null,r.options=n.options,r._bufferedRender=!1,r.chart=r,r.controller=r,e.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(e){r.config.data=e}}),i&&s?(r.initialize(),r.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return h.notify(e,"beforeInit"),o.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.initToolTip(),h.notify(e,"afterInit"),e},clear:function(){return o.canvas.clear(this),this},stop:function(){return i.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,r=t.canvas,i=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(o.getMaximumWidth(r))),s=Math.max(0,Math.floor(i?a/i:o.getMaximumHeight(r)));if((t.width!==a||t.height!==s)&&(r.width=t.width=a,r.height=t.height=s,r.style.width=a+"px",r.style.height=s+"px",o.retinaScale(t,n.devicePixelRatio),!e)){var l={width:a,height:s};h.notify(t,"resize",[l]),t.options.onResize&&t.options.onResize(t,l),t.stop(),t.update({duration:t.options.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;o.each(t.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),o.each(t.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,n=e.options,r=e.scales||{},i=[],a=Object.keys(r).reduce(function(e,t){return e[t]=!1,e},{});n.scales&&(i=i.concat((n.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),n.scale&&i.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),o.each(i,function(n){var i=n.options,s=i.id,l=o.valueOrDefault(i.type,n.dtype);t(i.position)!==t(n.dposition)&&(i.position=n.dposition),a[s]=!0;var u=null;if(s in r&&r[s].type===l)(u=r[s]).options=i,u.ctx=e.ctx,u.chart=e;else{var h=c.getScaleConstructor(l);if(!h)return;u=new h({id:s,type:l,options:i,ctx:e.ctx,chart:e}),r[u.id]=u}u.mergeTicksOptions(),n.isDefault&&(e.scale=u)}),o.each(a,function(e,t){e||delete r[t]}),e.scales=r,c.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[],r=[];return o.each(t.data.datasets,function(i,a){var o=t.getDatasetMeta(a),s=i.type||t.config.type;if(o.type&&o.type!==s&&(t.destroyDatasetMeta(a),o=t.getDatasetMeta(a)),o.type=s,n.push(o.type),o.controller)o.controller.updateIndex(a),o.controller.linkScales();else{var l=e.controllers[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(t,a),r.push(o.controller)}},t),r},resetElements:function(){var e=this;o.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var n,r,i=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),r=(n=i).options,o.each(n.scales,function(e){l.removeBox(n,e)}),r=o.configMerge(e.defaults.global,e.defaults[n.config.type],r),n.options=n.config.options=r,n.ensureScalesHaveIDs(),n.buildOrUpdateScales(),n.tooltip._options=r.tooltips,n.tooltip.initialize(),h._invalidate(i),!1!==h.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var a=i.buildOrUpdateControllers();o.each(i.data.datasets,function(e,t){i.getDatasetMeta(t).controller.buildOrUpdateElements()},i),i.updateLayout(),i.options.animation&&i.options.animation.duration&&o.each(a,function(e){e.reset()}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],h.notify(i,"afterUpdate"),i._bufferedRender?i._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:i.render(t)}},updateLayout:function(){!1!==h.notify(this,"beforeLayout")&&(l.update(this,this.width,this.height),h.notify(this,"afterScaleUpdate"),h.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==h.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);h.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),n={meta:t,index:e};!1!==h.notify(this,"beforeDatasetUpdate",[n])&&(t.controller.update(),h.notify(this,"afterDatasetUpdate",[n]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=e.duration,a=e.lazy;if(!1!==h.notify(t,"beforeRender")){var s=t.options.animation,l=function(e){h.notify(t,"afterRender"),o.callback(s&&s.onComplete,[e],t)};if(s&&(void 0!==n&&0!==n||void 0===n&&0!==s.duration)){var u=new r({numSteps:(n||s.duration)/16.66,easing:e.easing||s.easing,render:function(e,t){var n=o.easing.effects[t.easing],r=t.currentStep,i=r/t.numSteps;e.draw(n(i),i,r)},onAnimationProgress:s.onProgress,onAnimationComplete:l});i.addAnimation(t,u,n,a)}else t.draw(),l(new r({numSteps:0,chart:t}));return t}},draw:function(e){var t=this;t.clear(),o.isNullOrUndef(e)&&(e=1),t.transition(e),t.width<=0||t.height<=0||!1!==h.notify(t,"beforeDraw",[e])&&(o.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.scale&&t.scale.draw(),t.drawDatasets(e),t._drawTooltip(e),h.notify(t,"afterDraw",[e]))},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},drawDatasets:function(e){var t=this;if(!1!==h.notify(t,"beforeDatasetsDraw",[e])){for(var n=(t.data.datasets||[]).length-1;n>=0;--n)t.isDatasetVisible(n)&&t.drawDataset(n,e);h.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this.getDatasetMeta(e),r={meta:n,index:e,easingValue:t};!1!==h.notify(this,"beforeDatasetDraw",[r])&&(n.controller.draw(t),h.notify(this,"afterDatasetDraw",[r]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==h.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),h.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return s.modes.single(this,e)},getElementsAtEvent:function(e){return s.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return s.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=s.modes[t];return"function"==typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return s.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],r=n._meta&&n._meta[t];r&&(r.controller.destroy(),delete n._meta[t])},destroy:function(){var t,n,r=this,i=r.canvas;for(r.stop(),t=0,n=r.data.datasets.length;t<n;++t)r.destroyDatasetMeta(t);i&&(r.unbindEvents(),o.canvas.clear(r),u.releaseContext(r.ctx),r.canvas=null,r.ctx=null),h.notify(r,"destroy"),delete e.instances[r.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new d({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};o.each(e.options.events,function(r){u.addEventListener(e,r,n),t[r]=n}),e.options.responsive&&(n=function(){e.resize()},u.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,o.each(t,function(t,n){u.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var r,i,a,o=n?"setHoverStyle":"removeHoverStyle";for(i=0,a=e.length;i<a;++i)(r=e[i])&&this.getDatasetMeta(r._datasetIndex).controller[o](r)},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==h.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);n&&(r=n._start?n.handleEvent(e):r|n.handleEvent(e)),h.notify(t,"afterEvent",[e]);var i=t._bufferedRequest;return i?t.render(i):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,r=n.options||{},i=r.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,i.mode,i),o.callback(r.onHover||r.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||r.onClick&&r.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,i.mode,!1),n.active.length&&i.mode&&n.updateHoverStyle(n.active,i.mode,!0),t=!o.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),e.Controller=e}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e){var t=["push","pop","shift","splice","unshift"];function n(e,n){var r=e._chartjs;if(r){var i=r.listeners,a=i.indexOf(n);-1!==a&&i.splice(a,1),i.length>0||(t.forEach(function(t){delete e[t]}),delete e._chartjs)}}e.DatasetController=function(e,t){this.initialize(e,t)},r.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null!==t.xAxisID&&t.xAxisID in e.chart.scales||(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in e.chart.scales||(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,n=this.getMeta(),r=this.getDataset().data||[],i=n.data;for(e=0,t=r.length;e<t;++e)i[e]=i[e]||this.createMetaData(e);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,i,a=this,o=a.getDataset(),s=o.data||(o.data=[]);a._data!==s&&(a._data&&n(a._data,a),i=a,(e=s)._chartjs?e._chartjs.listeners.push(i):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),t.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),a=i.apply(this,t);return r.each(e._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),a}})})),a._data=s),a.resyncElements()},update:r.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],r=n.length,i=0;i<r;++i)n[i].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,r=0;for(e.dataset&&e.dataset.draw();r<n;++r)t[r].draw()},removeHoverStyle:function(e){r.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},a=r.valueAtIndexOrDefault,o=r.getHoverColor,s=e._model;e.$previousStyle={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth},s.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:a(t.hoverBackgroundColor,n,o(s.backgroundColor)),s.borderColor=i.hoverBorderColor?i.hoverBorderColor:a(t.hoverBorderColor,n,o(s.borderColor)),s.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:a(t.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,r=t.length;r<n?e.data.splice(r,n-r):r>n&&this.insertElements(n,r-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=r.inherits}},function(e,t,n){"use strict";var r=n(15),i=n(121);e.exports=function(e){var t=r.noop;e.LinearScaleBase=i.extend({getRightValue:function(e){return"string"==typeof e?+e:i.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=r.sign(e.min),i=r.sign(e.max);n<0&&i<0?e.max=0:n>0&&i>0&&(e.min=0)}var a=void 0!==t.min||void 0!==t.suggestedMin,o=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),a!==o&&e.min>=e.max&&(a?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:r.valueOrDefault(t.fixedStepSize,t.stepSize)},a=e.ticks=function(e,t){var n,i,a,o=[];if(e.stepSize&&e.stepSize>0)a=e.stepSize;else{var s=r.niceNum(t.max-t.min,!1);a=r.niceNum(s/(e.maxTicks-1),!0),void 0!==(i=e.precision)&&(n=Math.pow(10,i),a=Math.ceil(a*n)/n)}var l=Math.floor(t.min/a)*a,u=Math.ceil(t.max/a)*a;r.isNullOrUndef(e.min)||r.isNullOrUndef(e.max)||!e.stepSize||r.almostWhole((e.max-e.min)/e.stepSize,a/1e3)&&(l=e.min,u=e.max);var h=(u-l)/a;h=r.almostEquals(h,Math.round(h),a/1e3)?Math.round(h):Math.ceil(h),i=1,a<1&&(i=Math.pow(10,1-Math.floor(r.log10(a))),l=Math.round(l*i)/i,u=Math.round(u*i)/i),o.push(void 0!==e.min?e.min:l);for(var c=1;c<h;++c)o.push(Math.round((l+c*a)*i)/i);return o.push(void 0!==e.max?e.max:u),o}(i,e);e.handleDirectionalChanges(),e.max=r.max(a),e.min=r.min(a),t.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),i.prototype.convertTicksToLabels.call(e)}})}},function(e,t,n){"use strict";var r=n(121),i=n(84);e.exports=function(){var e=r.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,t=this,n=t.getLabels();t.minIndex=0,t.maxIndex=n.length-1,void 0!==t.options.ticks.min&&(e=n.indexOf(t.options.ticks.min),t.minIndex=-1!==e?e:t.minIndex),void 0!==t.options.ticks.max&&(e=n.indexOf(t.options.ticks.max),t.maxIndex=-1!==e?e:t.maxIndex),t.min=n[t.minIndex],t.max=n[t.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,r=n.chart.data,i=n.isHorizontal();return r.yLabels&&!i?n.getRightValue(r.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t){var n,r=this,i=r.options.offset,a=Math.max(r.maxIndex+1-r.minIndex-(i?0:1),1);if(null!=e&&(n=r.isHorizontal()?e.x:e.y),void 0!==n||void 0!==e&&isNaN(t)){e=n||e;var o=r.getLabels().indexOf(e);t=-1!==o?o:t}if(r.isHorizontal()){var s=r.width/a,l=s*(t-r.minIndex);return i&&(l+=s/2),r.left+Math.round(l)}var u=r.height/a,h=u*(t-r.minIndex);return i&&(h+=u/2),r.top+Math.round(h)},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t=this,n=t.options.offset,r=Math.max(t._ticks.length-(n?0:1),1),i=t.isHorizontal(),a=(i?t.width:t.height)/r;return e-=i?t.left:t.top,n&&(e-=a/2),(e<=0?0:Math.round(e/a))+t.minIndex},getBasePixel:function(){return this.bottom}});i.registerScaleType("category",e,{position:"bottom"})}},function(e,t,n){"use strict";var r=n(24),i=n(15),a=n(84),o=n(122);e.exports=function(e){var t={position:"left",ticks:{callback:o.formatters.linear}},n=e.LinearScaleBase.extend({determineDataLimits:function(){var e=this,t=e.options,n=e.chart,r=n.data.datasets,a=e.isHorizontal();function o(t){return a?t.xAxisID===e.id:t.yAxisID===e.id}e.min=null,e.max=null;var s=t.stacked;if(void 0===s&&i.each(r,function(e,t){if(!s){var r=n.getDatasetMeta(t);n.isDatasetVisible(t)&&o(r)&&void 0!==r.stack&&(s=!0)}}),t.stacked||s){var l={};i.each(r,function(r,a){var s=n.getDatasetMeta(a),u=[s.type,void 0===t.stacked&&void 0===s.stack?a:"",s.stack].join(".");void 0===l[u]&&(l[u]={positiveValues:[],negativeValues:[]});var h=l[u].positiveValues,c=l[u].negativeValues;n.isDatasetVisible(a)&&o(s)&&i.each(r.data,function(n,r){var i=+e.getRightValue(n);isNaN(i)||s.data[r].hidden||(h[r]=h[r]||0,c[r]=c[r]||0,t.relativePoints?h[r]=100:i<0?c[r]+=i:h[r]+=i)})}),i.each(l,function(t){var n=t.positiveValues.concat(t.negativeValues),r=i.min(n),a=i.max(n);e.min=null===e.min?r:Math.min(e.min,r),e.max=null===e.max?a:Math.max(e.max,a)})}else i.each(r,function(t,r){var a=n.getDatasetMeta(r);n.isDatasetVisible(r)&&o(a)&&i.each(t.data,function(t,n){var r=+e.getRightValue(t);isNaN(r)||a.data[n].hidden||(null===e.min?e.min=r:r<e.min&&(e.min=r),null===e.max?e.max=r:r>e.max&&(e.max=r))})});e.min=isFinite(e.min)&&!isNaN(e.min)?e.min:0,e.max=isFinite(e.max)&&!isNaN(e.max)?e.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var e,t=this.options.ticks;if(this.isHorizontal())e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.width/50));else{var n=i.valueOrDefault(t.fontSize,r.global.defaultFontSize);e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.height/(2*n)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this,n=t.start,r=+t.getRightValue(e),i=t.end-n;return t.isHorizontal()?t.left+t.width/i*(r-n):t.bottom-t.height/i*(r-n)},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),r=n?t.width:t.height,i=(n?e-t.left:t.bottom-e)/r;return t.start+(t.end-t.start)*i},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});a.registerScaleType("linear",n,t)}},function(e,t,n){"use strict";var r=n(15),i=n(121),a=n(84),o=n(122);e.exports=function(e){var t={position:"left",ticks:{callback:o.formatters.logarithmic}},n=i.extend({determineDataLimits:function(){var e=this,t=e.options,n=e.chart,i=n.data.datasets,a=e.isHorizontal();function o(t){return a?t.xAxisID===e.id:t.yAxisID===e.id}e.min=null,e.max=null,e.minNotZero=null;var s=t.stacked;if(void 0===s&&r.each(i,function(e,t){if(!s){var r=n.getDatasetMeta(t);n.isDatasetVisible(t)&&o(r)&&void 0!==r.stack&&(s=!0)}}),t.stacked||s){var l={};r.each(i,function(i,a){var s=n.getDatasetMeta(a),u=[s.type,void 0===t.stacked&&void 0===s.stack?a:"",s.stack].join(".");n.isDatasetVisible(a)&&o(s)&&(void 0===l[u]&&(l[u]=[]),r.each(i.data,function(t,n){var r=l[u],i=+e.getRightValue(t);isNaN(i)||s.data[n].hidden||i<0||(r[n]=r[n]||0,r[n]+=i)}))}),r.each(l,function(t){if(t.length>0){var n=r.min(t),i=r.max(t);e.min=null===e.min?n:Math.min(e.min,n),e.max=null===e.max?i:Math.max(e.max,i)}})}else r.each(i,function(t,i){var a=n.getDatasetMeta(i);n.isDatasetVisible(i)&&o(a)&&r.each(t.data,function(t,n){var r=+e.getRightValue(t);isNaN(r)||a.data[n].hidden||r<0||(null===e.min?e.min=r:r<e.min&&(e.min=r),null===e.max?e.max=r:r>e.max&&(e.max=r),0!==r&&(null===e.minNotZero||r<e.minNotZero)&&(e.minNotZero=r))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks,n=r.valueOrDefault;e.min=n(t.min,e.min),e.max=n(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(r.log10(e.min))-1),e.max=Math.pow(10,Math.floor(r.log10(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(r.log10(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(r.log10(e.min))+1):10),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(r.log10(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),i={min:t.min,max:t.max},a=e.ticks=function(e,t){var n,i,a=[],o=r.valueOrDefault,s=o(e.min,Math.pow(10,Math.floor(r.log10(t.min)))),l=Math.floor(r.log10(t.max)),u=Math.ceil(t.max/Math.pow(10,l));0===s?(n=Math.floor(r.log10(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),a.push(s),s=i*Math.pow(10,n)):(n=Math.floor(r.log10(s)),i=Math.floor(s/Math.pow(10,n)));var h=n<0?Math.pow(10,Math.abs(n)):1;do{a.push(s),10==++i&&(i=1,h=++n>=0?1:h),s=Math.round(i*Math.pow(10,n)*h)/h}while(n<l||n===l&&i<u);var c=o(e.max,s);return a.push(c),a}(i,e);e.max=r.max(a),e.min=r.min(a),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&a.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),i.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},_getFirstTickValue:function(e){var t=Math.floor(r.log10(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},getPixelForValue:function(t){var n,i,a,o,s,l=this,u=l.options.ticks.reverse,h=r.log10,c=l._getFirstTickValue(l.minNotZero),d=0;return t=+l.getRightValue(t),u?(a=l.end,o=l.start,s=-1):(a=l.start,o=l.end,s=1),l.isHorizontal()?(n=l.width,i=u?l.right:l.left):(n=l.height,s*=-1,i=u?l.top:l.bottom),t!==a&&(0===a&&(n-=d=r.getValueOrDefault(l.options.ticks.fontSize,e.defaults.global.defaultFontSize),a=c),0!==t&&(d+=n/(h(o)-h(a))*(h(t)-h(a))),i+=s*d),i},getValueForPixel:function(t){var n,i,a,o,s=this,l=s.options.ticks.reverse,u=r.log10,h=s._getFirstTickValue(s.minNotZero);if(l?(i=s.end,a=s.start):(i=s.start,a=s.end),s.isHorizontal()?(n=s.width,o=l?s.right-t:t-s.left):(n=s.height,o=l?t-s.top:s.bottom-t),o!==i){if(0===i){var c=r.getValueOrDefault(s.options.ticks.fontSize,e.defaults.global.defaultFontSize);o-=c,n-=c,i=h}o*=u(a)-u(i),o/=n,o=Math.pow(10,u(i)+o)}return o}});a.registerScaleType("logarithmic",n,t)}},function(e,t,n){"use strict";var r=n(24),i=n(15),a=n(84),o=n(122);e.exports=function(e){var t=r.global,n={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:o.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function s(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function l(e){var n=e.options.pointLabels,r=i.valueOrDefault(n.fontSize,t.defaultFontSize),a=i.valueOrDefault(n.fontStyle,t.defaultFontStyle),o=i.valueOrDefault(n.fontFamily,t.defaultFontFamily);return{size:r,style:a,family:o,font:i.fontString(r,a,o)}}function u(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n-5,end:t}:{start:t,end:t+n+5}}function h(e){return 0===e||180===e?"center":e<180?"left":"right"}function c(e,t,n,r){if(i.isArray(t))for(var a=n.y,o=1.5*r,s=0;s<t.length;++s)e.fillText(t[s],n.x,a),a+=o;else e.fillText(t,n.x,n.y)}function d(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function m(e){return i.isNumber(e)?e:0}var f=e.LinearScaleBase.extend({setDimensions:function(){var e=this,n=e.options,r=n.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var a=i.min([e.height,e.width]),o=i.valueOrDefault(r.fontSize,t.defaultFontSize);e.drawingArea=n.display?a/2-(o/2+r.backdropPaddingY):a/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;i.each(t.data.datasets,function(a,o){if(t.isDatasetVisible(o)){var s=t.getDatasetMeta(o);i.each(a.data,function(t,i){var a=+e.getRightValue(t);isNaN(a)||s.data[i].hidden||(n=Math.min(a,n),r=Math.max(a,r))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,n=i.valueOrDefault(e.fontSize,t.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*n)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,t;this.options.pointLabels.display?function(e){var t,n,r,a=l(e),o=Math.min(e.height/2,e.width/2),h={r:e.width,l:0,t:e.height,b:0},c={};e.ctx.font=a.font,e._pointLabelSizes=[];var d,m,f,p=s(e);for(t=0;t<p;t++){r=e.getPointPosition(t,o),d=e.ctx,m=a.size,f=e.pointLabels[t]||"",n=i.isArray(f)?{w:i.longestText(d,d.font,f),h:f.length*m+1.5*(f.length-1)*m}:{w:d.measureText(f).width,h:m},e._pointLabelSizes[t]=n;var v=e.getIndexAngle(t),g=i.toDegrees(v)%360,_=u(g,r.x,n.w,0,180),y=u(g,r.y,n.h,90,270);_.start<h.l&&(h.l=_.start,c.l=v),_.end>h.r&&(h.r=_.end,c.r=v),y.start<h.t&&(h.t=y.start,c.t=v),y.end>h.b&&(h.b=y.end,c.b=v)}e.setReductions(o,h,c)}(this):(e=this,t=Math.min(e.height/2,e.width/2),e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0))},setReductions:function(e,t,n){var r=t.l/Math.sin(n.l),i=Math.max(t.r-this.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),o=-Math.max(t.b-this.height,0)/Math.cos(n.b);r=m(r),i=m(i),a=m(a),o=m(o),this.drawingArea=Math.min(Math.round(e-(r+i)/2),Math.round(e-(a+o)/2)),this.setCenterPoint(r,i,a,o)},setCenterPoint:function(e,t,n,r){var i=this,a=i.width-t-i.drawingArea,o=e+i.drawingArea,s=n+i.drawingArea,l=i.height-r-i.drawingArea;i.xCenter=Math.round((o+a)/2+i.left),i.yCenter=Math.round((s+l)/2+i.top)},getIndexAngle:function(e){return e*(2*Math.PI/s(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(n)*t)+this.xCenter,y:Math.round(Math.sin(n)*t)+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this.min,t=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0)},draw:function(){var e=this,n=e.options,r=n.gridLines,a=n.ticks,o=i.valueOrDefault;if(n.display){var u=e.ctx,m=this.getIndexAngle(0),f=o(a.fontSize,t.defaultFontSize),p=o(a.fontStyle,t.defaultFontStyle),v=o(a.fontFamily,t.defaultFontFamily),g=i.fontString(f,p,v);i.each(e.ticks,function(n,l){if(l>0||a.reverse){var h=e.getDistanceFromCenterForValue(e.ticksAsNumbers[l]);if(r.display&&0!==l&&function(e,t,n,r){var a=e.ctx;if(a.strokeStyle=i.valueAtIndexOrDefault(t.color,r-1),a.lineWidth=i.valueAtIndexOrDefault(t.lineWidth,r-1),e.options.gridLines.circular)a.beginPath(),a.arc(e.xCenter,e.yCenter,n,0,2*Math.PI),a.closePath(),a.stroke();else{var o=s(e);if(0===o)return;a.beginPath();var l=e.getPointPosition(0,n);a.moveTo(l.x,l.y);for(var u=1;u<o;u++)l=e.getPointPosition(u,n),a.lineTo(l.x,l.y);a.closePath(),a.stroke()}}(e,r,h,l),a.display){var c=o(a.fontColor,t.defaultFontColor);if(u.font=g,u.save(),u.translate(e.xCenter,e.yCenter),u.rotate(m),a.showLabelBackdrop){var d=u.measureText(n).width;u.fillStyle=a.backdropColor,u.fillRect(-d/2-a.backdropPaddingX,-h-f/2-a.backdropPaddingY,d+2*a.backdropPaddingX,f+2*a.backdropPaddingY)}u.textAlign="center",u.textBaseline="middle",u.fillStyle=c,u.fillText(n,0,-h),u.restore()}}}),(n.angleLines.display||n.pointLabels.display)&&function(e){var n=e.ctx,r=e.options,a=r.angleLines,o=r.pointLabels;n.lineWidth=a.lineWidth,n.strokeStyle=a.color;var u=e.getDistanceFromCenterForValue(r.ticks.reverse?e.min:e.max),m=l(e);n.textBaseline="top";for(var f=s(e)-1;f>=0;f--){if(a.display){var p=e.getPointPosition(f,u);n.beginPath(),n.moveTo(e.xCenter,e.yCenter),n.lineTo(p.x,p.y),n.stroke(),n.closePath()}if(o.display){var v=e.getPointPosition(f,u+5),g=i.valueAtIndexOrDefault(o.fontColor,f,t.defaultFontColor);n.font=m.font,n.fillStyle=g;var _=e.getIndexAngle(f),y=i.toDegrees(_);n.textAlign=h(y),d(y,e._pointLabelSizes[f],v),c(n,e.pointLabels[f]||"",v,m.size)}}}(e)}}});a.registerScaleType("radialLinear",f,n)}},function(e,t,n){"use strict";var r=n(3);r="function"==typeof r?r:window.moment;var i=n(24),a=n(15),o=n(121),s=n(84),l=Number.MIN_SAFE_INTEGER||-9007199254740991,u=Number.MAX_SAFE_INTEGER||9007199254740991,h={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},c=Object.keys(h);function d(e,t){return e-t}function m(e){var t,n,r,i={},a=[];for(t=0,n=e.length;t<n;++t)i[r=e[t]]||(i[r]=!0,a.push(r));return a}function f(e,t,n,r){var i=function(e,t,n){for(var r,i,a,o=0,s=e.length-1;o>=0&&o<=s;){if(i=e[(r=o+s>>1)-1]||null,a=e[r],!i)return{lo:null,hi:a};if(a[t]<n)o=r+1;else{if(!(i[t]>n))return{lo:i,hi:a};s=r-1}}return{lo:a,hi:null}}(e,t,n),a=i.lo?i.hi?i.lo:e[e.length-2]:e[0],o=i.lo?i.hi?i.hi:e[e.length-1]:e[1],s=o[t]-a[t],l=s?(n-a[t])/s:0,u=(o[r]-a[r])*l;return a[r]+u}function p(e,t){var n=t.parser,i=t.parser||t.format;return"function"==typeof n?n(e):"string"==typeof e&&"string"==typeof i?r(e,i):(e instanceof r||(e=r(e)),e.isValid()?e:"function"==typeof i?i(e):e)}function v(e,t){if(a.isNullOrUndef(e))return null;var n=t.options.time,r=p(t.getRightValue(e),n);return r.isValid()?(n.round&&r.startOf(n.round),r.valueOf()):null}function g(e){for(var t=c.indexOf(e)+1,n=c.length;t<n;++t)if(h[c[t]].common)return c[t]}function _(e,t,n,i){var o,s=i.time,l=s.unit||function(e,t,n,r){var i,a,o,s=c.length;for(i=c.indexOf(e);i<s-1;++i)if(o=(a=h[c[i]]).steps?a.steps[a.steps.length-1]:u,a.common&&Math.ceil((n-t)/(o*a.size))<=r)return c[i];return c[s-1]}(s.minUnit,e,t,n),d=g(l),m=a.valueOrDefault(s.stepSize,s.unitStepSize),f="week"===l&&s.isoWeekday,p=i.ticks.major.enabled,v=h[l],_=r(e),y=r(t),M=[];for(m||(m=function(e,t,n,r){var i,a,o,s=t-e,l=h[n],u=l.size,c=l.steps;if(!c)return Math.ceil(s/(r*u));for(i=0,a=c.length;i<a&&(o=c[i],!(Math.ceil(s/(u*o))<=r));++i);return o}(e,t,l,n)),f&&(_=_.isoWeekday(f),y=y.isoWeekday(f)),_=_.startOf(f?"day":l),(y=y.startOf(f?"day":l))<t&&y.add(1,l),o=r(_),p&&d&&!f&&!s.round&&(o.startOf(d),o.add(~~((_-o)/(v.size*m))*m,l));o<y;o.add(m,l))M.push(+o);return M.push(+o),M}e.exports=function(){var e=o.extend({initialize:function(){if(!r)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),o.prototype.initialize.call(this)},update:function(){var e=this.options;return e.time&&e.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),o.prototype.update.apply(this,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),o.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,i,o,s,h=this,c=h.chart,f=h.options.time,p=f.unit||"day",g=u,_=l,y=[],M=[],x=[];for(e=0,n=c.data.labels.length;e<n;++e)x.push(v(c.data.labels[e],h));for(e=0,n=(c.data.datasets||[]).length;e<n;++e)if(c.isDatasetVisible(e))if(o=c.data.datasets[e].data,a.isObject(o[0]))for(M[e]=[],t=0,i=o.length;t<i;++t)s=v(o[t],h),y.push(s),M[e][t]=s;else y.push.apply(y,x),M[e]=x.slice(0);else M[e]=[];x.length&&(x=m(x).sort(d),g=Math.min(g,x[0]),_=Math.max(_,x[x.length-1])),y.length&&(y=m(y).sort(d),g=Math.min(g,y[0]),_=Math.max(_,y[y.length-1])),g=v(f.min,h)||g,_=v(f.max,h)||_,g=g===u?+r().startOf(p):g,_=_===l?+r().endOf(p)+1:_,h.min=Math.min(g,_),h.max=Math.max(g+1,_),h._horizontal=h.isHorizontal(),h._table=[],h._timestamps={data:y,datasets:M,labels:x}},buildTicks:function(){var e,t,n,i=this,a=i.min,o=i.max,s=i.options,l=s.time,u=[],d=[];switch(s.ticks.source){case"data":u=i._timestamps.data;break;case"labels":u=i._timestamps.labels;break;case"auto":default:u=_(a,o,i.getLabelCapacity(a),s)}for("ticks"===s.bounds&&u.length&&(a=u[0],o=u[u.length-1]),a=v(l.min,i)||a,o=v(l.max,i)||o,e=0,t=u.length;e<t;++e)(n=u[e])>=a&&n<=o&&d.push(n);return i.min=a,i.max=o,i._unit=l.unit||function(e,t,n,i){var a,o,s=r.duration(r(i).diff(r(n)));for(a=c.length-1;a>=c.indexOf(t);a--)if(o=c[a],h[o].common&&s.as(o)>=e.length)return o;return c[t?c.indexOf(t):0]}(d,l.minUnit,i.min,i.max),i._majorUnit=g(i._unit),i._table=function(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var i,a,o,s,l,u=[],h=[t];for(i=0,a=e.length;i<a;++i)(s=e[i])>t&&s<n&&h.push(s);for(h.push(n),i=0,a=h.length;i<a;++i)l=h[i+1],o=h[i-1],s=h[i],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||u.push({time:s,pos:i/(a-1)});return u}(i._timestamps.data,a,o,s.distribution),i._offsets=function(e,t,n,r,i){var a,o,s=0,l=0;return i.offset&&t.length&&(i.time.min||(a=t.length>1?t[1]:r,o=t[0],s=(f(e,"time",a,"pos")-f(e,"time",o,"pos"))/2),i.time.max||(a=t[t.length-1],o=t.length>1?t[t.length-2]:n,l=(f(e,"time",a,"pos")-f(e,"time",o,"pos"))/2)),{left:s,right:l}}(i._table,d,a,o,s),i._labelFormat=function(e,t){var n,r,i,a=e.length;for(n=0;n<a;n++){if(0!==(r=p(e[n],t)).millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===r.second()&&0===r.minute()&&0===r.hour()||(i=!0)}return i?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}(i._timestamps.data,l),function(e,t){var n,i,a,o,s=[];for(n=0,i=e.length;n<i;++n)a=e[n],o=!!t&&a===+r(a).startOf(t),s.push({value:a,major:o});return s}(d,i._majorUnit)},getLabelForIndex:function(e,t){var n=this.chart.data,r=this.options.time,i=n.labels&&e<n.labels.length?n.labels[e]:"",o=n.datasets[t].data[e];return a.isObject(o)&&(i=this.getRightValue(o)),r.tooltipFormat?p(i,r).format(r.tooltipFormat):"string"==typeof i?i:p(i,r).format(this._labelFormat)},tickFormatFunction:function(e,t,n,r){var i=this.options,o=e.valueOf(),s=i.time.displayFormats,l=s[this._unit],u=this._majorUnit,h=s[u],c=e.clone().startOf(u).valueOf(),d=i.ticks.major,m=d.enabled&&u&&h&&o===c,f=e.format(r||(m?h:l)),p=m?d:i.ticks.minor,v=a.valueOrDefault(p.callback,p.userCallback);return v?v(f,t,n):f},convertTicksToLabels:function(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(this.tickFormatFunction(r(e[t].value),t,e));return i},getPixelForOffset:function(e){var t=this,n=t._horizontal?t.width:t.height,r=t._horizontal?t.left:t.top,i=f(t._table,"time",e,"pos");return r+n*(t._offsets.left+i)/(t._offsets.left+1+t._offsets.right)},getPixelForValue:function(e,t,n){var r=null;if(void 0!==t&&void 0!==n&&(r=this._timestamps.datasets[n][t]),null===r&&(r=v(e,this)),null!==r)return this.getPixelForOffset(r)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._horizontal?t.width:t.height,i=t._horizontal?t.left:t.top,a=(n?(e-i)/n:0)*(t._offsets.left+1+t._offsets.left)-t._offsets.right,o=f(t._table,"pos",a,"time");return r(o)},getLabelWidth:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=a.toRadians(t.maxRotation),o=Math.cos(r),s=Math.sin(r);return n*o+a.valueOrDefault(t.fontSize,i.global.defaultFontSize)*s},getLabelCapacity:function(e){var t=this,n=t.options.time.displayFormats.millisecond,i=t.tickFormatFunction(r(e),0,[],n),a=t.getLabelWidth(i),o=t.isHorizontal()?t.width:t.height,s=Math.floor(o/a);return s>0?s:1}});s.registerScaleType("time",e,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r={"./af":214,"./af.js":214,"./ar":215,"./ar-dz":216,"./ar-dz.js":216,"./ar-kw":217,"./ar-kw.js":217,"./ar-ly":218,"./ar-ly.js":218,"./ar-ma":219,"./ar-ma.js":219,"./ar-sa":220,"./ar-sa.js":220,"./ar-tn":221,"./ar-tn.js":221,"./ar.js":215,"./az":222,"./az.js":222,"./be":223,"./be.js":223,"./bg":224,"./bg.js":224,"./bm":225,"./bm.js":225,"./bn":226,"./bn.js":226,"./bo":227,"./bo.js":227,"./br":228,"./br.js":228,"./bs":229,"./bs.js":229,"./ca":230,"./ca.js":230,"./cs":231,"./cs.js":231,"./cv":232,"./cv.js":232,"./cy":233,"./cy.js":233,"./da":234,"./da.js":234,"./de":235,"./de-at":236,"./de-at.js":236,"./de-ch":237,"./de-ch.js":237,"./de.js":235,"./dv":238,"./dv.js":238,"./el":239,"./el.js":239,"./en-au":240,"./en-au.js":240,"./en-ca":241,"./en-ca.js":241,"./en-gb":242,"./en-gb.js":242,"./en-ie":243,"./en-ie.js":243,"./en-il":244,"./en-il.js":244,"./en-nz":245,"./en-nz.js":245,"./eo":246,"./eo.js":246,"./es":247,"./es-do":248,"./es-do.js":248,"./es-us":249,"./es-us.js":249,"./es.js":247,"./et":250,"./et.js":250,"./eu":251,"./eu.js":251,"./fa":252,"./fa.js":252,"./fi":253,"./fi.js":253,"./fo":254,"./fo.js":254,"./fr":255,"./fr-ca":256,"./fr-ca.js":256,"./fr-ch":257,"./fr-ch.js":257,"./fr.js":255,"./fy":258,"./fy.js":258,"./gd":259,"./gd.js":259,"./gl":260,"./gl.js":260,"./gom-latn":261,"./gom-latn.js":261,"./gu":262,"./gu.js":262,"./he":263,"./he.js":263,"./hi":264,"./hi.js":264,"./hr":265,"./hr.js":265,"./hu":266,"./hu.js":266,"./hy-am":267,"./hy-am.js":267,"./id":268,"./id.js":268,"./is":269,"./is.js":269,"./it":270,"./it.js":270,"./ja":271,"./ja.js":271,"./jv":272,"./jv.js":272,"./ka":273,"./ka.js":273,"./kk":274,"./kk.js":274,"./km":275,"./km.js":275,"./kn":276,"./kn.js":276,"./ko":277,"./ko.js":277,"./ky":278,"./ky.js":278,"./lb":279,"./lb.js":279,"./lo":280,"./lo.js":280,"./lt":281,"./lt.js":281,"./lv":282,"./lv.js":282,"./me":283,"./me.js":283,"./mi":284,"./mi.js":284,"./mk":285,"./mk.js":285,"./ml":286,"./ml.js":286,"./mn":287,"./mn.js":287,"./mr":288,"./mr.js":288,"./ms":289,"./ms-my":290,"./ms-my.js":290,"./ms.js":289,"./mt":291,"./mt.js":291,"./my":292,"./my.js":292,"./nb":293,"./nb.js":293,"./ne":294,"./ne.js":294,"./nl":295,"./nl-be":296,"./nl-be.js":296,"./nl.js":295,"./nn":297,"./nn.js":297,"./pa-in":298,"./pa-in.js":298,"./pl":299,"./pl.js":299,"./pt":300,"./pt-br":301,"./pt-br.js":301,"./pt.js":300,"./ro":302,"./ro.js":302,"./ru":303,"./ru.js":303,"./sd":304,"./sd.js":304,"./se":305,"./se.js":305,"./si":306,"./si.js":306,"./sk":307,"./sk.js":307,"./sl":308,"./sl.js":308,"./sq":309,"./sq.js":309,"./sr":310,"./sr-cyrl":311,"./sr-cyrl.js":311,"./sr.js":310,"./ss":312,"./ss.js":312,"./sv":313,"./sv.js":313,"./sw":314,"./sw.js":314,"./ta":315,"./ta.js":315,"./te":316,"./te.js":316,"./tet":317,"./tet.js":317,"./tg":318,"./tg.js":318,"./th":319,"./th.js":319,"./tl-ph":320,"./tl-ph.js":320,"./tlh":321,"./tlh.js":321,"./tr":322,"./tr.js":322,"./tzl":323,"./tzl.js":323,"./tzm":324,"./tzm-latn":325,"./tzm-latn.js":325,"./tzm.js":324,"./ug-cn":326,"./ug-cn.js":326,"./uk":327,"./uk.js":327,"./ur":328,"./ur.js":328,"./uz":329,"./uz-latn":330,"./uz-latn.js":330,"./uz.js":329,"./vi":331,"./vi.js":331,"./x-pseudo":332,"./x-pseudo.js":332,"./yo":333,"./yo.js":333,"./zh-cn":334,"./zh-cn.js":334,"./zh-hk":335,"./zh-hk.js":335,"./zh-tw":336,"./zh-tw.js":336};function i(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=531},function(e,t,n){"use strict";var r=n(24),i=n(85),a=n(15);r._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),r._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}},mode:"index",axis:"y"}}),e.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:i.Rectangle,initialize:function(){var t;e.DatasetController.prototype.initialize.apply(this,arguments),(t=this.getMeta()).stack=this.getDataset().stack,t.bar=!0},update:function(e){var t,n,r=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=r.length;t<n;++t)this.updateElement(r[t],t,e)},updateElement:function(e,t,n){var r=this,i=r.chart,o=r.getMeta(),s=r.getDataset(),l=e.custom||{},u=i.options.elements.rectangle;e._xScale=r.getScaleForId(o.xAxisID),e._yScale=r.getScaleForId(o.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={datasetLabel:s.label,label:i.data.labels[t],borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:a.valueAtIndexOrDefault(s.backgroundColor,t,u.backgroundColor),borderColor:l.borderColor?l.borderColor:a.valueAtIndexOrDefault(s.borderColor,t,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:a.valueAtIndexOrDefault(s.borderWidth,t,u.borderWidth)},r.updateElementGeometry(e,t,n),e.pivot()},updateElementGeometry:function(e,t,n){var r=this,i=e._model,a=r.getValueScale(),o=a.getBasePixel(),s=a.isHorizontal(),l=r._ruler||r.getRuler(),u=r.calculateBarValuePixels(r.index,t),h=r.calculateBarIndexPixels(r.index,t,l);i.horizontal=s,i.base=n?o:u.base,i.x=s?n?o:u.head:h.center,i.y=s?h.center:n?o:u.head,i.height=s?h.size:void 0,i.width=s?void 0:h.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(e){var t,n,r=this.chart,i=this.getIndexScale().options.stacked,a=void 0===e?r.data.datasets.length:e+1,o=[];for(t=0;t<a;++t)(n=r.getDatasetMeta(t)).bar&&r.isDatasetVisible(t)&&(!1===i||!0===i&&-1===o.indexOf(n.stack)||void 0===i&&(void 0===n.stack||-1===o.indexOf(n.stack)))&&o.push(n.stack);return o},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),r=void 0!==t?n.indexOf(t):-1;return-1===r?n.length-1:r},getRuler:function(){var e,t,n=this.getIndexScale(),r=this.getStackCount(),i=this.index,o=n.isHorizontal(),s=o?n.left:n.top,l=s+(o?n.width:n.height),u=[];for(e=0,t=this.getMeta().data.length;e<t;++e)u.push(n.getPixelForValue(null,e,i));return{min:a.isNullOrUndef(n.options.barThickness)?function(e,t){var n,r,i,a,o=e.isHorizontal()?e.width:e.height,s=e.getTicks();for(i=1,a=t.length;i<a;++i)o=Math.min(o,t[i]-t[i-1]);for(i=0,a=s.length;i<a;++i)r=e.getPixelForTick(i),o=i>0?Math.min(o,r-n):o,n=r;return o}(n,u):-1,pixels:u,start:s,end:l,stackCount:r,scale:n}},calculateBarValuePixels:function(e,t){var n,r,i,a,o,s,l=this.chart,u=this.getMeta(),h=this.getValueScale(),c=l.data.datasets,d=h.getRightValue(c[e].data[t]),m=h.options.stacked,f=u.stack,p=0;if(m||void 0===m&&void 0!==f)for(n=0;n<e;++n)(r=l.getDatasetMeta(n)).bar&&r.stack===f&&r.controller.getValueScaleId()===h.id&&l.isDatasetVisible(n)&&(i=h.getRightValue(c[n].data[t]),(d<0&&i<0||d>=0&&i>0)&&(p+=i));return a=h.getPixelForValue(p),{size:s=((o=h.getPixelForValue(p+d))-a)/2,base:a,head:o,center:o+s/2}},calculateBarIndexPixels:function(e,t,n){var r=n.scale.options,i="flex"===r.barThickness?function(e,t,n){var r,i=t.pixels,a=i[e],o=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null,l=n.categoryPercentage;return null===o&&(o=a-(null===s?t.end-a:s-a)),null===s&&(s=a+a-o),r=a-(a-o)/2*l,{chunk:(s-o)/2*l/t.stackCount,ratio:n.barPercentage,start:r}}(t,n,r):function(e,t,n){var r,i,o=n.barThickness,s=t.stackCount,l=t.pixels[e];return a.isNullOrUndef(o)?(r=t.min*n.categoryPercentage,i=n.barPercentage):(r=o*s,i=1),{chunk:r/s,ratio:i,start:l-r/2}}(t,n,r),o=this.getStackIndex(e,this.getMeta().stack),s=i.start+i.chunk*o+i.chunk/2,l=Math.min(a.valueOrDefault(r.maxBarThickness,1/0),i.chunk*i.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}},draw:function(){var e=this.chart,t=this.getValueScale(),n=this.getMeta().data,r=this.getDataset(),i=n.length,o=0;for(a.canvas.clipArea(e.ctx,e.chartArea);o<i;++o)isNaN(t.getRightValue(r.data[o]))||n[o].draw();a.canvas.unclipArea(e.ctx)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},function(e,t,n){"use strict";var r=n(24),i=n(85),a=n(15);r._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",r=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+r.r+")"}}}}),e.exports=function(e){e.controllers.bubble=e.DatasetController.extend({dataElementType:i.Point,update:function(e){var t=this,n=t.getMeta().data;a.each(n,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,i=r.getMeta(),a=e.custom||{},o=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),l=r._resolveElementOptions(e,t),u=r.getDataset().data[t],h=r.index,c=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof u?u:NaN,t,h),d=n?s.getBasePixel():s.getPixelForValue(u,t,h);e._xScale=o,e._yScale=s,e._options=l,e._datasetIndex=h,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:a.skip||isNaN(c)||isNaN(d),x:c,y:d},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=a.valueOrDefault(n.hoverBackgroundColor,a.getHoverColor(n.backgroundColor)),t.borderColor=a.valueOrDefault(n.hoverBorderColor,a.getHoverColor(n.borderColor)),t.borderWidth=a.valueOrDefault(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveElementOptions:function(e,t){var n,r,i,o=this.chart,s=o.data.datasets[this.index],l=e.custom||{},u=o.options.elements.point,h=a.options.resolve,c=s.data[t],d={},m={chart:o,dataIndex:t,dataset:s,datasetIndex:this.index},f=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(n=0,r=f.length;n<r;++n)d[i=f[n]]=h([l[i],s[i],u[i]],m,t);return d.radius=h([l.radius,c?c.r:void 0,s.radius,u.radius],m,t),d}})}},function(e,t,n){"use strict";var r=n(24),i=n(85),a=n(15);r._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,i=n.labels;if(r.length)for(var a=0;a<r[0].data.length;++a)t.push('<li><span style="background-color:'+r[0].backgroundColor[a]+'"></span>'),i[a]&&t.push(i[a]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var i=e.getDatasetMeta(0),o=t.datasets[0],s=i.data[r],l=s&&s.custom||{},u=a.valueAtIndexOrDefault,h=e.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:u(o.backgroundColor,r,h.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(o.borderColor,r,h.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(o.borderWidth,r,h.borderWidth),hidden:isNaN(o.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,i,a=t.index,o=this.chart;for(n=0,r=(o.data.datasets||[]).length;n<r;++n)(i=o.getDatasetMeta(n)).data[a]&&(i.data[a].hidden=!i.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return a.isArray(n)?(n=n.slice())[0]+=r:n+=r,n}}}}),r._set("pie",a.clone(r.doughnut)),r._set("pie",{cutoutPercentage:0}),e.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:i.Arc,linkScales:a.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t=this,n=t.chart,r=n.chartArea,i=n.options,o=i.elements.arc,s=r.right-r.left-o.borderWidth,l=r.bottom-r.top-o.borderWidth,u=Math.min(s,l),h={x:0,y:0},c=t.getMeta(),d=i.cutoutPercentage,m=i.circumference;if(m<2*Math.PI){var f=i.rotation%(2*Math.PI),p=(f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0))+m,v={x:Math.cos(f),y:Math.sin(f)},g={x:Math.cos(p),y:Math.sin(p)},_=f<=0&&p>=0||f<=2*Math.PI&&2*Math.PI<=p,y=f<=.5*Math.PI&&.5*Math.PI<=p||f<=2.5*Math.PI&&2.5*Math.PI<=p,M=f<=-Math.PI&&-Math.PI<=p||f<=Math.PI&&Math.PI<=p,x=f<=.5*-Math.PI&&.5*-Math.PI<=p||f<=1.5*Math.PI&&1.5*Math.PI<=p,b=d/100,w={x:M?-1:Math.min(v.x*(v.x<0?1:b),g.x*(g.x<0?1:b)),y:x?-1:Math.min(v.y*(v.y<0?1:b),g.y*(g.y<0?1:b))},L={x:_?1:Math.max(v.x*(v.x>0?1:b),g.x*(g.x>0?1:b)),y:y?1:Math.max(v.y*(v.y>0?1:b),g.y*(g.y>0?1:b))},q={width:.5*(L.x-w.x),height:.5*(L.y-w.y)};u=Math.min(s/q.width,l/q.height),h={x:-.5*(L.x+w.x),y:-.5*(L.y+w.y)}}n.borderWidth=t.getMaxBorderWidth(c.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(d?n.outerRadius/100*d:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=h.x*n.outerRadius,n.offsetY=h.y*n.outerRadius,c.total=t.calculateTotal(),t.outerRadius=n.outerRadius-n.radiusLength*t.getRingIndex(t.index),t.innerRadius=Math.max(t.outerRadius-n.radiusLength,0),a.each(c.data,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,i=r.chart,o=i.chartArea,s=i.options,l=s.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,c=s.rotation,d=s.rotation,m=r.getDataset(),f=n&&l.animateRotate?0:e.hidden?0:r.calculateCircumference(m.data[t])*(s.circumference/(2*Math.PI)),p=n&&l.animateScale?0:r.innerRadius,v=n&&l.animateScale?0:r.outerRadius,g=a.valueAtIndexOrDefault;a.extend(e,{_datasetIndex:r.index,_index:t,_model:{x:u+i.offsetX,y:h+i.offsetY,startAngle:c,endAngle:d,circumference:f,outerRadius:v,innerRadius:p,label:g(m.label,t,i.data.labels[t])}});var _=e._model,y=e.custom||{},M=a.valueAtIndexOrDefault,x=this.chart.options.elements.arc;_.backgroundColor=y.backgroundColor?y.backgroundColor:M(m.backgroundColor,t,x.backgroundColor),_.borderColor=y.borderColor?y.borderColor:M(m.borderColor,t,x.borderColor),_.borderWidth=y.borderWidth?y.borderWidth:M(m.borderWidth,t,x.borderWidth),n&&l.animateRotate||(_.startAngle=0===t?s.rotation:r.getMeta().data[t-1]._model.endAngle,_.endAngle=_.startAngle+_.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),r=0;return a.each(n.data,function(n,i){e=t.data[i],isNaN(e)||n.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){for(var t,n,r=0,i=this.index,a=e.length,o=0;o<a;o++)t=e[o]._model?e[o]._model.borderWidth:0,r=(n=e[o]._chart?e[o]._chart.config.data.datasets[i].hoverBorderWidth:0)>(r=t>r?t:r)?n:r;return r}})}},function(e,t,n){"use strict";var r=n(24),i=n(85),a=n(15);r._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(e){function t(e,t){return a.valueOrDefault(e.showLine,t.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,update:function(e){var n,r,i,o=this,s=o.getMeta(),l=s.dataset,u=s.data||[],h=o.chart.options,c=h.elements.line,d=o.getScaleForId(s.yAxisID),m=o.getDataset(),f=t(m,h);for(f&&(i=l.custom||{},void 0!==m.tension&&void 0===m.lineTension&&(m.lineTension=m.tension),l._scale=d,l._datasetIndex=o.index,l._children=u,l._model={spanGaps:m.spanGaps?m.spanGaps:h.spanGaps,tension:i.tension?i.tension:a.valueOrDefault(m.lineTension,c.tension),backgroundColor:i.backgroundColor?i.backgroundColor:m.backgroundColor||c.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:m.borderWidth||c.borderWidth,borderColor:i.borderColor?i.borderColor:m.borderColor||c.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:m.borderCapStyle||c.borderCapStyle,borderDash:i.borderDash?i.borderDash:m.borderDash||c.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:m.borderDashOffset||c.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:m.borderJoinStyle||c.borderJoinStyle,fill:i.fill?i.fill:void 0!==m.fill?m.fill:c.fill,steppedLine:i.steppedLine?i.steppedLine:a.valueOrDefault(m.steppedLine,c.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:a.valueOrDefault(m.cubicInterpolationMode,c.cubicInterpolationMode)},l.pivot()),n=0,r=u.length;n<r;++n)o.updateElement(u[n],n,e);for(f&&0!==l._model.tension&&o.updateBezierControlPoints(),n=0,r=u.length;n<r;++n)u[n].pivot()},getPointBackgroundColor:function(e,t){var n=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),i=e.custom||{};return i.backgroundColor?n=i.backgroundColor:r.pointBackgroundColor?n=a.valueAtIndexOrDefault(r.pointBackgroundColor,t,n):r.backgroundColor&&(n=r.backgroundColor),n},getPointBorderColor:function(e,t){var n=this.chart.options.elements.point.borderColor,r=this.getDataset(),i=e.custom||{};return i.borderColor?n=i.borderColor:r.pointBorderColor?n=a.valueAtIndexOrDefault(r.pointBorderColor,t,n):r.borderColor&&(n=r.borderColor),n},getPointBorderWidth:function(e,t){var n=this.chart.options.elements.point.borderWidth,r=this.getDataset(),i=e.custom||{};return isNaN(i.borderWidth)?!isNaN(r.pointBorderWidth)||a.isArray(r.pointBorderWidth)?n=a.valueAtIndexOrDefault(r.pointBorderWidth,t,n):isNaN(r.borderWidth)||(n=r.borderWidth):n=i.borderWidth,n},getPointRotation:function(e,t){var n=this.chart.options.elements.point.rotation,r=this.getDataset(),i=e.custom||{};return isNaN(i.rotation)?isNaN(r.pointRotation)&&!a.isArray(r.pointRotation)||(n=a.valueAtIndexOrDefault(r.pointRotation,t,n)):n=i.rotation,n},updateElement:function(e,t,n){var r,i,o=this,s=o.getMeta(),l=e.custom||{},u=o.getDataset(),h=o.index,c=u.data[t],d=o.getScaleForId(s.yAxisID),m=o.getScaleForId(s.xAxisID),f=o.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),r=m.getPixelForValue("object"==typeof c?c:NaN,t,h),i=n?d.getBasePixel():o.calculatePointY(c,t,h),e._xScale=m,e._yScale=d,e._datasetIndex=h,e._index=t,e._model={x:r,y:i,skip:l.skip||isNaN(r)||isNaN(i),radius:l.radius||a.valueAtIndexOrDefault(u.pointRadius,t,f.radius),pointStyle:l.pointStyle||a.valueAtIndexOrDefault(u.pointStyle,t,f.pointStyle),rotation:o.getPointRotation(e,t),backgroundColor:o.getPointBackgroundColor(e,t),borderColor:o.getPointBorderColor(e,t),borderWidth:o.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||a.valueAtIndexOrDefault(u.pointHitRadius,t,f.hitRadius)}},calculatePointY:function(e,t,n){var r,i,a,o=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),u=0,h=0;if(l.options.stacked){for(r=0;r<n;r++)if(i=o.data.datasets[r],"line"===(a=o.getDatasetMeta(r)).type&&a.yAxisID===l.id&&o.isDatasetVisible(r)){var c=Number(l.getRightValue(i.data[t]));c<0?h+=c||0:u+=c||0}var d=Number(l.getRightValue(e));return d<0?l.getPixelForValue(h+d):l.getPixelForValue(u+d)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,r,i=this.getMeta(),o=this.chart.chartArea,s=i.data||[];function l(e,t,n){return Math.max(Math.min(e,n),t)}if(i.dataset._model.spanGaps&&(s=s.filter(function(e){return!e._model.skip})),"monotone"===i.dataset._model.cubicInterpolationMode)a.splineCurveMonotone(s);else for(e=0,t=s.length;e<t;++e)n=s[e]._model,r=a.splineCurve(a.previousItem(s,e)._model,n,a.nextItem(s,e)._model,i.dataset._model.tension),n.controlPointPreviousX=r.previous.x,n.controlPointPreviousY=r.previous.y,n.controlPointNextX=r.next.x,n.controlPointNextY=r.next.y;if(this.chart.options.elements.line.capBezierPoints)for(e=0,t=s.length;e<t;++e)(n=s[e]._model).controlPointPreviousX=l(n.controlPointPreviousX,o.left,o.right),n.controlPointPreviousY=l(n.controlPointPreviousY,o.top,o.bottom),n.controlPointNextX=l(n.controlPointNextX,o.left,o.right),n.controlPointNextY=l(n.controlPointNextY,o.top,o.bottom)},draw:function(){var e,n=this.chart,r=this.getMeta(),i=r.data||[],o=n.chartArea,s=i.length,l=0;for(t(this.getDataset(),n.options)&&(e=(r.dataset._model.borderWidth||0)/2,a.canvas.clipArea(n.ctx,{left:o.left,right:o.right,top:o.top-e,bottom:o.bottom+e}),r.dataset.draw(),a.canvas.unclipArea(n.ctx));l<s;++l)i[l].draw(o)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},i=e._model;e.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius},i.backgroundColor=r.hoverBackgroundColor||a.valueAtIndexOrDefault(t.pointHoverBackgroundColor,n,a.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor||a.valueAtIndexOrDefault(t.pointHoverBorderColor,n,a.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth||a.valueAtIndexOrDefault(t.pointHoverBorderWidth,n,i.borderWidth),i.radius=r.hoverRadius||a.valueAtIndexOrDefault(t.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius)}})}},function(e,t,n){"use strict";var r=n(24),i=n(85),a=n(15);r._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,i=n.labels;if(r.length)for(var a=0;a<r[0].data.length;++a)t.push('<li><span style="background-color:'+r[0].backgroundColor[a]+'"></span>'),i[a]&&t.push(i[a]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var i=e.getDatasetMeta(0),o=t.datasets[0],s=i.data[r].custom||{},l=a.valueAtIndexOrDefault,u=e.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:l(o.backgroundColor,r,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(o.borderColor,r,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(o.borderWidth,r,u.borderWidth),hidden:isNaN(o.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,i,a=t.index,o=this.chart;for(n=0,r=(o.data.datasets||[]).length;n<r;++n)(i=o.getDatasetMeta(n)).data[a].hidden=!i.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}}),e.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:i.Arc,linkScales:a.noop,update:function(e){var t,n,r,i=this,o=i.getDataset(),s=i.getMeta(),l=i.chart.options.startAngle||0,u=i._starts=[],h=i._angles=[];for(i._updateRadius(),s.count=i.countVisibleElements(),t=0,n=o.data.length;t<n;t++)u[t]=l,r=i._computeAngle(t),h[t]=r,l+=r;a.each(s.data,function(t,n){i.updateElement(t,n,e)})},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,r=t.options,i=r.elements.arc,a=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max((a-i.borderWidth/2)/2,0),t.innerRadius=Math.max(r.cutoutPercentage?t.outerRadius/100*r.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var r=this,i=r.chart,o=r.getDataset(),s=i.options,l=s.animation,u=i.scale,h=i.data.labels,c=u.xCenter,d=u.yCenter,m=s.startAngle,f=e.hidden?0:u.getDistanceFromCenterForValue(o.data[t]),p=r._starts[t],v=p+(e.hidden?0:r._angles[t]),g=l.animateScale?0:u.getDistanceFromCenterForValue(o.data[t]);a.extend(e,{_datasetIndex:r.index,_index:t,_scale:u,_model:{x:c,y:d,innerRadius:0,outerRadius:n?g:f,startAngle:n&&l.animateRotate?m:p,endAngle:n&&l.animateRotate?m:v,label:a.valueAtIndexOrDefault(h,t,h[t])}});var _=this.chart.options.elements.arc,y=e.custom||{},M=a.valueAtIndexOrDefault,x=e._model;x.backgroundColor=y.backgroundColor?y.backgroundColor:M(o.backgroundColor,t,_.backgroundColor),x.borderColor=y.borderColor?y.borderColor:M(o.borderColor,t,_.borderColor),x.borderWidth=y.borderWidth?y.borderWidth:M(o.borderWidth,t,_.borderWidth),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return a.each(t.data,function(t,r){isNaN(e.data[r])||t.hidden||n++}),n},_computeAngle:function(e){var t=this,n=this.getMeta().count,r=t.getDataset(),i=t.getMeta();if(isNaN(r.data[e])||i.data[e].hidden)return 0;var o={chart:t.chart,dataIndex:e,dataset:r,datasetIndex:t.index};return a.options.resolve([t.chart.options.elements.arc.angle,2*Math.PI/n],o,e)}})}},function(e,t,n){"use strict";var r=n(24),i=n(85),a=n(15);r._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(e){e.controllers.radar=e.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,linkScales:a.noop,update:function(e){var t=this,n=t.getMeta(),r=n.dataset,i=n.data,o=r.custom||{},s=t.getDataset(),l=t.chart.options.elements.line,u=t.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),a.extend(n.dataset,{_datasetIndex:t.index,_scale:u,_children:i,_loop:!0,_model:{tension:o.tension?o.tension:a.valueOrDefault(s.lineTension,l.tension),backgroundColor:o.backgroundColor?o.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:s.borderWidth||l.borderWidth,borderColor:o.borderColor?o.borderColor:s.borderColor||l.borderColor,fill:o.fill?o.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:o.borderDash?o.borderDash:s.borderDash||l.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle}}),n.dataset.pivot(),a.each(i,function(n,r){t.updateElement(n,r,e)},t),t.updateBezierControlPoints()},updateElement:function(e,t,n){var r=this,i=e.custom||{},o=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,u=s.getPointPositionForValue(t,o.data[t]);void 0!==o.radius&&void 0===o.pointRadius&&(o.pointRadius=o.radius),void 0!==o.hitRadius&&void 0===o.pointHitRadius&&(o.pointHitRadius=o.hitRadius),a.extend(e,{_datasetIndex:r.index,_index:t,_scale:s,_model:{x:n?s.xCenter:u.x,y:n?s.yCenter:u.y,tension:i.tension?i.tension:a.valueOrDefault(o.lineTension,r.chart.options.elements.line.tension),radius:i.radius?i.radius:a.valueAtIndexOrDefault(o.pointRadius,t,l.radius),backgroundColor:i.backgroundColor?i.backgroundColor:a.valueAtIndexOrDefault(o.pointBackgroundColor,t,l.backgroundColor),borderColor:i.borderColor?i.borderColor:a.valueAtIndexOrDefault(o.pointBorderColor,t,l.borderColor),borderWidth:i.borderWidth?i.borderWidth:a.valueAtIndexOrDefault(o.pointBorderWidth,t,l.borderWidth),pointStyle:i.pointStyle?i.pointStyle:a.valueAtIndexOrDefault(o.pointStyle,t,l.pointStyle),rotation:i.rotation?i.rotation:a.valueAtIndexOrDefault(o.pointRotation,t,l.rotation),hitRadius:i.hitRadius?i.hitRadius:a.valueAtIndexOrDefault(o.pointHitRadius,t,l.hitRadius)}}),e._model.skip=i.skip?i.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,t=this.getMeta();a.each(t.data,function(n,r){var i=n._model,o=a.splineCurve(a.previousItem(t.data,r,!0)._model,i,a.nextItem(t.data,r,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(o.previous.x,e.right),e.left),i.controlPointPreviousY=Math.max(Math.min(o.previous.y,e.bottom),e.top),i.controlPointNextX=Math.max(Math.min(o.next.x,e.right),e.left),i.controlPointNextY=Math.max(Math.min(o.next.y,e.bottom),e.top),n.pivot()})},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,i=e._model;e.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius},i.radius=n.hoverRadius?n.hoverRadius:a.valueAtIndexOrDefault(t.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),i.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:a.valueAtIndexOrDefault(t.pointHoverBackgroundColor,r,a.getHoverColor(i.backgroundColor)),i.borderColor=n.hoverBorderColor?n.hoverBorderColor:a.valueAtIndexOrDefault(t.pointHoverBorderColor,r,a.getHoverColor(i.borderColor)),i.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:a.valueAtIndexOrDefault(t.pointHoverBorderWidth,r,i.borderWidth)}})}},function(e,t,n){"use strict";n(24)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),e.exports=function(e){e.controllers.scatter=e.controllers.line}},function(e,t,n){"use strict";e.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Radar=function(t,n){return n.type="radar",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},function(e,t,n){"use strict";e.exports={},e.exports.filler=n(547),e.exports.legend=n(548),e.exports.title=n(549)},function(e,t,n){"use strict";var r=n(24),i=n(85),a=n(15);r._set("global",{plugins:{filler:{propagate:!0}}});var o={dataset:function(e){var t=e.fill,n=e.chart,r=n.getDatasetMeta(t),i=r&&n.isDatasetVisible(t)&&r.dataset._children||[],a=i.length||0;return a?function(e,t){return t<a&&i[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,r=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===r?e.y:r}}}};function s(e,t,n){var r,i=e._model||{},a=i.fill;if(void 0===a&&(a=!!i.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(r=parseFloat(a,10),isFinite(r)&&Math.floor(r)===r)return"-"!==a[0]&&"+"!==a[0]||(r=t+r),!(r===t||r<0||r>=n)&&r;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function l(e){var t,n=e.el._model||{},r=e.el._scale||{},i=e.fill,a=null;if(isFinite(i))return null;if("start"===i?a=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===i?a=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:r.getBasePosition?a=r.getBasePosition():r.getBasePixel&&(a=r.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if("number"==typeof a&&isFinite(a))return{x:(t=r.isHorizontal())?a:null,y:t?null:a}}return null}function u(e,t,n){var r,i=e[t].fill,a=[t];if(!n)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!isFinite(i))return i;if(!(r=e[i]))return!1;if(r.visible)return i;a.push(i),i=r.fill}return!1}function h(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),o[n](e))}function c(e){return e&&!e.skip}function d(e,t,n,r,i){var o;if(r&&i){for(e.moveTo(t[0].x,t[0].y),o=1;o<r;++o)a.canvas.lineTo(e,t[o-1],t[o]);for(e.lineTo(n[i-1].x,n[i-1].y),o=i-1;o>0;--o)a.canvas.lineTo(e,n[o],n[o-1],!0)}}e.exports={id:"filler",afterDatasetsUpdate:function(e,t){var n,r,a,o,c=(e.data.datasets||[]).length,d=t.propagate,m=[];for(r=0;r<c;++r)o=null,(a=(n=e.getDatasetMeta(r)).dataset)&&a._model&&a instanceof i.Line&&(o={visible:e.isDatasetVisible(r),fill:s(a,r,c),chart:e,el:a}),n.$filler=o,m.push(o);for(r=0;r<c;++r)(o=m[r])&&(o.fill=u(m,r,d),o.boundary=l(o),o.mapper=h(o))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var i=e.ctx,o=n.el,s=o._view,l=o._children||[],u=n.mapper,h=s.backgroundColor||r.global.defaultColor;u&&h&&l.length&&(a.canvas.clipArea(i,e.chartArea),function(e,t,n,r,i,a){var o,s,l,u,h,m,f,p=t.length,v=r.spanGaps,g=[],_=[],y=0,M=0;for(e.beginPath(),o=0,s=p+!!a;o<s;++o)h=n(u=t[l=o%p]._view,l,r),m=c(u),f=c(h),m&&f?(y=g.push(u),M=_.push(h)):y&&M&&(v?(m&&g.push(u),f&&_.push(h)):(d(e,g,_,y,M),y=M=0,g=[],_=[]));d(e,g,_,y,M),e.closePath(),e.fillStyle=i,e.fill()}(i,l,u,s,h,o._loop),a.canvas.unclipArea(i))}}}},function(e,t,n){"use strict";var r=n(24),i=n(66),a=n(15),o=n(120),s=a.noop;function l(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}r._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,i=r.getDatasetMeta(n);i.hidden=null===i.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return a.isArray(t.datasets)?t.datasets.map(function(t,n){return{text:t.label,fillStyle:a.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}});var u=i.extend({initialize:function(e){a.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:s,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:function(){var e=this,t=e.options.labels||{},n=a.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:s,beforeFit:s,fit:function(){var e=this,t=e.options,n=t.labels,i=t.display,o=e.ctx,s=r.global,u=a.valueOrDefault,h=u(n.fontSize,s.defaultFontSize),c=u(n.fontStyle,s.defaultFontStyle),d=u(n.fontFamily,s.defaultFontFamily),m=a.fontString(h,c,d),f=e.legendHitBoxes=[],p=e.minSize,v=e.isHorizontal();if(v?(p.width=e.maxWidth,p.height=i?10:0):(p.width=i?10:0,p.height=e.maxHeight),i)if(o.font=m,v){var g=e.lineWidths=[0],_=e.legendItems.length?h+n.padding:0;o.textAlign="left",o.textBaseline="top",a.each(e.legendItems,function(t,r){var i=l(n,h)+h/2+o.measureText(t.text).width;g[g.length-1]+i+n.padding>=e.width&&(_+=h+n.padding,g[g.length]=e.left),f[r]={left:0,top:0,width:i,height:h},g[g.length-1]+=i+n.padding}),p.height+=_}else{var y=n.padding,M=e.columnWidths=[],x=n.padding,b=0,w=0,L=h+y;a.each(e.legendItems,function(e,t){var r=l(n,h)+h/2+o.measureText(e.text).width;w+L>p.height&&(x+=b+n.padding,M.push(b),b=0,w=0),b=Math.max(b,r),w+=L,f[t]={left:0,top:0,width:r,height:h}}),x+=b,M.push(b),p.width+=x}e.width=p.width,e.height=p.height},afterFit:s,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,i=r.global,o=i.elements.line,s=e.width,u=e.lineWidths;if(t.display){var h,c=e.ctx,d=a.valueOrDefault,m=d(n.fontColor,i.defaultFontColor),f=d(n.fontSize,i.defaultFontSize),p=d(n.fontStyle,i.defaultFontStyle),v=d(n.fontFamily,i.defaultFontFamily),g=a.fontString(f,p,v);c.textAlign="left",c.textBaseline="middle",c.lineWidth=.5,c.strokeStyle=m,c.fillStyle=m,c.font=g;var _=l(n,f),y=e.legendHitBoxes,M=e.isHorizontal();h=M?{x:e.left+(s-u[0])/2,y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+n.padding,line:0};var x=f+n.padding;a.each(e.legendItems,function(r,l){var m=c.measureText(r.text).width,p=_+f/2+m,v=h.x,g=h.y;M?v+p>=s&&(g=h.y+=x,h.line++,v=h.x=e.left+(s-u[h.line])/2):g+x>e.bottom&&(v=h.x=v+e.columnWidths[h.line]+n.padding,g=h.y=e.top+n.padding,h.line++),function(e,n,r){if(!(isNaN(_)||_<=0)){c.save(),c.fillStyle=d(r.fillStyle,i.defaultColor),c.lineCap=d(r.lineCap,o.borderCapStyle),c.lineDashOffset=d(r.lineDashOffset,o.borderDashOffset),c.lineJoin=d(r.lineJoin,o.borderJoinStyle),c.lineWidth=d(r.lineWidth,o.borderWidth),c.strokeStyle=d(r.strokeStyle,i.defaultColor);var s=0===d(r.lineWidth,o.borderWidth);if(c.setLineDash&&c.setLineDash(d(r.lineDash,o.borderDash)),t.labels&&t.labels.usePointStyle){var l=f*Math.SQRT2/2,u=l/Math.SQRT2,h=e+u,m=n+u;a.canvas.drawPoint(c,r.pointStyle,l,h,m)}else s||c.strokeRect(e,n,_,f),c.fillRect(e,n,_,f);c.restore()}}(v,g,r),y[l].left=v,y[l].top=g,function(e,t,n,r){var i=f/2,a=_+i+e,o=t+i;c.fillText(n.text,a,o),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(a,o),c.lineTo(a+r,o),c.stroke())}(v,g,r,m),M?h.x+=p+n.padding:h.y+=x})}},handleEvent:function(e){var t=this,n=t.options,r="mouseup"===e.type?"click":e.type,i=!1;if("mousemove"===r){if(!n.onHover)return}else{if("click"!==r)return;if(!n.onClick)return}var a=e.x,o=e.y;if(a>=t.left&&a<=t.right&&o>=t.top&&o<=t.bottom)for(var s=t.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(a>=u.left&&a<=u.left+u.width&&o>=u.top&&o<=u.top+u.height){if("click"===r){n.onClick.call(t,e.native,t.legendItems[l]),i=!0;break}if("mousemove"===r){n.onHover.call(t,e.native,t.legendItems[l]),i=!0;break}}}return i}});function h(e,t){var n=new u({ctx:e.ctx,options:t,chart:e});o.configure(e,n,t),o.addBox(e,n),e.legend=n}e.exports={id:"legend",_element:u,beforeInit:function(e){var t=e.options.legend;t&&h(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(a.mergeIf(t,r.global.legend),n?(o.configure(e,n,t),n.options=t):h(e,t)):n&&(o.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}}},function(e,t,n){"use strict";var r=n(24),i=n(66),a=n(15),o=n(120),s=a.noop;r._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var l=i.extend({initialize:function(e){a.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:s,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:s,afterBuildLabels:s,beforeFit:s,fit:function(){var e=this,t=a.valueOrDefault,n=e.options,i=n.display,o=t(n.fontSize,r.global.defaultFontSize),s=e.minSize,l=a.isArray(n.text)?n.text.length:1,u=a.options.toLineHeight(n.lineHeight,o),h=i?l*u+2*n.padding:0;e.isHorizontal()?(s.width=e.maxWidth,s.height=h):(s.width=h,s.height=e.maxHeight),e.width=s.width,e.height=s.height},afterFit:s,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=a.valueOrDefault,i=e.options,o=r.global;if(i.display){var s,l,u,h=n(i.fontSize,o.defaultFontSize),c=n(i.fontStyle,o.defaultFontStyle),d=n(i.fontFamily,o.defaultFontFamily),m=a.fontString(h,c,d),f=a.options.toLineHeight(i.lineHeight,h),p=f/2+i.padding,v=0,g=e.top,_=e.left,y=e.bottom,M=e.right;t.fillStyle=n(i.fontColor,o.defaultFontColor),t.font=m,e.isHorizontal()?(l=_+(M-_)/2,u=g+p,s=M-_):(l="left"===i.position?_+p:M-p,u=g+(y-g)/2,s=y-g,v=Math.PI*("left"===i.position?-.5:.5)),t.save(),t.translate(l,u),t.rotate(v),t.textAlign="center",t.textBaseline="middle";var x=i.text;if(a.isArray(x))for(var b=0,w=0;w<x.length;++w)t.fillText(x[w],0,b,s),b+=f;else t.fillText(x,0,0,s);t.restore()}}});function u(e,t){var n=new l({ctx:e.ctx,options:t,chart:e});o.configure(e,n,t),o.addBox(e,n),e.titleBlock=n}e.exports={id:"title",_element:l,beforeInit:function(e){var t=e.options.title;t&&u(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(a.mergeIf(t,r.global.title),n?(o.configure(e,n,t),n.options=t):u(e,t)):n&&(o.removeBox(e,n),delete e.titleBlock)}}},,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(2),a=n(12),o=n(110),s=n(37),l=n(111),u=n.n(l);function h(e,t){var n=-1,r=Date.now(),i={label:"texture count",data:[{x:0,y:0}]},a={label:"geometry count",data:[{x:0,y:0}],borderColor:"rgba(75,192,192,1)"},o=["0s"],s=new u.a(e,{type:"line",data:{labels:o,datasets:[i,a]},options:{animation:{duration:10},scales:{yAxes:[{display:!0,ticks:{suggestedMin:0}}]}}});this.update=function(e){var l=Math.floor((Date.now()-r)/1e3),u="".concat(l,"s");n>0&&o[n]==u?o.push(""):(o.push(u),n=o.length-1),o.length>60&&(o.shift(),n--);var h=t.info.memory;i.data.push({x:l,y:h.textures}),a.data.push({x:l,y:h.geometries}),i.data.length>60&&(i.data.shift(),a.data.shift()),e&&s.update()},this.resize=function(){s.resize()}}var c=n(4),d=n.n(c),m=n(5),f=n.n(m),p=n(9),v=n.n(p),g=n(7),_=n.n(g),y=n(10),M=n.n(y),x=new r.Font(JSON.parse('{"glyphs":{"":{"x_min":41,"x_max":710,"ha":753,"o":"m 371 -15 q 131 78 222 -15 q 41 322 41 172 q 133 573 41 474 q 378 672 225 672 q 619 574 528 672 q 710 326 710 477 q 617 80 710 175 q 371 -15 525 -15 m 377 619 q 226 530 272 619 q 180 327 180 441 q 227 125 180 216 q 375 35 274 35 q 524 123 478 35 q 570 326 570 211 q 524 529 570 440 q 377 619 479 619 "},"S":{"x_min":50,"x_max":639,"ha":699,"o":"m 88 208 q 179 88 122 131 q 318 46 237 46 q 457 98 397 46 q 518 227 518 150 q 401 400 518 336 q 184 498 293 448 q 68 688 68 566 q 156 880 68 811 q 370 950 244 950 q 480 936 430 950 q 597 891 530 922 q 570 822 583 858 q 553 756 558 786 l 539 756 q 354 897 502 897 q 231 855 282 897 q 181 742 181 813 q 298 580 181 640 q 519 483 408 531 q 639 286 639 413 q 538 68 639 152 q 301 -15 438 -15 q 166 2 229 -15 q 50 59 104 19 q 68 135 62 104 q 75 205 75 166 l 88 208 "},"/":{"x_min":-36.03125,"x_max":404.15625,"ha":383,"o":"m -36 -125 l 340 1025 l 404 1024 l 28 -126 l -36 -125 "},"":{"x_min":11,"x_max":713,"ha":725,"o":"m 11 839 l 15 884 l 11 932 q 194 927 72 932 q 361 922 316 922 q 544 927 421 922 q 713 932 668 932 q 707 883 707 911 q 707 861 707 870 q 713 834 707 852 q 609 850 666 843 q 504 857 552 857 l 428 857 q 426 767 428 830 q 424 701 424 704 l 428 220 q 442 0 428 122 q 362 8 401 3 q 323 5 344 8 q 282 0 301 2 q 289 132 282 40 q 296 259 296 225 l 296 683 l 296 857 q 11 839 164 857 "},"":{"x_min":41,"x_max":960,"ha":1006,"o":"m 441 -10 q 162 76 283 -10 q 41 316 41 163 q 162 562 41 470 q 441 654 283 654 q 434 838 441 719 q 427 971 427 957 q 464 965 443 968 q 503 962 485 962 q 540 965 519 962 q 578 970 560 968 q 563 654 563 824 q 839 567 719 654 q 960 324 960 481 q 841 79 960 169 q 563 -10 722 -10 q 570 -201 563 -68 q 578 -371 578 -334 q 505 -362 539 -362 q 465 -365 483 -362 q 427 -372 446 -368 q 434 -161 427 -297 q 441 -10 441 -26 m 563 39 q 757 118 690 39 q 824 330 824 198 q 750 523 824 445 q 564 601 677 601 l 563 319 l 563 39 m 441 319 l 441 601 q 253 523 326 601 q 180 330 180 446 q 245 117 180 195 q 439 39 310 39 l 441 319 "},"y":{"x_min":4.171875,"x_max":665.28125,"ha":664,"o":"m 4 654 l 86 647 l 165 654 q 202 536 188 577 q 241 431 215 495 l 363 129 l 473 413 q 552 654 519 537 q 606 647 583 647 q 665 654 633 647 q 416 125 531 388 q 223 -372 301 -137 l 187 -366 q 141 -366 163 -366 q 112 -372 122 -370 l 290 -22 q 4 654 170 294 "},"":{"x_min":118.0625,"x_max":1019.453125,"ha":1139,"o":"m 765 442 q 564 487 700 442 q 376 533 429 533 q 250 506 298 533 q 118 427 202 480 l 118 501 q 245 572 180 545 q 376 600 311 600 q 574 553 438 600 q 765 507 709 507 q 888 534 829 507 q 1019 614 947 562 l 1019 538 q 892 467 954 493 q 765 442 830 442 m 759 214 q 568 260 702 214 q 376 307 433 307 q 236 272 300 307 q 118 202 173 238 l 118 277 q 247 346 181 320 q 380 372 312 372 q 570 326 445 372 q 765 281 695 281 q 883 306 830 281 q 1019 388 936 331 l 1019 313 q 894 240 959 266 q 759 214 829 214 "},"":{"x_min":108,"x_max":927.453125,"ha":1036,"o":"m 432 846 l 263 846 q 260 634 263 781 q 257 475 257 486 q 262 236 257 395 q 268 0 268 77 q 229 3 255 0 q 188 8 202 8 q 149 3 177 8 q 108 0 121 0 q 117 239 108 70 q 126 465 126 408 q 122 711 126 620 q 108 932 119 803 q 285 926 166 932 q 464 921 405 921 q 695 926 541 921 q 927 932 849 932 q 915 793 921 871 q 909 659 909 716 l 909 504 q 917 245 909 427 q 926 0 926 62 q 887 4 913 0 q 847 8 860 8 q 810 5 827 8 q 768 0 792 2 q 773 259 768 94 q 778 469 778 423 l 778 731 l 773 846 l 432 846 "},"":{"x_min":-41,"x_max":384,"ha":342,"o":"m 105 333 l 105 520 q 104 566 105 544 q 97 654 103 588 q 141 647 131 648 q 166 647 152 647 q 234 654 196 647 q 225 555 226 599 q 224 437 224 510 l 224 406 q 229 194 224 337 q 234 0 234 51 q 202 3 217 1 q 166 5 186 5 q 128 3 149 5 q 97 0 108 1 q 101 165 97 51 q 105 333 105 279 m 18 865 q 61 846 43 865 q 80 804 80 828 q 61 761 80 779 q 18 743 43 743 q -22 761 -4 743 q -41 804 -41 779 q -22 846 -41 828 q 18 865 -4 865 m 172 929 q 189 969 179 956 q 225 982 199 982 q 256 971 243 982 q 270 941 270 961 q 257 904 270 919 l 149 743 l 117 743 l 172 929 m 324 865 q 366 846 348 865 q 384 804 384 828 q 366 761 384 779 q 324 743 348 743 q 281 761 298 743 q 265 804 265 779 q 281 846 265 828 q 324 865 298 865 "},"g":{"x_min":32,"x_max":672,"ha":688,"o":"m 81 123 q 112 201 81 169 q 193 252 144 233 l 193 262 q 97 329 130 277 q 64 447 64 380 q 141 610 64 549 q 323 672 218 672 q 421 661 357 672 q 500 650 486 651 l 672 654 l 672 582 q 599 592 635 587 q 537 597 563 597 q 607 458 607 548 q 527 294 607 356 q 342 232 447 232 q 291 235 319 232 q 255 239 262 239 q 208 220 228 239 q 188 173 188 201 q 221 120 188 136 q 296 104 254 104 l 427 104 q 603 56 534 104 q 672 -93 672 9 q 560 -299 672 -226 q 309 -372 448 -372 q 115 -327 199 -372 q 32 -183 32 -283 q 76 -62 32 -110 q 193 8 121 -13 q 112 51 143 25 q 81 123 81 77 m 332 278 q 439 332 401 278 q 478 457 478 386 q 441 575 478 525 q 338 625 404 625 q 232 570 271 625 q 194 447 194 515 q 230 328 194 379 q 332 278 266 278 m 337 -316 q 491 -270 423 -316 q 559 -141 559 -224 q 500 -29 559 -62 q 353 3 441 3 q 199 -36 263 3 q 136 -162 136 -76 q 195 -277 136 -238 q 337 -316 255 -316 "},"":{"x_min":15.28125,"x_max":412.5,"ha":496,"o":"m 297 744 q 270 830 297 795 q 197 866 244 866 q 120 837 149 866 q 83 761 90 808 l 76 759 q 54 802 68 780 q 31 837 40 824 q 210 901 108 901 q 334 862 278 901 q 390 758 390 824 q 282 568 390 656 q 111 428 174 479 l 293 428 q 350 431 316 428 q 412 439 384 434 l 406 397 l 412 356 l 304 361 l 111 361 l 15 355 l 15 378 q 220 567 144 484 q 297 744 297 651 "},"":{"x_min":108,"x_max":856.625,"ha":821,"o":"m 255 314 q 261 132 255 250 q 268 0 268 13 q 229 4 255 0 q 188 8 202 8 q 148 4 174 8 q 108 0 121 0 q 117 239 108 70 q 126 465 126 408 q 122 712 126 621 q 108 932 119 803 q 153 928 124 932 q 188 925 183 925 q 231 928 203 925 q 267 932 259 932 l 255 671 l 255 499 q 480 693 375 586 q 687 932 585 800 q 732 932 710 932 q 777 932 753 932 l 837 932 q 606 727 720 830 q 389 522 493 623 q 525 358 465 426 q 666 202 586 290 q 856 0 747 115 l 746 0 q 692 -1 716 0 q 644 -8 669 -2 q 571 92 610 44 q 477 204 532 140 l 255 459 l 255 314 "},"":{"x_min":40,"x_max":646.9375,"ha":681,"o":"m 406 42 q 602 130 523 42 l 621 130 q 613 93 617 112 q 609 47 609 73 q 496 0 558 14 q 369 -15 435 -15 q 130 73 220 -15 q 40 311 40 162 q 126 562 40 456 q 355 669 212 669 q 564 590 481 669 q 646 386 646 512 l 644 331 q 438 333 562 331 q 313 335 315 335 l 179 331 q 235 127 179 212 q 406 42 291 42 m 219 929 q 271 906 249 929 q 294 854 294 884 q 273 800 294 822 q 221 778 252 778 q 166 800 190 778 q 143 854 143 822 q 165 906 143 884 q 219 929 187 929 m 460 929 q 513 906 492 929 q 534 854 534 884 q 513 799 534 820 q 461 778 493 778 q 407 800 429 778 q 385 854 385 822 q 407 906 385 884 q 460 929 429 929 m 513 392 l 513 437 q 470 563 513 509 q 356 618 427 618 q 233 552 271 618 q 183 390 195 487 l 513 392 "},"e":{"x_min":41,"x_max":645.15625,"ha":681,"o":"m 406 42 q 602 130 523 42 l 618 125 q 611 86 614 104 q 609 44 609 67 q 497 0 561 14 q 370 -15 434 -15 q 130 73 220 -15 q 41 311 41 161 q 127 563 41 455 q 356 672 214 672 q 563 592 482 672 q 645 385 645 512 l 643 331 l 313 335 l 179 331 q 235 126 179 210 q 406 42 291 42 m 511 392 l 513 436 q 470 563 513 509 q 356 618 427 618 q 230 553 268 618 q 179 388 191 488 l 511 392 "},"":{"x_min":41,"x_max":710,"ha":753,"o":"m 371 -15 q 131 78 222 -15 q 41 322 41 172 q 133 573 41 474 q 378 672 225 672 q 619 574 528 672 q 710 326 710 477 q 617 80 710 175 q 371 -15 525 -15 m 524 943 q 558 974 542 964 q 595 985 574 985 q 632 969 618 985 q 646 932 646 954 q 632 897 646 911 q 591 866 618 883 l 390 743 l 341 743 l 524 943 m 377 619 q 226 530 272 619 q 180 327 180 441 q 227 125 180 216 q 375 35 274 35 q 524 123 478 35 q 570 326 570 211 q 524 529 570 440 q 377 619 479 619 "},"J":{"x_min":-71,"x_max":277,"ha":385,"o":"m 118 -40 q 131 62 128 9 q 135 184 135 115 q 132 462 135 325 q 127 690 130 598 q 111 932 123 782 q 159 928 129 932 q 193 925 189 925 q 238 927 221 925 q 277 932 256 929 q 268 665 277 843 q 260 457 260 487 l 260 165 q 260 107 260 147 q 260 48 260 68 q 169 -155 260 -88 q -62 -222 79 -222 l -71 -180 q 50 -134 1 -166 q 118 -40 100 -102 "},"":{"x_min":43,"x_max":543,"ha":607,"o":"m 196 322 l 43 607 l 81 645 l 303 322 l 81 0 l 43 37 l 196 322 m 436 322 l 283 607 l 322 645 l 543 322 l 322 0 l 283 37 l 436 322 "},"":{"x_min":80,"x_max":1058,"ha":1139,"o":"m 816 905 q 992 726 927 841 q 1058 481 1058 611 q 912 138 1058 283 q 567 -6 766 -6 q 225 139 370 -6 q 80 481 80 284 q 224 826 80 681 q 569 971 368 971 q 816 905 698 971 m 569 918 q 263 788 392 918 q 134 481 134 659 q 261 175 134 306 q 566 45 389 45 q 872 174 741 45 q 1004 478 1004 304 q 947 699 1004 596 q 787 859 890 801 q 569 918 684 918 m 570 724 q 441 652 483 724 q 399 490 399 581 q 438 320 399 396 q 560 245 478 245 q 664 278 621 245 q 723 370 707 311 l 798 370 q 720 232 788 283 q 561 181 653 181 q 379 268 446 181 q 313 476 313 355 q 380 694 313 604 q 571 785 447 785 q 717 738 656 785 q 793 610 779 691 l 715 610 q 664 692 705 660 q 570 724 624 724 "},"":{"x_min":39.71875,"x_max":1028.9375,"ha":1068,"o":"m 534 528 l 596 528 l 594 305 q 616 117 594 193 q 722 42 638 42 q 850 118 811 42 q 888 293 888 194 q 829 502 888 409 q 664 654 769 594 l 717 648 q 805 654 766 648 q 967 510 905 606 q 1028 304 1028 413 q 948 81 1028 177 q 744 -15 867 -15 q 622 16 678 -15 q 534 104 566 47 q 445 16 500 48 q 323 -15 389 -15 q 118 83 196 -15 q 39 311 39 182 q 100 511 39 419 q 262 654 161 604 q 303 650 278 651 q 349 648 327 648 l 402 654 q 238 501 296 593 q 179 291 179 409 q 218 116 179 191 q 348 42 257 42 q 419 68 390 42 q 461 138 448 94 q 472 216 469 175 q 475 303 475 257 q 472 420 475 353 q 469 529 470 486 l 534 528 m 681 943 q 714 974 699 964 q 751 985 730 985 q 788 969 774 985 q 802 932 802 954 q 787 896 802 912 q 746 866 773 880 l 547 743 l 498 743 l 681 943 "},"":{"x_min":176.1875,"x_max":963,"ha":1139,"o":"m 963 462 l 176 196 l 176 266 l 850 491 l 176 718 l 176 788 l 963 522 l 963 462 m 963 26 l 176 26 l 176 93 l 963 93 l 963 26 "},"^":{"x_min":0,"x_max":390,"ha":403,"o":"m 150 978 l 239 978 l 390 743 l 344 743 l 195 875 l 49 743 l 0 743 l 150 978 "},"":{"x_min":48,"x_max":549.390625,"ha":607,"o":"m 152 326 l 309 42 l 268 3 l 48 326 l 268 649 l 309 611 l 152 326 m 394 326 l 549 42 l 509 3 l 288 326 l 509 649 l 549 611 l 394 326 "},"D":{"x_min":108,"x_max":991,"ha":1043,"o":"m 126 465 q 117 704 126 536 q 108 931 108 872 l 210 929 q 350 934 251 929 q 477 939 449 939 q 579 936 553 939 q 709 917 605 934 q 902 775 814 900 q 991 483 991 650 q 852 130 991 261 q 491 0 713 0 l 378 0 l 228 7 l 203 7 q 148 4 173 7 q 108 0 123 1 q 117 239 108 70 q 126 465 126 408 m 402 64 q 724 168 609 64 q 840 479 840 273 q 730 774 840 671 q 428 878 621 878 q 345 873 400 878 q 262 869 289 869 l 255 497 l 255 376 l 262 76 q 332 68 292 72 q 402 64 373 64 "},"w":{"x_min":4.171875,"x_max":1052.78125,"ha":1047,"o":"m 4 655 q 55 648 41 648 q 86 647 69 647 q 165 654 120 647 q 190 540 176 587 q 238 394 204 492 l 329 141 q 498 654 419 386 q 551 647 526 647 q 609 654 577 647 q 637 544 620 601 q 677 420 654 487 l 770 135 l 872 413 q 911 532 893 472 q 944 654 930 592 q 979 647 970 648 q 1000 647 988 647 q 1052 654 1022 647 q 961 457 1002 555 q 871 235 919 359 q 782 0 824 110 q 755 3 772 0 q 733 6 738 6 q 708 3 724 6 q 686 0 692 0 q 650 127 667 72 q 611 239 632 183 l 518 494 q 432 258 475 382 q 348 0 390 134 q 325 3 336 1 q 297 5 313 5 q 269 3 284 5 q 245 0 254 1 q 162 244 200 140 q 86 447 125 347 q 4 655 47 546 "},"$":{"x_min":89,"x_max":666,"ha":749,"o":"m 139 186 l 146 186 q 213 91 165 119 q 342 50 261 63 l 342 416 q 142 515 196 458 q 89 648 89 573 q 164 819 89 752 q 342 886 239 886 q 330 985 342 936 l 359 979 l 404 984 q 400 924 401 945 q 399 886 399 904 q 510 874 457 886 q 605 834 562 862 q 582 788 592 808 q 555 729 572 768 l 547 729 q 495 810 535 783 q 399 837 455 837 l 399 520 q 610 419 554 479 q 666 277 666 359 q 588 87 666 164 q 399 0 511 9 l 399 -32 q 399 -63 399 -48 q 405 -125 400 -78 l 368 -121 l 329 -125 l 342 0 q 210 13 273 0 q 98 58 147 27 l 139 186 m 342 836 q 237 787 278 826 q 196 686 196 748 q 237 588 196 626 q 342 537 279 551 l 342 836 m 553 231 q 513 337 553 300 q 399 402 473 375 l 399 51 q 512 113 471 66 q 553 231 553 159 "},"":{"x_min":134,"x_max":309,"ha":446,"o":"m 222 636 q 284 611 259 636 q 309 548 309 586 q 284 486 309 512 q 222 461 260 461 q 160 486 186 461 q 134 548 134 511 q 159 610 134 584 q 222 636 185 636 "},"\\\\":{"x_min":-36,"x_max":403.140625,"ha":383,"o":"m -36 1025 l 28 1025 l 403 -125 l 340 -125 l -36 1025 "},"":{"x_min":109,"x_max":271,"ha":385,"o":"m 127 465 q 123 711 127 620 q 109 932 120 803 q 154 927 129 929 q 190 925 179 925 q 238 928 209 925 q 271 931 266 931 q 263 788 271 887 q 256 659 256 690 l 256 448 l 256 283 q 263 135 256 238 q 271 0 271 31 q 231 3 258 0 q 190 8 204 8 q 151 5 172 8 q 109 0 129 2 q 118 239 109 70 q 127 465 127 408 "},"":{"x_min":-1,"x_max":1204.5625,"ha":1165,"o":"m 758 177 l 758 386 q 651 570 717 458 q 543 750 585 681 q 431 931 501 819 q 483 928 449 931 q 522 925 518 925 q 572 927 550 925 q 606 931 593 930 q 666 800 633 866 q 735 676 699 734 l 849 475 q 968 688 910 575 q 1086 931 1027 801 l 1142 926 q 1174 927 1160 926 q 1204 931 1187 929 q 1014 627 1099 769 l 891 415 l 891 240 q 894 101 891 198 q 897 0 897 5 q 860 4 885 1 q 820 6 835 6 q 778 4 793 6 q 743 0 763 2 q 753 88 748 36 q 758 177 758 140 m 182 943 q 215 974 200 964 q 252 985 231 985 q 289 969 274 985 q 305 932 305 954 q 290 896 305 911 q 248 866 275 882 l 48 743 l -1 743 l 182 943 "},"":{"x_min":90.28125,"x_max":305.5625,"ha":374,"o":"m 169 859 q 197 923 177 894 q 250 953 218 953 q 288 939 272 953 q 305 902 305 925 q 295 857 305 882 q 269 811 284 833 l 120 568 l 90 576 l 169 859 "},"":{"x_min":98,"x_max":911.890625,"ha":1011,"o":"m 112 230 q 114 486 112 315 q 117 741 117 656 l 117 950 l 166 950 q 326 766 239 865 q 468 606 413 667 q 610 451 524 544 l 821 227 l 821 604 q 816 765 821 685 q 803 931 812 845 l 855 927 l 911 931 q 901 831 906 884 q 897 741 897 779 q 894 413 897 619 q 892 165 892 207 l 892 -15 l 849 -15 q 730 125 796 50 q 589 281 664 201 l 193 702 l 193 330 q 212 -1 193 169 l 149 2 l 98 -1 q 108 125 105 79 q 112 230 112 170 "},"-":{"x_min":58.328125,"x_max":388.890625,"ha":449,"o":"m 58 390 l 388 390 l 388 273 l 58 273 l 58 390 "},"Q":{"x_min":51,"x_max":1074.609375,"ha":1119,"o":"m 566 -14 q 194 113 338 -14 q 51 465 51 241 q 192 820 51 690 q 559 950 333 950 q 892 853 754 950 q 1047 654 1031 756 q 1065 525 1062 551 q 1068 462 1068 499 q 1065 405 1068 429 q 1050 305 1062 381 q 960 144 1038 229 q 748 6 881 59 l 930 -112 q 1004 -161 963 -136 q 1074 -200 1045 -186 q 1008 -228 1035 -214 q 951 -267 980 -243 q 876 -208 912 -234 q 803 -154 841 -182 l 606 -14 l 566 -14 m 202 468 q 290 163 202 283 q 559 43 379 43 q 826 163 738 43 q 915 468 915 284 q 825 770 915 651 q 559 889 735 889 q 348 826 429 889 q 225 638 267 763 q 202 468 202 552 "},"":{"x_min":44,"x_max":613.453125,"ha":644,"o":"m 305 -206 q 350 -218 325 -218 q 447 -177 407 -218 q 487 -79 487 -136 q 376 55 487 4 q 159 156 266 106 q 44 365 44 231 q 143 585 44 499 q 380 672 242 672 q 506 658 448 672 q 613 616 564 645 q 587 500 595 559 l 562 500 q 501 586 549 557 q 391 616 453 616 q 233 551 296 616 q 170 393 170 486 q 216 271 170 320 q 339 196 263 223 l 467 149 q 569 76 531 119 q 608 -27 608 34 q 522 -206 608 -136 q 321 -293 437 -276 l 305 -206 "},"M":{"x_min":55,"x_max":1165,"ha":1238,"o":"m 190 950 l 243 950 q 331 772 291 851 q 412 612 370 693 q 504 436 454 532 l 626 214 q 742 435 671 298 q 882 711 813 572 q 1001 950 952 850 l 1052 950 q 1082 649 1067 791 q 1118 341 1098 508 q 1165 0 1139 174 q 1121 8 1139 5 q 1088 11 1103 11 q 1049 6 1071 11 q 1008 0 1027 2 q 998 226 1008 109 q 974 461 989 343 q 944 695 959 579 l 748 312 q 610 0 665 152 l 594 1 l 576 0 q 227 685 402 364 l 188 307 q 172 128 175 179 q 168 0 168 77 q 138 4 157 1 q 110 6 118 6 q 81 4 93 6 q 55 0 68 2 q 121 333 89 168 q 171 652 152 498 q 190 950 190 805 "},"":{"x_min":73,"x_max":995.609375,"ha":1071,"o":"m 609 0 q 561 5 585 2 q 532 8 536 8 q 494 5 515 8 q 456 0 474 2 q 463 151 456 45 q 470 297 470 258 q 180 383 287 297 q 73 650 73 469 l 73 817 l 73 932 q 139 925 110 925 q 180 928 155 925 q 212 931 206 931 q 200 818 204 861 q 197 723 197 774 l 197 688 l 197 638 q 268 438 197 508 q 472 368 340 368 l 473 481 q 464 736 473 566 q 456 932 456 905 q 499 927 481 929 q 532 925 518 925 q 577 927 557 925 q 609 931 596 930 q 601 635 609 841 q 594 368 594 429 l 645 372 q 816 465 765 372 q 868 691 868 559 q 861 829 868 740 q 855 932 855 919 q 896 927 878 929 q 924 925 913 925 q 971 927 955 925 q 995 931 987 930 l 994 839 l 994 675 q 894 388 994 480 q 594 297 794 297 q 601 142 594 249 q 609 0 609 35 "},"C":{"x_min":51,"x_max":881.5625,"ha":913,"o":"m 828 737 q 552 889 733 889 q 295 768 383 889 q 207 469 207 647 q 299 177 207 305 q 551 50 391 50 q 710 86 637 50 q 855 189 783 122 l 870 183 q 858 122 862 147 q 855 69 855 97 q 521 -15 699 -15 q 180 116 309 -15 q 51 462 51 248 q 189 820 51 690 q 556 950 327 950 q 719 930 638 950 q 881 875 799 911 q 857 809 867 843 q 845 737 847 775 l 828 737 "},"":{"x_min":39,"x_max":1195.9375,"ha":1226,"o":"m 359 -15 q 125 76 212 -15 q 39 318 39 167 q 125 571 39 470 q 362 672 212 672 q 514 640 441 672 q 641 551 588 608 q 897 672 741 672 q 1110 593 1024 672 q 1195 390 1195 515 l 1193 331 q 1022 332 1108 331 q 851 334 935 333 l 708 331 q 765 124 708 206 q 944 42 822 42 q 1145 130 1068 42 l 1162 130 q 1155 85 1158 110 q 1151 47 1152 60 q 1036 0 1100 14 q 904 -15 973 -15 q 754 12 819 -15 q 641 106 689 40 q 514 14 584 44 q 359 -15 444 -15 m 376 625 q 224 534 270 625 q 179 328 179 443 q 224 124 179 215 q 369 34 269 34 q 521 127 470 34 q 573 328 573 221 q 526 534 573 443 q 376 625 480 625 m 1061 392 l 1061 423 q 1017 561 1061 504 q 894 618 973 618 q 756 549 805 618 q 708 390 708 480 l 1061 392 "},"!":{"x_min":136,"x_max":312,"ha":449,"o":"m 223 156 q 285 130 259 156 q 312 68 312 105 q 285 8 312 32 q 223 -15 259 -15 q 161 9 187 -15 q 136 68 136 33 q 160 130 136 105 q 223 156 185 156 m 150 752 l 144 841 q 161 919 144 888 q 223 950 178 950 q 282 925 260 950 q 304 863 304 901 q 299 808 304 845 q 295 752 295 770 l 246 250 q 223 250 238 250 q 199 250 206 250 l 150 752 "},"":{"x_min":34,"x_max":614.5625,"ha":644,"o":"m 607 119 l 592 41 q 490 -2 549 10 q 363 -15 431 -15 q 130 80 227 -15 q 34 313 34 175 q 132 576 34 480 q 397 672 231 672 q 511 659 456 672 q 614 617 565 647 q 597 558 604 587 q 584 492 589 528 l 570 492 q 507 587 547 553 q 406 622 467 622 q 234 534 293 622 q 176 329 176 447 q 238 126 176 211 q 414 42 300 42 q 592 124 521 42 l 607 119 m 202 -212 q 350 -246 273 -246 q 414 -232 388 -246 q 440 -186 440 -219 q 421 -142 440 -158 q 373 -126 402 -126 l 323 -126 l 323 0 l 367 0 l 367 -77 l 404 -73 q 495 -102 457 -73 q 533 -183 533 -132 q 494 -270 533 -237 q 402 -303 456 -303 q 286 -294 335 -303 q 184 -261 238 -286 l 202 -212 "},"{":{"x_min":116,"x_max":567.390625,"ha":683,"o":"m 491 909 q 421 874 445 909 q 397 792 397 839 l 397 744 l 397 583 q 368 434 397 493 q 263 354 339 376 q 367 272 338 332 q 397 125 397 212 l 397 -35 q 414 -149 397 -108 q 471 -197 431 -191 q 529 -204 511 -204 q 567 -204 548 -204 l 567 -276 q 387 -239 459 -276 q 315 -105 315 -203 l 315 -28 l 315 132 q 296 244 315 194 q 240 303 277 294 q 176 314 204 312 q 116 317 148 317 l 116 389 q 270 429 225 389 q 315 576 315 469 l 315 737 q 348 918 315 870 q 450 977 381 966 q 567 983 503 983 l 567 912 l 491 909 "},"X":{"x_min":0,"x_max":739,"ha":739,"o":"m 200 285 l 318 456 q 18 932 159 718 q 63 929 33 932 q 109 926 94 926 q 168 929 147 926 q 198 932 188 932 q 296 743 244 841 q 391 568 348 644 l 489 726 q 597 932 548 825 q 627 927 614 929 q 661 926 641 926 q 693 929 671 926 q 728 932 715 932 q 616 781 673 862 q 524 652 558 700 l 427 512 q 523 347 480 419 q 614 197 566 275 q 739 0 662 119 q 686 3 719 0 q 647 6 652 6 q 595 4 618 6 q 558 0 572 1 q 459 197 512 97 q 353 398 405 298 l 265 249 q 174 96 193 130 q 127 0 155 62 q 89 3 113 0 q 62 6 65 6 q 26 4 43 6 q 0 0 9 1 l 200 285 "},"":{"x_min":40,"x_max":712,"ha":753,"o":"m 371 -15 q 131 79 223 -15 q 40 322 40 173 q 133 572 40 473 q 380 672 227 672 q 621 575 530 672 q 712 327 712 479 q 619 80 712 175 q 371 -15 527 -15 m 332 978 l 421 978 l 572 743 l 525 743 l 376 875 l 229 743 l 180 743 l 332 978 m 377 622 q 227 532 274 622 q 180 327 180 442 q 227 125 180 216 q 375 35 274 35 q 524 124 478 35 q 570 327 570 214 q 524 531 570 441 q 377 622 479 622 "},"#":{"x_min":78,"x_max":972.4375,"ha":1050,"o":"m 497 647 l 675 647 l 791 969 l 877 968 l 761 647 l 972 647 l 948 576 l 736 576 l 671 390 l 896 390 l 873 319 l 644 319 l 531 0 l 446 0 l 559 319 l 382 319 l 266 0 l 182 0 l 294 319 l 78 319 l 102 390 l 320 390 l 386 576 l 151 576 l 176 647 l 410 647 l 526 969 l 610 969 l 497 647 m 472 576 l 407 390 l 587 390 l 650 576 l 472 576 "},"":{"x_min":96,"x_max":233.5,"ha":342,"o":"m 104 333 l 104 521 q 103 567 104 545 q 96 655 102 589 q 141 648 130 648 q 165 647 151 647 q 233 654 196 647 q 224 555 226 599 q 223 437 223 511 l 223 406 q 228 194 223 337 q 233 0 233 51 q 201 3 216 1 q 165 5 185 5 q 127 3 148 5 q 96 0 107 1 q 100 165 96 51 q 104 333 104 279 "},"":{"x_min":12,"x_max":910.609375,"ha":896,"o":"m 328 639 l 458 950 q 489 944 464 947 q 522 950 507 944 q 655 613 602 745 q 770 331 709 480 q 910 0 832 181 q 859 3 891 0 q 823 6 827 6 q 772 4 795 6 q 735 0 749 1 q 672 195 692 135 q 613 353 652 255 l 449 358 l 285 353 l 233 205 q 173 0 194 94 l 116 5 q 76 2 91 5 q 55 0 62 0 q 146 211 101 105 q 229 404 192 317 q 328 639 266 490 m 195 943 q 228 974 213 964 q 265 985 244 985 q 302 969 287 985 q 318 932 318 954 q 303 896 318 911 q 261 866 288 882 l 61 743 l 12 743 l 195 943 m 450 419 l 585 425 l 451 761 l 318 425 l 450 419 "},")":{"x_min":65.671875,"x_max":332,"ha":449,"o":"m 332 376 q 271 81 332 217 q 96 -183 211 -54 q 65 -151 83 -164 q 193 104 155 -16 q 232 386 232 226 q 191 661 232 533 q 65 918 150 789 q 96 950 87 933 q 273 681 215 816 q 332 376 332 545 "},"":{"x_min":53,"x_max":567,"ha":628,"o":"m 506 516 q 433 591 467 566 q 353 616 400 616 q 261 580 298 616 q 225 492 225 545 q 268 406 225 437 q 372 375 311 375 l 418 375 l 417 349 l 417 310 l 343 317 q 236 282 280 317 q 193 183 193 247 q 238 77 193 117 q 352 38 284 38 q 460 66 410 38 q 543 144 510 94 q 553 99 547 121 q 567 54 558 76 q 452 2 515 19 q 321 -15 388 -15 q 134 31 216 -15 q 53 175 53 78 q 95 286 53 246 q 214 355 137 326 q 127 408 162 370 q 93 497 93 445 q 165 625 93 579 q 323 672 237 672 q 430 654 378 672 q 541 604 481 637 q 522 564 529 584 q 506 516 514 545 "},"":{"x_min":0,"x_max":899,"ha":899,"o":"m 899 0 q 701 5 833 0 q 501 11 569 11 q 251 5 418 11 q 0 0 84 0 q 225 473 126 251 q 407 932 323 696 q 432 929 415 932 q 457 926 448 926 q 482 927 471 926 q 505 932 493 929 q 691 449 601 664 q 899 0 782 234 m 281 429 q 158 90 212 259 q 290 84 201 90 q 423 79 379 79 l 456 79 q 587 81 550 79 q 692 90 625 83 l 651 188 l 576 383 l 422 778 l 281 429 "},"":{"x_min":43,"x_max":655.5,"ha":649,"o":"m 234 -15 q 98 33 153 -15 q 43 162 43 82 q 106 303 43 273 q 303 364 169 333 q 444 448 437 395 q 403 568 444 521 q 288 616 362 616 q 191 587 233 616 q 124 507 149 559 l 95 520 l 104 591 q 202 651 144 631 q 323 672 261 672 q 500 622 444 672 q 557 455 557 573 l 557 133 q 567 69 557 84 q 618 54 577 54 q 655 58 643 54 l 655 26 q 594 5 626 14 q 537 -6 562 -3 q 438 85 453 -6 q 342 10 388 35 q 234 -15 296 -15 m 279 978 l 368 978 l 522 743 l 471 743 l 323 875 l 176 743 l 126 743 l 279 978 m 176 186 q 204 98 176 133 q 284 64 232 64 q 390 107 342 64 q 438 212 438 151 l 438 345 q 239 293 303 319 q 176 186 176 268 "},"}":{"x_min":114,"x_max":567,"ha":683,"o":"m 369 576 q 405 438 369 487 q 527 389 441 389 l 567 389 l 567 317 q 415 278 461 317 q 369 132 369 239 l 369 -28 q 319 -229 369 -182 q 114 -276 270 -276 l 114 -204 q 252 -172 218 -204 q 286 -83 286 -141 l 286 -35 l 286 125 q 314 271 286 212 q 418 354 342 329 q 311 435 337 382 q 286 584 286 488 l 286 745 q 268 860 286 818 q 191 913 251 903 l 114 913 l 114 983 l 186 982 q 287 960 242 982 q 346 900 331 938 q 365 822 362 862 q 369 737 369 783 l 369 576 "},"":{"x_min":28,"x_max":1511,"ha":1536,"o":"m 799 0 q 647 62 708 0 q 586 218 586 124 q 647 372 586 309 q 799 436 709 436 q 949 373 888 436 q 1011 223 1011 311 q 995 130 1011 176 q 918 35 972 70 q 799 0 865 0 m 1298 0 q 1146 62 1206 0 q 1087 218 1087 124 q 1148 372 1087 308 q 1299 436 1209 436 q 1449 373 1388 436 q 1511 223 1511 311 q 1494 130 1511 169 q 1418 34 1472 69 q 1298 0 1365 0 m 241 448 q 89 510 150 448 q 28 663 28 573 q 89 820 28 755 q 241 885 151 885 q 391 823 329 885 q 453 672 453 761 q 434 580 453 620 q 359 483 412 518 q 241 448 307 448 m 863 1015 l 227 -125 l 158 -125 l 793 1015 l 863 1015 m 897 260 q 872 353 897 310 q 798 397 847 397 q 718 340 737 397 q 700 202 700 283 q 719 86 700 133 q 798 40 738 40 q 866 73 840 40 q 892 149 892 106 q 895 206 894 169 q 897 260 897 242 m 339 684 q 319 797 339 750 q 244 845 300 845 q 161 784 182 845 q 141 645 141 723 q 165 540 141 590 q 237 490 189 490 q 303 524 278 490 q 334 598 329 558 q 339 684 339 638 m 1397 260 q 1373 356 1397 315 q 1297 397 1349 397 q 1218 340 1237 397 q 1200 202 1200 283 q 1219 87 1200 134 q 1297 40 1238 40 q 1366 73 1340 40 q 1392 149 1392 106 q 1395 206 1394 169 q 1397 260 1397 242 "},"":{"x_min":-16,"x_max":839.5625,"ha":826,"o":"m 258 638 l 389 951 q 420 945 395 948 q 453 951 438 945 q 570 651 500 826 q 688 360 640 477 q 839 0 736 242 q 788 3 820 0 q 752 6 756 6 q 702 3 728 6 q 665 0 675 0 q 599 204 615 158 q 542 357 584 251 l 378 357 l 214 357 l 161 207 q 130 109 147 170 q 102 0 113 47 l 45 5 q 20 4 29 5 q -16 0 10 4 q 72 203 29 105 q 169 427 115 301 q 258 638 222 552 m 293 1208 q 345 1186 325 1208 q 366 1133 366 1164 q 345 1080 366 1102 q 293 1058 324 1058 q 239 1080 261 1058 q 217 1133 217 1102 q 239 1185 217 1163 q 293 1208 261 1208 m 535 1208 q 587 1186 565 1208 q 609 1133 609 1164 q 587 1080 609 1103 q 535 1058 565 1058 q 481 1080 503 1058 q 459 1133 459 1102 q 481 1185 459 1163 q 535 1208 503 1208 m 378 421 l 515 425 l 381 762 l 247 425 l 378 421 "},"a":{"x_min":44,"x_max":653.734375,"ha":647,"o":"m 233 -15 q 99 33 154 -15 q 44 162 44 82 q 105 302 44 273 q 302 363 167 331 q 444 448 437 395 q 401 567 444 519 q 287 615 359 615 q 190 587 231 615 q 124 508 149 560 l 95 519 l 103 591 q 204 651 148 631 q 323 672 260 672 q 499 623 443 672 q 555 457 555 574 l 555 132 q 566 70 555 86 q 616 55 578 55 l 653 55 l 653 26 q 594 4 624 15 q 536 -6 564 -6 q 468 15 492 -6 q 436 83 445 38 q 341 9 387 34 q 233 -15 294 -15 m 175 185 q 204 99 175 135 q 282 63 234 63 q 389 106 343 63 q 436 211 436 150 l 436 344 q 239 294 304 320 q 175 185 175 268 "},"":{"x_min":226.390625,"x_max":1138.890625,"ha":1367,"o":"m 226 375 l 1138 375 l 1138 292 l 226 292 l 226 375 "},"=":{"x_min":169.4375,"x_max":969.453125,"ha":1139,"o":"m 969 499 l 169 499 l 169 564 l 969 564 l 969 499 m 969 248 l 169 248 l 169 315 l 969 315 l 969 248 "},"N":{"x_min":98,"x_max":911.890625,"ha":1011,"o":"m 112 230 q 114 486 112 315 q 117 741 117 656 l 117 950 l 166 950 q 326 766 239 865 q 468 606 413 667 q 610 451 524 544 l 821 227 l 821 604 q 816 765 821 685 q 803 931 812 845 l 855 927 l 911 931 q 901 831 906 884 q 897 741 897 779 q 894 413 897 619 q 892 165 892 207 l 892 -15 l 849 -15 q 730 125 796 50 q 589 281 664 201 l 193 702 l 193 330 q 212 -1 193 169 l 149 2 l 98 -1 q 108 125 105 79 q 112 230 112 170 "},"":{"x_min":65,"x_max":711,"ha":758,"o":"m 191 -99 q 195 -235 191 -145 q 199 -371 199 -325 q 161 -367 169 -367 q 134 -366 153 -366 q 96 -368 116 -366 q 65 -372 76 -370 q 70 -190 65 -311 q 76 -8 76 -69 q 73 166 76 67 q 70 329 71 265 q 148 578 70 484 q 380 672 226 672 q 617 573 524 672 q 711 329 711 474 q 625 84 711 184 q 396 -15 539 -15 q 285 7 334 -15 q 191 78 236 30 l 191 -99 m 377 619 q 231 533 271 619 q 191 327 191 447 q 241 103 191 169 q 376 38 292 38 q 525 125 479 38 q 571 326 571 212 q 525 529 571 440 q 377 619 480 619 "},"2":{"x_min":22,"x_max":622,"ha":749,"o":"m 449 648 q 410 789 449 727 q 298 851 371 851 q 173 802 219 851 q 128 676 128 753 l 118 673 q 84 740 100 712 q 47 799 69 768 q 313 911 158 911 q 507 844 426 911 q 589 667 589 777 q 527 479 589 555 q 315 258 466 404 l 169 118 l 442 118 q 531 123 485 118 q 622 136 576 129 q 617 102 619 117 q 616 68 616 87 q 617 37 616 54 q 622 0 619 20 q 438 4 562 0 q 252 8 315 8 q 142 7 195 8 q 22 0 88 6 l 22 40 q 234 238 155 158 q 380 430 312 319 q 449 648 449 541 "},"":{"x_min":90,"x_max":664,"ha":754,"o":"m 653 498 q 653 329 653 443 q 653 158 653 215 q 664 0 653 82 q 631 3 647 1 q 598 5 616 5 q 563 3 583 5 q 533 0 544 1 l 538 118 q 440 18 494 52 q 312 -15 385 -15 q 148 50 201 -15 q 96 229 96 115 l 96 354 l 96 516 l 90 655 q 120 650 103 651 q 158 648 136 648 q 192 650 175 648 q 227 656 210 651 q 220 446 227 592 q 213 247 213 300 q 247 115 213 163 q 362 68 281 68 q 477 113 428 68 q 531 217 525 159 q 538 340 538 274 q 533 520 538 394 q 528 655 528 647 q 558 650 542 651 q 596 648 574 648 q 629 650 612 648 q 663 656 646 651 q 653 498 653 574 m 253 929 q 307 906 285 929 q 330 854 330 884 q 309 800 330 822 q 257 778 288 778 q 202 800 225 778 q 180 854 180 823 q 200 906 180 884 q 253 929 221 929 m 498 929 q 549 906 527 929 q 572 854 572 884 q 551 799 572 820 q 499 778 531 778 q 444 800 466 778 q 422 854 422 822 q 444 906 422 884 q 498 929 466 929 "},"Z":{"x_min":6.9375,"x_max":801.390625,"ha":828,"o":"m 6 36 q 222 324 112 176 q 425 605 333 473 l 597 857 l 433 857 q 59 836 247 857 l 65 883 l 59 932 q 262 927 134 932 q 427 922 390 922 q 622 927 491 922 q 801 932 754 932 l 801 904 q 594 629 709 785 q 399 361 479 473 q 201 77 319 249 l 427 77 q 581 82 520 77 q 801 103 643 87 l 797 68 l 795 54 l 797 34 l 801 0 q 504 4 683 0 q 325 8 326 8 q 166 4 272 8 q 6 0 61 0 l 6 36 "},"u":{"x_min":90,"x_max":662.21875,"ha":754,"o":"m 653 497 l 653 156 q 654 83 653 122 q 661 -1 656 44 q 623 3 632 2 q 596 4 615 4 q 572 3 581 4 q 533 -1 563 2 l 536 117 q 439 18 491 51 q 313 -15 386 -15 q 147 48 199 -15 q 96 227 96 112 l 96 352 l 96 516 l 90 654 q 158 647 125 647 q 189 648 178 647 q 226 654 200 650 q 220 450 226 586 q 215 246 215 314 q 248 114 215 163 q 361 66 281 66 q 473 112 426 66 q 527 225 520 158 q 536 340 536 282 q 531 497 536 393 q 527 654 527 601 q 572 647 563 647 q 595 647 581 647 q 626 648 616 647 q 662 654 637 650 l 653 497 "},"k":{"x_min":97,"x_max":677.5625,"ha":683,"o":"m 104 656 q 100 873 104 741 q 97 1025 97 1005 q 164 1018 134 1018 q 231 1025 196 1018 q 227 825 231 962 q 223 622 223 687 l 223 377 l 245 377 q 507 654 391 506 q 563 647 538 647 q 616 647 589 647 q 648 652 638 651 l 349 398 l 548 165 q 608 93 577 127 q 677 19 638 59 l 677 0 q 628 3 659 0 q 591 6 597 6 q 544 3 567 6 q 510 0 520 0 q 438 101 473 54 q 360 197 402 148 l 269 308 l 252 324 l 223 326 q 227 164 223 272 q 231 0 231 55 q 200 4 215 2 q 164 5 185 5 q 127 3 146 5 q 97 0 108 1 q 100 386 97 151 q 104 656 104 620 "},"":{"x_min":109,"x_max":928.453125,"ha":1039,"o":"m 257 317 q 262 142 257 253 q 267 0 267 30 q 226 3 253 0 q 188 8 200 8 q 147 3 174 8 q 109 0 121 0 q 116 243 109 72 q 124 465 124 415 q 116 710 124 540 q 109 932 109 880 q 152 929 121 932 q 188 926 183 926 q 231 929 200 926 q 267 932 262 932 q 262 719 267 854 q 257 547 257 584 q 406 544 301 547 q 517 541 511 541 q 666 544 562 541 q 777 547 770 547 q 773 786 777 641 q 769 932 769 930 q 813 929 781 932 q 849 926 845 926 q 893 929 861 926 q 928 932 924 932 q 914 795 920 866 q 909 659 909 723 l 909 505 q 918 252 909 420 q 927 0 927 84 q 887 4 913 0 q 848 8 861 8 q 811 5 829 8 q 769 0 793 2 q 773 103 769 41 q 777 176 777 166 l 777 317 l 777 465 q 604 466 692 465 q 430 469 517 467 l 257 465 l 257 317 "},"":{"x_min":-15.28125,"x_max":838.890625,"ha":825,"o":"m 257 639 l 387 950 q 402 945 395 947 q 417 944 409 944 q 452 950 437 944 q 576 629 536 733 q 686 359 617 526 q 838 0 755 192 q 789 3 820 0 q 751 6 758 6 q 700 4 723 6 q 663 0 677 1 q 600 199 622 137 q 543 353 579 260 l 377 358 l 215 353 l 162 205 q 130 110 145 160 q 101 0 115 59 l 44 5 q 6 2 20 5 q -15 0 -8 0 q 76 211 30 105 q 158 404 121 318 q 257 639 195 490 m 378 419 l 513 425 l 379 761 l 246 425 l 378 419 "},"":{"x_min":94,"x_max":726,"ha":765,"o":"m 107 431 l 107 611 l 107 761 q 200 948 118 872 q 395 1025 283 1025 q 543 979 478 1025 q 608 852 608 933 q 530 709 608 783 q 453 586 453 636 q 589 457 453 547 q 726 259 726 368 q 648 64 726 143 q 453 -15 570 -15 q 379 -6 418 -15 q 309 15 339 1 l 334 128 l 348 127 q 405 70 368 91 q 485 49 442 49 q 583 92 544 49 q 622 193 622 135 q 484 365 622 280 q 347 525 347 450 q 433 667 347 561 q 520 838 520 773 q 483 939 520 899 q 386 979 446 979 q 269 924 313 979 q 226 795 226 870 l 226 629 l 226 344 q 229 141 226 265 q 233 1 233 18 q 196 4 219 1 q 166 8 173 8 q 123 5 142 8 q 94 1 105 2 q 100 250 94 91 q 107 431 107 409 "},"":{"x_min":40,"x_max":646.9375,"ha":681,"o":"m 406 42 q 602 130 523 42 l 621 130 q 613 93 617 112 q 609 47 609 73 q 496 0 558 14 q 369 -15 435 -15 q 130 73 220 -15 q 40 311 40 162 q 126 562 40 456 q 355 669 212 669 q 564 590 481 669 q 646 386 646 512 l 644 331 q 438 333 562 331 q 313 335 315 335 l 179 331 q 235 127 179 212 q 406 42 291 42 m 406 945 q 440 976 424 966 q 477 986 455 986 q 528 934 528 986 q 513 895 528 912 q 471 866 498 879 l 272 743 l 222 743 l 406 945 m 513 392 l 513 437 q 470 563 513 509 q 356 618 427 618 q 233 552 271 618 q 183 390 195 487 l 513 392 "},"s":{"x_min":68,"x_max":531,"ha":593,"o":"m 117 161 q 172 69 130 102 q 276 36 214 36 q 378 67 333 36 q 424 152 424 98 q 334 260 424 224 q 168 320 251 290 q 79 460 79 366 q 147 612 79 552 q 310 672 216 672 q 400 660 355 672 q 500 627 446 649 l 461 508 l 448 508 q 401 587 433 561 q 314 614 369 614 q 223 584 262 614 q 185 505 185 555 q 358 375 185 427 q 531 197 531 322 q 450 39 531 93 q 259 -15 369 -15 q 68 23 162 -15 l 103 161 l 117 161 "},"B":{"x_min":109,"x_max":751,"ha":801,"o":"m 127 559 q 109 931 127 759 l 203 929 q 338 932 244 929 q 438 935 432 935 q 629 883 549 935 q 709 726 709 832 q 638 579 709 633 q 464 504 567 524 q 673 438 595 490 q 751 268 751 387 q 639 66 751 133 q 382 0 528 0 l 232 6 q 162 3 211 6 q 109 0 113 0 q 118 287 109 86 q 127 559 127 488 m 256 257 l 256 149 l 261 61 l 337 57 q 526 108 450 57 q 602 266 602 159 q 523 428 602 386 q 312 471 444 471 l 256 471 l 256 257 m 569 706 q 507 834 569 788 q 361 879 446 879 l 261 875 q 252 709 252 798 l 252 522 q 476 558 384 522 q 569 706 569 595 "},"":{"x_min":119,"x_max":1005,"ha":1160,"o":"m 191 130 q 244 108 223 130 q 266 55 266 87 q 244 5 266 25 q 191 -15 223 -15 q 139 4 160 -15 q 119 55 119 23 q 139 108 119 87 q 191 130 159 130 m 560 130 q 612 108 591 130 q 634 55 634 87 q 612 5 634 25 q 560 -15 591 -15 q 507 4 528 -15 q 487 55 487 23 q 507 109 487 88 q 560 130 528 130 m 930 130 q 983 108 962 130 q 1005 55 1005 87 q 983 5 1005 25 q 930 -15 962 -15 q 878 4 899 -15 q 858 55 858 23 q 878 108 858 87 q 930 130 898 130 "},"?":{"x_min":128,"x_max":520,"ha":601,"o":"m 307 156 q 367 130 342 156 q 392 68 392 105 q 367 7 392 30 q 307 -15 343 -15 q 244 8 269 -15 q 220 68 220 32 q 244 130 220 105 q 307 156 269 156 m 329 250 q 214 290 261 250 q 168 399 168 331 q 287 595 168 479 q 406 776 406 712 q 371 858 406 823 q 292 894 337 894 q 207 867 243 894 q 162 794 171 840 l 150 794 q 142 835 146 822 q 128 894 139 849 q 210 936 165 922 q 305 950 255 950 q 457 893 394 950 q 520 748 520 837 q 398 550 520 657 q 276 370 276 443 q 293 316 276 337 q 343 296 310 296 q 397 302 372 296 l 383 256 q 357 251 365 252 q 329 250 348 250 "},"H":{"x_min":108,"x_max":927.453125,"ha":1036,"o":"m 258 318 q 263 143 258 255 q 268 0 268 30 q 229 3 255 0 q 188 8 202 8 q 148 3 174 8 q 108 0 121 0 q 117 239 108 70 q 126 465 126 408 q 122 711 126 620 q 108 932 119 803 q 153 928 124 932 q 188 925 183 925 q 231 928 204 925 q 268 932 259 932 q 263 719 268 854 q 258 547 258 584 l 517 543 l 777 547 q 773 786 777 641 q 769 932 769 930 q 814 928 785 932 q 848 925 842 925 q 894 928 864 925 q 927 932 923 932 q 914 798 919 868 q 909 659 909 729 l 909 448 l 909 283 q 916 135 909 238 q 924 0 924 31 q 885 4 911 0 q 846 8 860 8 q 807 4 832 8 q 769 0 781 0 q 773 101 769 37 q 777 177 777 164 l 777 318 l 777 468 q 604 468 720 468 q 431 468 489 468 l 258 468 l 258 318 "},"":{"x_min":0,"x_max":632,"ha":654,"o":"m 319 8 q 296 5 309 8 q 272 0 283 2 q 200 206 234 120 q 0 654 165 291 q 84 647 45 647 q 113 647 98 647 q 168 654 127 648 q 252 402 204 529 l 360 131 q 469 358 440 267 q 499 520 499 448 q 492 579 499 543 q 477 641 486 615 q 552 649 527 645 q 613 661 576 652 q 628 611 625 623 q 632 576 632 598 q 621 501 632 536 q 560 373 611 466 q 461 190 509 280 q 372 0 412 99 q 345 3 363 0 q 319 8 327 8 "},"":{"x_min":-25,"x_max":365.328125,"ha":340,"o":"m 104 144 l 104 522 l 97 655 q 138 650 113 651 q 167 649 162 649 q 233 655 206 649 q 225 506 225 581 q 229 254 225 423 q 233 0 233 84 q 201 3 216 1 q 164 5 186 5 q 127 3 146 5 q 97 0 108 1 l 104 144 m 125 978 l 214 978 l 365 743 l 319 743 l 170 875 l 24 743 l -25 743 l 125 978 "},"c":{"x_min":36,"x_max":613.78125,"ha":644,"o":"m 606 119 l 594 41 q 493 -3 548 7 q 365 -15 438 -15 q 131 79 227 -15 q 36 312 36 173 q 134 576 36 480 q 399 672 233 672 q 513 658 459 672 q 613 616 566 645 q 586 492 597 563 l 571 492 q 510 586 550 553 q 406 619 470 619 q 235 532 294 619 q 176 327 176 445 q 237 125 176 209 q 415 42 299 42 q 594 122 520 42 l 606 119 "},"":{"x_min":18,"x_max":531,"ha":590,"o":"m 298 968 l 531 968 l 531 910 l 473 910 l 473 4 l 415 4 l 415 910 l 305 910 l 305 4 l 247 4 l 247 558 q 99 602 163 558 q 27 690 36 645 q 18 744 18 734 q 90 896 18 824 q 298 968 163 968 "},"":{"x_min":96,"x_max":737.671875,"ha":779,"o":"m 160 -365 q 129 -367 151 -365 q 96 -369 107 -369 q 100 -253 96 -325 q 104 -169 104 -182 l 104 101 l 104 565 q 168 898 104 771 q 419 1025 232 1025 q 605 960 525 1025 q 686 787 686 895 q 641 641 686 705 q 522 548 597 577 q 682 454 626 515 q 737 290 737 394 q 648 73 737 162 q 431 -15 559 -15 q 324 3 372 -15 q 226 61 276 22 q 224 -44 226 19 q 223 -110 223 -107 l 230 -369 q 193 -367 220 -369 q 160 -365 166 -365 m 356 564 q 507 618 458 564 q 557 779 557 673 q 520 917 557 859 q 407 975 483 975 q 279 906 323 975 q 234 752 234 838 q 232 613 234 701 q 230 506 230 524 l 226 355 l 230 230 q 275 94 230 147 q 406 41 321 41 q 552 116 504 41 q 600 297 600 192 q 550 443 600 386 q 412 499 500 499 q 361 497 384 499 q 327 493 337 494 l 329 516 l 329 565 l 356 564 "},"":{"x_min":55,"x_max":1165,"ha":1238,"o":"m 190 950 l 243 950 q 331 772 291 851 q 412 612 370 693 q 504 436 454 532 l 626 214 q 742 435 671 298 q 882 711 813 572 q 1001 950 952 850 l 1052 950 q 1082 649 1067 791 q 1118 341 1098 508 q 1165 0 1139 174 q 1121 8 1139 5 q 1088 11 1103 11 q 1049 6 1071 11 q 1008 0 1027 2 q 998 226 1008 109 q 974 461 989 343 q 944 695 959 579 l 748 312 q 610 0 665 152 l 594 1 l 576 0 q 227 685 402 364 l 188 307 q 172 128 175 179 q 168 0 168 77 q 138 4 157 1 q 110 6 118 6 q 81 4 93 6 q 55 0 68 2 q 121 333 89 168 q 171 652 152 498 q 190 950 190 805 "},"":{"x_min":-1,"x_max":1305,"ha":1356,"o":"m 288 465 q 429 820 288 690 q 796 950 570 950 q 1129 853 991 950 q 1284 654 1268 757 q 1302 525 1299 551 q 1305 462 1305 500 q 1302 402 1305 426 q 1284 277 1299 379 q 1131 80 1268 175 q 797 -15 993 -15 q 684 -10 733 -15 q 541 29 635 -5 q 367 186 447 64 q 288 465 288 308 m 182 943 q 215 974 200 964 q 251 985 230 985 q 289 969 274 985 q 304 932 304 954 q 290 896 304 911 q 247 866 275 882 l 48 743 l -1 743 l 182 943 m 439 468 q 527 162 439 282 q 796 42 616 42 q 1063 162 975 42 q 1152 468 1152 283 q 1062 770 1152 651 q 796 889 972 889 q 585 826 666 889 q 462 639 504 764 q 439 468 439 552 "},"":{"x_min":-1.390625,"x_max":1233.046875,"ha":1341,"o":"m 564 316 q 569 142 564 254 q 574 0 574 30 q 535 4 561 0 q 494 8 508 8 q 454 4 480 8 q 414 0 427 0 q 423 239 414 70 q 432 465 432 408 q 428 711 432 620 q 414 931 425 802 q 459 928 430 931 q 494 924 489 924 q 537 928 510 924 q 574 931 565 931 q 569 719 574 854 q 564 547 564 584 l 823 543 l 1083 547 q 1078 786 1083 641 q 1074 931 1074 930 q 1119 928 1091 931 q 1153 924 1148 924 q 1199 928 1170 924 q 1233 931 1228 931 q 1221 798 1226 868 q 1217 659 1217 729 l 1215 448 l 1217 283 q 1225 135 1217 238 q 1233 0 1233 31 q 1194 4 1220 0 q 1154 8 1167 8 q 1113 4 1140 8 q 1075 0 1087 0 q 1078 100 1075 37 q 1082 176 1082 163 l 1083 316 l 1083 465 q 910 466 1026 465 q 737 468 795 468 l 564 465 l 564 316 m 181 943 q 215 974 200 964 q 251 985 230 985 q 288 969 273 985 q 304 932 304 954 q 289 896 304 911 q 247 866 275 882 l 47 743 l -1 743 l 181 943 "},"":{"x_min":204.171875,"x_max":795.828125,"ha":1003,"o":"m 501 789 q 709 702 622 789 q 795 493 795 615 q 709 286 795 372 q 501 201 623 201 q 290 286 377 201 q 204 493 204 371 q 226 605 204 550 q 312 725 248 661 q 501 789 376 789 "},"":{"x_min":32,"x_max":699,"ha":750,"o":"m 313 278 q 176 273 268 278 q 50 268 83 268 l 50 335 q 147 332 82 335 q 246 329 213 329 l 313 329 l 313 436 l 176 436 l 50 432 l 50 495 q 182 492 90 495 q 281 490 275 490 l 126 743 l 32 888 l 91 883 l 191 887 q 225 814 208 845 q 287 699 241 783 l 397 512 q 477 653 433 570 q 592 887 521 736 l 643 883 l 699 887 l 625 773 l 554 655 l 454 490 q 593 492 496 490 q 697 495 690 495 l 697 431 l 434 436 l 434 330 l 572 329 q 636 332 595 329 q 697 335 678 335 l 697 268 l 568 278 l 434 278 q 434 143 434 208 q 442 0 435 77 l 365 5 l 299 0 q 310 131 307 54 q 313 278 313 208 "},"(":{"x_min":114,"x_max":380.5625,"ha":449,"o":"m 114 388 q 175 684 114 545 q 351 950 237 822 q 380 918 361 933 q 253 660 291 782 q 215 379 215 538 q 256 103 215 231 q 380 -151 297 -25 q 351 -183 361 -167 q 173 84 232 -50 q 114 388 114 219 "},"U":{"x_min":101,"x_max":919.0625,"ha":1015,"o":"m 181 926 q 228 929 195 926 q 263 932 262 932 q 251 804 255 853 q 248 697 248 755 l 248 457 q 315 134 248 212 q 515 57 382 57 q 733 129 654 57 q 813 334 813 201 l 813 458 l 813 655 q 810 797 813 733 q 798 931 807 862 q 827 927 813 929 q 859 926 841 926 q 888 929 868 926 q 919 932 907 932 q 905 779 909 853 q 902 600 902 705 l 902 366 q 793 81 902 178 q 492 -15 685 -15 q 211 66 307 -15 q 116 323 116 147 l 116 425 l 116 698 q 109 826 116 759 q 101 931 103 893 q 138 927 120 929 q 181 926 156 926 "},"":{"x_min":-12,"x_max":701,"ha":681,"o":"m 642 647 q 701 654 669 647 q 593 440 633 520 q 502 247 553 359 l 411 48 l 411 -90 q 415 -238 411 -138 q 419 -372 419 -337 l 372 -366 q 282 -372 325 -366 q 287 -195 282 -313 q 292 -33 292 -76 q 260 192 292 47 q 170 460 229 338 q 39 583 111 583 l -12 579 l -10 608 l -12 638 q 43 662 14 653 q 101 672 71 672 q 279 554 234 672 q 398 143 324 437 q 496 393 439 244 q 590 654 553 541 q 615 648 607 650 q 642 647 623 647 "},"":{"x_min":41,"x_max":827.109375,"ha":846,"o":"m 705 352 q 803 -1 763 155 l 739 1 l 673 -1 l 632 172 q 521 36 593 87 q 356 -15 448 -15 q 129 81 217 -15 q 41 316 41 177 q 130 569 41 467 q 368 672 220 672 q 537 622 464 672 q 659 486 610 573 q 711 654 691 569 l 770 650 l 827 654 q 763 505 792 576 q 705 352 734 434 m 377 619 q 226 530 272 619 q 181 326 181 442 q 223 124 181 214 q 367 34 265 34 q 528 137 480 34 q 601 323 577 240 q 527 531 578 444 q 377 619 475 619 "},"F":{"x_min":108,"x_max":613.5625,"ha":671,"o":"m 258 316 q 263 142 258 254 q 268 0 268 30 q 229 3 255 0 q 188 8 202 8 q 148 3 174 8 q 108 0 121 0 q 117 239 108 70 q 126 465 126 408 q 122 711 126 620 q 108 932 119 802 l 358 928 l 613 931 l 610 886 l 613 836 q 505 855 549 851 q 388 860 460 860 l 260 860 l 258 671 l 258 528 l 398 528 q 587 541 480 528 l 584 497 l 587 451 l 394 463 l 258 463 l 258 316 "},"":{"x_min":0,"x_max":683.328125,"ha":683,"o":"m 0 374 l 683 374 l 683 289 l 0 289 l 0 374 "},":":{"x_min":134,"x_max":309,"ha":446,"o":"m 222 636 q 284 611 259 636 q 309 548 309 586 q 284 486 309 512 q 222 461 260 461 q 160 486 186 461 q 134 548 134 511 q 159 610 134 584 q 222 636 185 636 m 221 156 q 283 131 257 156 q 309 69 309 107 q 284 8 309 32 q 221 -15 259 -15 q 159 9 185 -15 q 134 69 134 33 q 159 131 134 107 q 221 156 185 156 "},"":{"x_min":0,"x_max":739,"ha":739,"o":"m 200 285 l 318 456 q 18 932 159 718 q 63 929 33 932 q 109 926 94 926 q 168 929 147 926 q 198 932 188 932 q 296 743 244 841 q 391 568 348 644 l 489 726 q 597 932 548 825 q 627 927 614 929 q 661 926 641 926 q 693 929 671 926 q 728 932 715 932 q 616 781 673 862 q 524 652 558 700 l 427 512 q 523 347 480 419 q 614 197 566 275 q 739 0 662 119 q 686 3 719 0 q 647 6 652 6 q 595 4 618 6 q 558 0 572 1 q 459 197 512 97 q 353 398 405 298 l 265 249 q 174 96 193 130 q 127 0 155 62 q 89 3 113 0 q 62 6 65 6 q 26 4 43 6 q 0 0 9 1 l 200 285 "},"*":{"x_min":94,"x_max":580,"ha":675,"o":"m 336 940 q 367 944 349 940 q 389 948 385 948 q 368 850 375 902 q 362 747 362 799 q 522 873 442 800 q 548 812 539 829 q 580 778 556 796 q 386 702 485 750 q 476 661 427 680 q 575 629 524 643 q 521 535 539 587 q 441 604 478 573 q 362 661 403 634 q 369 564 362 615 q 391 459 377 513 q 360 463 379 459 q 336 467 340 467 q 306 463 325 467 q 282 459 288 459 q 304 568 296 522 q 313 661 313 615 q 152 535 221 602 q 128 589 138 569 q 97 630 117 608 q 185 661 140 643 q 287 704 231 679 q 189 746 234 728 q 94 777 145 763 q 125 818 113 795 q 150 873 137 841 q 227 805 184 839 q 313 747 269 771 q 309 810 313 784 q 282 950 305 836 q 310 942 297 945 q 336 940 324 940 "},"":{"x_min":176,"x_max":508,"ha":683,"o":"m 176 889 q 228 1010 176 961 q 355 1060 280 1060 q 460 1011 413 1060 q 508 904 508 962 q 455 785 508 839 q 337 731 402 731 q 222 776 269 731 q 176 889 176 821 m 241 880 q 266 805 241 836 q 336 775 292 775 q 413 811 386 775 q 441 899 441 847 q 417 985 441 952 q 343 1018 393 1018 q 281 995 307 1018 q 247 940 254 973 q 241 880 241 906 "},"V":{"x_min":0,"x_max":852.78125,"ha":853,"o":"m 190 477 l 74 759 l 0 932 l 83 926 q 134 929 98 926 q 173 931 170 931 q 206 829 187 884 q 248 704 224 773 l 308 548 l 454 153 l 586 502 q 729 931 666 713 l 790 927 l 852 931 q 643 467 748 720 q 470 0 538 215 q 445 4 457 1 q 418 6 432 6 q 384 3 399 6 q 366 0 368 0 q 279 256 331 123 q 190 477 226 389 "},"":{"x_min":58.328125,"x_max":818.0625,"ha":878,"o":"m 437 821 q 258 817 377 821 q 77 813 138 813 q 84 851 83 838 q 84 872 84 864 q 77 932 84 900 q 256 928 137 932 q 437 924 376 924 q 618 928 497 924 q 797 932 738 932 l 791 872 q 794 842 791 861 q 797 813 797 822 q 619 817 738 813 q 437 821 500 821 m 470 430 q 335 425 440 430 q 183 421 230 421 q 187 456 186 433 q 188 481 188 480 q 183 543 188 515 q 304 538 215 543 q 437 533 394 533 q 572 538 481 533 q 694 543 662 543 l 687 482 l 694 421 q 572 425 650 421 q 470 430 494 430 m 437 8 q 250 4 376 8 q 58 0 123 0 l 63 63 l 58 129 q 268 124 134 129 q 437 119 401 119 q 636 124 502 119 q 818 129 769 129 l 813 63 l 818 0 q 627 4 754 0 q 437 8 501 8 "},"":{"x_min":0,"x_max":0,"ha":375},"":{"x_min":-26,"x_max":746,"ha":708,"o":"m 299 177 l 299 387 q 190 577 235 501 q 87 747 146 652 q -26 931 29 841 q 23 929 -13 931 q 65 926 61 926 q 110 929 78 926 q 146 931 143 931 q 208 800 175 866 q 278 676 241 734 l 391 475 q 627 931 519 693 l 683 927 q 721 929 701 927 q 746 931 741 931 q 652 786 702 866 q 557 627 602 705 l 432 415 l 432 241 q 435 97 432 184 q 439 0 439 10 q 395 4 414 2 q 361 6 376 6 q 320 4 336 6 q 286 0 304 2 q 294 88 290 36 q 299 177 299 141 m 233 1208 q 286 1187 265 1208 q 307 1133 307 1166 q 285 1080 307 1103 q 233 1058 263 1058 q 179 1080 202 1058 q 157 1133 157 1103 q 179 1186 157 1164 q 233 1208 202 1208 m 475 1208 q 528 1186 506 1208 q 550 1133 550 1164 q 528 1080 550 1103 q 475 1058 506 1058 q 422 1080 444 1058 q 400 1133 400 1102 q 421 1186 400 1164 q 475 1208 443 1208 "},"0":{"x_min":48,"x_max":699,"ha":749,"o":"m 372 909 q 621 773 544 909 q 699 451 699 637 q 627 116 699 252 q 372 -19 556 -19 q 120 114 193 -19 q 48 444 48 247 q 120 774 48 639 q 372 909 193 909 m 187 365 q 226 137 187 238 q 373 37 266 37 q 457 62 421 37 q 519 142 494 88 q 552 271 545 196 q 559 455 559 346 q 526 736 559 622 q 371 851 493 851 q 245 783 280 851 q 198 647 210 716 q 187 444 187 577 l 187 365 "},"":{"x_min":104.171875,"x_max":570.828125,"ha":625,"o":"m 184 858 q 211 924 193 898 q 265 951 230 951 q 320 903 316 951 q 310 856 320 881 q 283 812 300 831 l 136 568 l 104 576 l 184 858 m 433 858 q 468 928 452 905 q 516 951 483 951 q 555 938 540 951 q 570 903 570 926 q 561 859 570 881 q 536 812 552 837 l 387 568 l 355 576 l 433 858 "},"@":{"x_min":78,"x_max":1289,"ha":1367,"o":"m 906 640 l 970 640 l 876 266 l 864 203 q 886 157 864 172 q 940 142 908 142 q 1136 262 1062 142 q 1211 513 1211 383 q 1067 801 1211 693 q 735 909 923 909 q 324 753 495 909 q 154 362 154 598 q 301 1 154 135 q 679 -132 448 -132 q 904 -99 791 -132 q 1105 -6 1016 -67 l 1129 -43 q 923 -150 1033 -113 q 694 -188 812 -188 q 258 -43 439 -188 q 78 350 78 100 q 273 791 78 614 q 737 969 469 969 q 1122 843 955 969 q 1289 507 1289 717 q 1187 214 1289 346 q 930 82 1086 82 q 835 103 879 82 q 792 170 792 124 l 792 203 q 709 116 762 150 q 595 82 655 82 q 439 139 493 82 q 386 302 386 197 q 471 553 386 441 q 692 665 556 665 q 797 639 754 665 q 864 556 840 613 l 906 640 m 849 477 q 796 572 835 535 q 701 609 758 609 q 529 511 592 609 q 467 297 467 413 q 503 184 467 230 q 605 139 540 139 q 733 188 679 139 q 807 313 787 238 l 849 477 "},"":{"x_min":-1.390625,"x_max":580.0625,"ha":690,"o":"m 433 465 q 429 711 433 620 q 414 931 426 802 q 461 927 435 929 q 498 925 487 925 q 546 928 517 925 q 580 931 575 931 q 572 788 580 887 q 564 659 564 690 l 562 448 l 564 283 q 572 135 564 238 q 580 0 580 31 q 539 4 567 0 q 498 8 512 8 q 457 5 480 8 q 414 0 435 2 q 423 239 414 70 q 433 465 433 408 m 181 943 q 215 974 200 964 q 251 985 230 985 q 288 969 273 985 q 304 932 304 954 q 289 896 304 911 q 247 866 275 882 l 47 743 l -1 743 l 181 943 "},"":{"x_min":40,"x_max":712,"ha":753,"o":"m 371 -15 q 131 79 223 -15 q 40 322 40 173 q 133 572 40 473 q 380 672 227 672 q 621 575 530 672 q 712 327 712 479 q 619 80 712 175 q 371 -15 527 -15 m 253 929 q 307 906 285 929 q 330 854 330 884 q 309 800 330 822 q 257 778 288 778 q 202 800 225 778 q 180 854 180 823 q 200 906 180 884 q 253 929 221 929 m 498 929 q 549 906 527 929 q 572 854 572 884 q 551 799 572 820 q 499 778 531 778 q 444 800 466 778 q 422 854 422 822 q 444 906 422 884 q 498 929 466 929 m 377 622 q 227 532 274 622 q 180 327 180 442 q 227 125 180 216 q 375 35 274 35 q 524 124 478 35 q 570 327 570 214 q 524 531 570 441 q 377 622 479 622 "},"i":{"x_min":91.765625,"x_max":244,"ha":342,"o":"m 100 144 l 100 520 l 93 654 q 161 648 130 648 q 194 649 182 648 q 229 654 207 650 q 221 579 224 616 q 219 505 219 543 q 224 240 219 417 q 229 0 229 63 q 197 3 212 1 q 161 5 181 5 q 116 2 131 5 q 91 0 100 0 l 100 144 m 168 963 q 223 940 202 963 q 244 881 244 917 q 222 831 244 849 q 168 813 200 813 q 115 833 137 813 q 93 885 93 853 q 113 941 93 919 q 168 963 134 963 "},"":{"x_min":109,"x_max":751,"ha":801,"o":"m 127 559 q 109 931 127 759 l 203 929 q 338 932 244 929 q 438 935 432 935 q 629 883 549 935 q 709 726 709 832 q 638 579 709 633 q 464 504 567 524 q 673 438 595 490 q 751 268 751 387 q 639 66 751 133 q 382 0 528 0 l 232 6 q 162 3 211 6 q 109 0 113 0 q 118 287 109 86 q 127 559 127 488 m 256 257 l 256 149 l 261 61 l 337 57 q 526 108 450 57 q 602 266 602 159 q 523 428 602 386 q 312 471 444 471 l 256 471 l 256 257 m 569 706 q 507 834 569 788 q 361 879 446 879 l 261 875 q 252 709 252 798 l 252 522 q 476 558 384 522 q 569 706 569 595 "},"":{"x_min":176,"x_max":962.703125,"ha":1139,"o":"m 288 491 l 962 266 l 962 196 l 176 462 l 176 521 l 962 788 l 962 718 l 288 491 m 962 26 l 176 26 l 176 93 l 962 93 l 962 26 "},"":{"x_min":79,"x_max":703,"ha":774,"o":"m 703 397 q 596 110 703 236 q 332 -15 489 -15 q 145 54 211 -15 q 79 244 79 123 l 83 430 q 81 542 83 486 q 79 654 80 598 l 146 650 l 217 654 q 209 503 217 608 q 202 366 202 398 l 202 261 q 240 105 202 168 q 369 43 279 43 q 523 133 476 43 q 571 341 571 223 q 548 493 571 418 q 488 645 526 568 q 550 648 529 645 q 627 659 571 650 q 703 397 703 538 "},"]":{"x_min":83,"x_max":332,"ha":449,"o":"m 209 -154 l 83 -158 l 85 -129 l 85 -98 q 183 -104 128 -104 l 229 -104 l 232 386 l 232 880 l 185 880 q 134 877 162 880 q 83 872 107 874 l 85 903 l 85 932 l 205 929 l 332 929 q 326 852 332 909 q 321 766 321 794 l 321 455 l 321 2 l 332 -158 l 209 -154 "},"m":{"x_min":91,"x_max":1075,"ha":1167,"o":"m 101 155 l 101 494 q 98 568 101 529 q 91 654 96 606 q 155 647 123 647 l 221 654 l 216 537 q 317 638 261 604 q 450 672 373 672 q 629 547 581 672 q 733 639 677 606 q 860 672 789 672 q 1018 606 968 672 q 1069 429 1069 540 l 1069 298 l 1069 136 l 1075 0 q 1038 3 1063 0 q 1006 6 1013 6 q 968 3 992 6 q 938 0 943 0 q 944 203 938 68 q 950 406 950 338 q 918 536 950 486 q 810 587 887 587 q 699 540 745 587 q 648 452 653 493 q 642 376 643 410 q 641 326 641 342 l 641 314 q 644 132 641 258 q 647 0 647 6 q 607 4 621 2 q 581 5 593 5 q 542 2 570 5 q 514 0 515 0 q 519 168 514 55 q 524 321 524 280 l 524 406 q 490 534 524 482 q 383 587 457 587 q 273 541 314 587 q 223 436 231 496 q 216 314 216 376 q 219 133 216 244 q 222 0 222 22 q 183 3 207 0 q 154 6 159 6 q 117 4 134 6 q 91 0 100 1 l 101 155 "},"":{"x_min":-1,"x_max":725.390625,"ha":713,"o":"m 500 426 q 554 536 528 476 q 607 654 580 595 l 675 650 l 725 652 q 623 507 672 586 q 519 330 573 427 l 444 197 q 575 -85 507 55 q 719 -371 643 -227 q 665 -371 701 -371 q 611 -371 629 -371 l 560 -371 q 444 -115 497 -230 q 358 72 392 -1 l 255 -95 q 178 -237 208 -174 q 125 -371 147 -299 l 62 -371 l 0 -371 q 125 -192 68 -278 q 240 -5 182 -106 l 324 136 l 201 402 q 146 519 174 460 q 43 587 103 587 l -1 584 l -1 638 q 128 672 57 672 q 222 627 181 672 q 292 522 264 583 l 359 374 l 411 260 l 500 426 "},"8":{"x_min":59,"x_max":689,"ha":749,"o":"m 110 696 q 187 853 110 797 q 370 909 264 909 q 558 854 480 909 q 636 694 636 800 q 589 575 636 621 q 467 510 543 529 l 467 499 q 630 413 572 475 q 689 247 689 351 q 597 51 689 120 q 374 -18 505 -18 q 149 48 239 -18 q 59 247 59 115 q 118 414 59 347 q 281 499 178 480 l 281 510 q 157 570 205 521 q 110 696 110 619 m 371 531 q 472 577 437 531 q 507 693 507 624 q 470 810 507 764 q 366 856 433 856 q 271 807 305 856 q 238 693 238 758 q 271 578 238 625 q 371 531 305 531 m 373 31 q 505 97 461 31 q 550 255 550 164 q 506 415 550 348 q 373 482 462 482 q 239 416 283 482 q 195 255 195 351 q 240 96 195 162 q 373 31 285 31 "},"":{"x_min":96,"x_max":429.34375,"ha":342,"o":"m 104 333 l 104 520 q 103 566 104 544 q 96 654 102 588 q 141 647 130 648 q 165 647 151 647 q 233 654 196 647 q 224 555 226 599 q 223 437 223 511 l 223 406 q 228 194 223 337 q 233 0 233 51 q 201 3 216 1 q 165 5 185 5 q 127 3 148 5 q 96 0 107 1 q 100 165 96 51 q 104 333 104 279 m 308 943 q 341 974 326 964 q 377 985 357 985 q 415 969 401 985 q 429 932 429 954 q 414 896 429 912 q 373 866 400 880 l 174 743 l 125 743 l 308 943 "},"":{"x_min":6.9375,"x_max":801.390625,"ha":828,"o":"m 6 36 q 222 324 112 176 q 425 605 333 473 l 597 857 l 433 857 q 59 836 247 857 l 65 883 l 59 932 q 262 927 134 932 q 427 922 390 922 q 622 927 491 922 q 801 932 754 932 l 801 904 q 594 629 709 785 q 399 361 479 473 q 201 77 319 249 l 427 77 q 581 82 520 77 q 801 103 643 87 l 797 68 l 795 54 l 797 34 l 801 0 q 504 4 683 0 q 325 8 326 8 q 166 4 272 8 q 6 0 61 0 l 6 36 "},"R":{"x_min":109,"x_max":806.234375,"ha":785,"o":"m 261 0 q 223 3 248 0 q 185 8 198 8 q 148 5 168 8 q 109 0 127 2 q 118 306 109 90 q 127 598 127 523 q 122 761 127 672 q 109 931 117 849 l 203 929 l 409 935 q 618 882 529 935 q 708 719 708 830 q 634 559 708 615 q 442 473 560 503 q 620 240 533 355 q 806 0 708 124 l 732 5 l 610 0 q 449 240 529 127 q 283 455 369 353 l 251 455 l 251 307 q 256 138 251 245 q 261 0 261 31 m 570 699 q 504 835 570 791 q 344 879 439 879 l 261 875 q 253 772 255 834 q 251 701 251 709 l 251 504 q 479 542 388 504 q 570 699 570 581 "},"":{"x_min":203.984375,"x_max":938.015625,"ha":1139,"o":"m 892 775 l 938 729 l 616 406 l 938 86 l 892 38 l 571 361 l 247 38 l 203 86 l 525 407 l 204 729 l 247 775 l 570 453 l 892 775 "},"o":{"x_min":41,"x_max":710,"ha":753,"o":"m 371 -15 q 131 78 222 -15 q 41 322 41 172 q 133 573 41 474 q 378 672 225 672 q 619 574 528 672 q 710 326 710 477 q 617 80 710 175 q 371 -15 525 -15 m 377 619 q 226 530 272 619 q 180 327 180 441 q 227 125 180 216 q 375 35 274 35 q 524 123 478 35 q 570 326 570 211 q 524 529 570 440 q 377 619 479 619 "},"5":{"x_min":75,"x_max":654,"ha":749,"o":"m 116 201 q 176 77 131 120 q 303 35 221 35 q 454 98 396 35 q 512 255 512 161 q 457 407 512 346 q 313 469 403 469 q 170 417 227 469 l 150 428 l 158 526 q 158 662 158 570 q 158 801 158 754 l 147 888 l 383 879 l 412 879 q 628 887 520 879 q 624 848 626 870 q 622 818 622 826 l 626 760 l 425 761 l 227 761 q 221 631 227 717 q 216 500 216 544 q 375 536 296 536 q 572 465 491 536 q 654 279 654 394 q 550 60 654 139 q 304 -18 447 -18 q 179 -6 231 -18 q 75 34 127 4 q 101 201 87 118 l 116 201 "},"7":{"x_min":122.609375,"x_max":729.5625,"ha":749,"o":"m 461 553 l 586 770 l 362 770 q 129 755 232 770 q 133 786 132 769 q 135 820 135 804 q 128 888 135 853 l 408 883 l 729 887 l 729 871 q 463 429 582 641 q 251 0 344 216 l 194 8 q 153 5 169 8 q 122 0 137 2 q 214 146 179 91 q 333 339 249 201 q 461 553 417 477 "},"K":{"x_min":108,"x_max":856.625,"ha":821,"o":"m 255 314 q 261 132 255 250 q 268 0 268 13 q 229 4 255 0 q 188 8 202 8 q 148 4 174 8 q 108 0 121 0 q 117 239 108 70 q 126 465 126 408 q 122 712 126 621 q 108 932 119 803 q 153 928 124 932 q 188 925 183 925 q 231 928 203 925 q 267 932 259 932 l 255 671 l 255 499 q 480 693 375 586 q 687 932 585 800 q 732 932 710 932 q 777 932 753 932 l 837 932 q 606 727 720 830 q 389 522 493 623 q 525 358 465 426 q 666 202 586 290 q 856 0 747 115 l 746 0 q 692 -1 716 0 q 644 -8 669 -2 q 571 92 610 44 q 477 204 532 140 l 255 459 l 255 314 "},",":{"x_min":40.28125,"x_max":272.21875,"ha":374,"o":"m 131 75 q 160 147 144 120 q 213 175 176 175 q 272 119 272 175 q 259 67 272 91 q 231 18 245 43 l 73 -243 l 40 -231 l 131 75 "},"d":{"x_min":55,"x_max":676,"ha":758,"o":"m 668 762 l 672 137 l 676 -1 q 638 3 653 1 q 611 5 623 5 q 574 2 597 5 q 547 -1 551 -1 l 557 119 q 336 -15 484 -15 q 127 86 200 -15 q 55 330 55 187 q 127 569 55 467 q 332 672 199 672 q 457 643 402 672 q 551 556 513 615 l 551 756 l 551 789 l 551 818 q 542 1025 551 927 q 609 1018 576 1018 q 639 1019 628 1018 q 675 1025 651 1020 l 668 762 m 374 57 q 515 139 473 57 q 557 332 557 222 q 513 522 557 437 q 374 607 470 607 q 236 522 278 607 q 194 332 194 438 q 235 141 194 225 q 374 57 277 57 "},"":{"x_min":83.71875,"x_max":550.390625,"ha":625,"o":"m 471 659 q 441 593 458 618 q 389 568 424 568 q 350 579 365 568 q 335 613 335 591 q 346 660 335 633 q 371 706 358 687 l 519 950 l 550 940 l 471 659 m 221 659 q 192 593 211 618 q 137 568 174 568 q 83 613 83 568 q 93 658 83 637 q 119 706 103 680 l 268 950 l 300 940 l 221 659 "},"E":{"x_min":108,"x_max":613.5625,"ha":686,"o":"m 126 465 q 122 711 126 620 q 108 932 119 802 l 353 928 l 610 931 l 606 884 l 610 836 q 508 853 562 847 q 408 860 453 860 l 260 860 l 258 671 l 258 528 l 398 528 q 587 541 480 528 l 584 497 l 587 451 l 394 463 l 258 463 l 258 316 l 264 73 q 456 76 380 73 q 613 94 531 80 l 610 47 l 613 0 l 358 4 l 108 0 q 117 239 108 70 q 126 465 126 408 "},"Y":{"x_min":-28,"x_max":746,"ha":707,"o":"m 297 177 l 297 386 q 191 570 256 458 q 84 750 125 682 q -28 932 42 819 q 24 928 -9 932 q 63 925 59 925 q 112 927 91 925 q 146 932 134 930 q 207 800 174 866 q 275 676 239 735 l 389 475 q 509 688 451 575 q 627 932 567 801 l 683 926 q 715 927 701 926 q 746 932 729 929 q 555 627 640 769 l 432 415 l 432 240 q 435 101 432 198 q 438 0 438 5 q 401 4 426 1 q 361 6 376 6 q 319 4 334 6 q 284 0 304 2 q 292 88 288 36 q 297 177 297 140 "},"\\"":{"x_min":64,"x_max":315,"ha":379,"o":"m 133 587 l 64 587 l 64 957 l 133 957 l 133 587 m 315 587 l 247 587 l 247 957 l 315 957 l 315 587 "},"":{"x_min":40,"x_max":646.9375,"ha":681,"o":"m 406 42 q 602 130 523 42 l 621 130 q 613 93 617 112 q 609 47 609 73 q 496 0 558 14 q 369 -15 435 -15 q 130 73 220 -15 q 40 311 40 162 q 126 562 40 456 q 355 669 212 669 q 564 590 481 669 q 646 386 646 512 l 644 331 q 438 333 562 331 q 314 335 315 335 l 179 331 q 235 127 179 212 q 406 42 291 42 m 296 978 l 386 978 l 537 743 l 488 743 l 340 875 l 193 743 l 143 743 l 296 978 m 513 392 l 513 437 q 470 563 513 509 q 356 618 427 618 q 233 552 271 618 q 183 390 195 487 l 513 392 "},"":{"x_min":41,"x_max":670,"ha":710,"o":"m 102 840 q 185 981 102 937 q 375 1025 268 1025 q 497 1010 436 1025 q 621 968 559 995 q 595 876 604 923 q 500 947 547 923 q 393 972 453 972 q 280 937 328 972 q 233 840 233 902 q 272 742 233 794 q 434 627 312 691 q 613 504 556 563 q 670 305 670 445 q 581 75 670 165 q 350 -15 492 -15 q 125 73 210 -15 q 41 305 41 162 q 113 526 41 430 q 306 622 186 622 q 145 726 189 674 q 102 840 102 779 m 356 576 q 221 492 261 576 q 181 302 181 409 q 223 118 181 203 q 356 34 265 34 q 490 116 450 34 q 530 307 530 198 q 489 492 530 409 q 356 576 449 576 "},"":{"x_min":53,"x_max":598.828125,"ha":628,"o":"m 506 516 q 433 591 467 566 q 353 616 400 616 q 261 580 298 616 q 225 492 225 545 q 268 406 225 437 q 372 375 311 375 l 418 375 l 417 352 l 417 313 l 343 317 q 237 282 281 317 q 193 185 193 247 q 238 78 193 118 q 352 38 284 38 q 460 66 410 38 q 543 144 510 94 q 553 99 547 121 q 567 54 558 76 q 452 2 515 19 q 321 -15 388 -15 q 134 31 216 -15 q 53 176 53 78 q 96 286 53 246 q 214 355 139 326 q 127 408 162 370 q 93 497 93 445 q 165 625 93 579 q 323 672 237 672 q 430 654 378 672 q 541 604 481 637 q 522 564 529 584 q 506 516 514 545 m 476 944 q 510 975 494 965 q 547 986 526 986 q 584 970 569 986 q 598 933 598 954 q 584 898 598 912 q 541 867 569 884 l 342 744 l 293 744 l 476 944 "},"":{"x_min":39.71875,"x_max":1028.9375,"ha":1068,"o":"m 535 526 l 596 528 l 594 305 q 616 117 594 193 q 722 42 638 42 q 850 118 811 42 q 888 293 888 194 q 829 502 888 409 q 664 654 769 594 l 717 648 q 805 654 766 648 q 967 510 905 606 q 1028 304 1028 413 q 948 81 1028 177 q 744 -15 867 -15 q 622 16 678 -15 q 534 104 566 47 q 445 16 500 48 q 323 -15 389 -15 q 118 83 196 -15 q 39 311 39 182 q 100 511 39 419 q 262 654 161 604 q 303 650 278 651 q 349 648 327 648 l 402 654 q 238 501 296 593 q 179 291 179 409 q 218 116 179 191 q 348 42 257 42 q 419 68 390 42 q 461 137 448 94 q 472 216 469 175 q 475 303 475 257 q 472 419 475 353 q 469 528 470 485 l 535 526 "},"":{"x_min":90.28125,"x_max":305.5625,"ha":374,"o":"m 169 859 q 197 923 177 894 q 250 953 218 953 q 288 939 272 953 q 305 902 305 925 q 295 857 305 882 q 269 811 284 833 l 120 568 l 90 576 l 169 859 "},"":{"x_min":169,"x_max":969,"ha":1139,"o":"m 602 549 l 969 549 l 969 482 l 602 482 l 602 247 l 534 247 l 534 482 l 169 482 l 169 549 l 534 549 l 534 779 l 602 779 l 602 549 m 969 33 l 169 33 l 169 100 l 969 100 l 969 33 "},"|":{"x_min":305,"x_max":376,"ha":683,"o":"m 376 448 l 305 448 l 305 956 l 376 956 l 376 448 m 376 -233 l 305 -233 l 305 272 l 376 272 l 376 -233 "},"":{"x_min":79,"x_max":703,"ha":774,"o":"m 703 395 q 595 110 703 236 q 332 -15 488 -15 q 145 54 211 -15 q 79 244 79 123 l 83 429 q 81 542 83 486 q 79 654 80 598 l 146 650 l 217 654 q 209 502 217 608 q 202 365 202 397 l 202 261 q 240 105 202 168 q 369 43 279 43 q 523 132 476 43 q 571 340 571 222 q 548 493 571 418 q 488 645 526 568 q 550 647 529 645 q 627 658 571 650 q 703 395 703 537 m 227 928 q 281 907 259 928 q 304 853 304 886 q 283 800 304 822 q 230 778 262 778 q 175 800 197 778 q 153 853 153 822 q 174 906 153 884 q 227 928 195 928 m 469 928 q 523 906 501 928 q 545 853 545 884 q 524 799 545 821 q 472 778 504 778 q 418 800 440 778 q 396 853 396 822 q 416 905 396 883 q 469 928 437 928 "},"":{"x_min":64,"x_max":620,"ha":675,"o":"m 114 36 l 128 36 q 198 -76 148 -33 q 319 -120 247 -120 q 430 -78 384 -120 q 476 27 476 -37 q 369 169 476 116 q 170 252 269 210 q 64 419 64 312 q 91 522 64 476 q 171 609 119 568 q 122 739 122 669 q 195 896 122 837 q 369 956 268 956 q 473 940 422 956 q 576 894 523 925 q 559 864 568 882 q 521 775 551 846 l 508 775 q 445 871 483 839 q 343 903 407 903 q 251 867 289 903 q 213 777 213 832 q 318 644 213 694 q 514 563 415 604 q 620 408 620 507 q 592 299 620 348 q 515 213 565 251 q 560 143 544 179 q 576 65 576 108 q 494 -112 576 -46 q 298 -178 412 -178 q 179 -163 239 -178 q 76 -119 120 -148 q 97 -42 86 -89 q 114 36 108 4 m 138 479 q 257 340 138 396 q 478 238 376 285 q 524 285 508 261 q 541 342 541 310 q 384 490 541 423 q 197 587 228 556 q 156 532 175 563 q 138 479 138 501 "},"b":{"x_min":78,"x_max":703,"ha":758,"o":"m 152 1018 q 219 1025 181 1018 q 212 916 214 966 q 210 788 210 866 l 210 755 l 210 555 q 419 672 283 672 q 629 569 555 672 q 703 322 703 466 q 630 79 703 173 q 414 -15 558 -15 q 296 8 350 -15 q 193 79 242 31 q 160 49 175 64 q 120 -1 145 33 l 78 -1 q 87 106 82 43 q 92 213 92 169 l 92 545 q 88 784 92 625 q 85 1025 85 944 q 152 1018 119 1018 m 383 605 q 243 520 285 605 q 202 323 202 435 q 245 133 202 218 q 383 48 288 48 q 522 132 480 48 q 564 326 564 217 q 522 519 564 434 q 383 605 480 605 "},"q":{"x_min":54,"x_max":675,"ha":758,"o":"m 608 -368 q 579 -368 591 -368 q 540 -373 567 -369 q 549 -213 548 -312 q 551 -101 551 -115 l 551 99 q 339 -15 476 -15 q 130 82 207 -15 q 54 316 54 180 q 125 564 54 456 q 333 672 197 672 q 464 636 407 672 q 557 535 520 601 q 546 655 557 594 q 586 649 576 650 q 611 648 597 648 q 674 655 640 648 l 671 433 q 669 163 671 298 q 666 -106 668 27 l 675 -373 q 643 -369 658 -370 q 608 -368 627 -368 m 373 48 q 515 134 473 48 q 557 331 557 220 q 511 514 557 433 q 372 596 466 596 q 234 512 276 596 q 193 322 193 429 q 236 133 193 218 q 373 48 279 48 "},"":{"x_min":8,"x_max":1119.125,"ha":1129,"o":"m 449 0 q 318 4 410 0 q 223 8 227 8 l 10 0 l 13 47 q 11 74 13 59 q 8 95 9 88 q 119 88 69 90 q 249 86 169 86 q 103 261 152 170 q 55 473 55 352 q 200 822 55 694 q 567 950 345 950 q 931 823 791 950 q 1072 473 1072 697 q 1025 261 1072 350 q 878 86 978 173 q 992 91 902 86 q 1119 96 1083 96 l 1114 33 l 1117 0 l 906 8 q 778 4 867 8 q 682 0 688 0 l 682 72 q 864 215 807 122 q 921 451 921 309 q 834 764 921 639 q 565 889 747 889 q 296 767 384 889 q 209 454 209 645 q 268 217 209 319 q 449 72 327 115 l 449 0 "},"":{"x_min":79,"x_max":703,"ha":774,"o":"m 703 395 q 595 110 703 236 q 332 -15 488 -15 q 145 54 211 -15 q 79 244 79 123 l 83 429 q 81 541 83 484 q 79 652 80 597 l 146 648 l 217 652 q 209 502 217 606 q 202 365 202 397 l 202 261 q 240 105 202 168 q 369 43 279 43 q 523 132 476 43 q 571 340 571 222 q 548 491 571 416 q 488 644 526 566 q 550 646 529 644 q 627 656 571 648 q 703 395 703 536 m 499 941 q 532 972 517 962 q 568 983 547 983 q 606 967 592 983 q 620 930 620 952 q 605 894 620 910 q 564 865 590 878 l 365 741 l 316 741 l 499 941 "},"":{"x_min":51,"x_max":1069,"ha":1121,"o":"m 51 465 q 191 819 51 688 q 559 950 332 950 q 891 852 750 950 q 1046 659 1031 755 q 1065 535 1062 562 q 1069 462 1069 508 q 1066 395 1069 416 q 1047 275 1063 373 q 894 80 1031 176 q 562 -15 756 -15 q 451 -8 503 -15 q 304 31 399 -2 q 130 187 209 65 q 51 465 51 308 m 439 1208 q 491 1186 470 1208 q 513 1133 513 1164 q 491 1080 513 1103 q 439 1058 470 1058 q 385 1080 409 1058 q 362 1133 362 1102 q 384 1186 362 1164 q 439 1208 407 1208 m 682 1208 q 735 1186 713 1208 q 757 1133 757 1164 q 735 1080 757 1103 q 682 1058 713 1058 q 628 1079 650 1058 q 607 1133 607 1101 q 628 1186 607 1164 q 682 1208 650 1208 m 204 469 q 292 162 204 283 q 559 42 380 42 q 827 162 739 42 q 916 469 916 283 q 825 767 916 648 q 559 887 735 887 q 349 825 430 887 q 226 638 267 763 q 204 469 204 558 "},"z":{"x_min":15.28125,"x_max":606.9375,"ha":647,"o":"m 15 29 q 164 224 88 124 q 302 416 240 323 l 418 586 l 270 586 q 181 581 218 586 q 62 565 145 577 l 68 609 l 62 654 q 181 648 115 650 q 330 646 248 646 l 363 646 l 393 646 q 606 654 500 646 l 606 626 q 453 428 545 549 q 317 246 361 306 q 194 68 273 185 l 343 68 q 456 72 400 68 q 594 86 513 77 l 588 42 l 594 0 l 280 8 q 148 4 237 8 q 15 0 59 0 l 15 29 "},"":{"x_min":176,"x_max":918,"ha":1139,"o":"m 463 930 l 346 930 l 346 614 l 293 614 l 293 930 l 176 930 l 176 969 l 463 969 l 463 930 m 736 690 l 840 968 l 918 969 l 918 614 l 871 614 l 871 927 l 752 614 l 719 614 l 594 930 l 594 614 l 548 614 l 548 969 l 625 969 l 736 690 "},"":{"x_min":91,"x_max":662,"ha":754,"o":"m 594 -365 q 557 -366 577 -365 q 526 -369 537 -368 q 531 -189 526 -310 q 537 -7 537 -68 l 537 406 q 503 536 537 485 q 391 587 469 587 q 255 508 290 587 q 220 315 220 430 q 222 133 220 259 q 224 1 224 8 l 158 6 l 91 1 l 101 156 l 101 495 q 97 584 101 527 q 93 655 93 640 q 119 650 105 652 q 155 648 134 648 q 185 650 175 648 q 221 655 195 651 l 220 538 q 321 637 265 602 q 452 672 378 672 q 604 603 552 672 q 656 430 656 535 l 656 329 l 656 -186 q 659 -293 656 -227 q 662 -370 662 -359 q 630 -366 645 -368 q 594 -365 614 -365 m 481 944 q 515 975 499 965 q 552 986 531 986 q 589 970 575 986 q 603 933 603 955 q 589 898 603 912 q 547 868 575 884 l 348 744 l 298 744 l 481 944 "},"":{"x_min":51,"x_max":1068,"ha":1119,"o":"m 51 465 q 193 820 51 690 q 562 950 335 950 q 893 852 755 950 q 1047 653 1031 755 q 1065 525 1062 551 q 1068 462 1068 500 q 1065 402 1068 426 q 1047 280 1062 379 q 892 83 1033 182 q 560 -15 751 -15 q 435 -7 480 -15 q 299 32 390 0 q 130 187 209 65 q 51 465 51 308 m 202 468 q 290 163 202 283 q 559 43 379 43 q 826 163 738 43 q 915 468 915 283 q 826 770 915 652 q 559 889 738 889 q 254 720 306 889 q 202 468 202 552 m 560 507 q 683 510 608 507 q 768 514 758 514 l 765 465 l 765 429 q 648 432 730 429 q 558 435 566 435 q 440 432 523 435 q 351 429 357 429 l 353 470 l 353 514 q 474 510 400 514 q 560 507 549 507 "},"":{"x_min":80,"x_max":1058,"ha":1139,"o":"m 816 905 q 992 726 927 841 q 1058 481 1058 611 q 912 138 1058 283 q 567 -6 766 -6 q 225 139 370 -6 q 80 481 80 284 q 224 826 80 681 q 569 971 368 971 q 816 905 698 971 m 569 918 q 263 788 392 918 q 134 481 134 659 q 261 175 134 306 q 566 45 389 45 q 872 174 741 45 q 1004 478 1004 304 q 947 699 1004 596 q 787 859 890 801 q 569 918 684 918 m 815 619 q 776 521 815 562 q 681 468 738 480 l 809 209 l 709 208 l 592 456 l 462 457 l 462 209 l 376 209 l 376 771 l 581 771 q 745 737 676 771 q 815 619 815 704 m 462 714 l 462 513 l 566 513 q 682 532 635 513 q 729 611 729 551 q 681 692 729 671 q 564 714 634 714 l 462 714 "},"":{"x_min":109,"x_max":614.5625,"ha":685,"o":"m 124 465 q 116 710 124 540 q 109 932 109 880 l 353 929 l 610 929 q 607 904 607 918 q 607 884 607 891 l 610 838 q 407 860 506 860 l 259 860 l 257 670 l 257 530 l 397 530 q 586 542 492 530 q 584 518 584 530 q 584 499 584 506 q 586 450 584 465 q 487 458 542 454 q 393 463 432 463 l 257 463 l 257 318 l 262 74 q 452 77 381 74 q 614 94 524 80 l 613 47 l 614 0 l 356 0 l 109 0 q 116 243 109 72 q 124 465 124 415 m 426 1225 q 461 1255 445 1244 q 499 1267 478 1267 q 536 1251 522 1267 q 549 1212 549 1236 q 533 1176 549 1192 q 492 1147 517 1160 l 292 1024 l 242 1024 l 426 1225 "},"~":{"x_min":284,"x_max":1080,"ha":1368,"o":"m 850 650 q 667 750 761 650 q 511 850 573 850 q 396 793 431 850 q 362 650 362 737 l 284 650 q 339 846 284 768 q 508 924 395 924 q 697 824 606 924 q 853 725 788 725 q 969 779 936 725 q 1002 924 1002 834 l 1080 924 q 1023 727 1080 805 q 850 650 966 650 "},"":{"x_min":108,"x_max":613.5625,"ha":686,"o":"m 126 465 q 122 711 126 620 q 108 932 119 802 l 353 928 l 610 931 l 606 884 l 610 836 q 508 853 562 847 q 408 860 453 860 l 260 860 l 258 671 l 258 528 l 398 528 q 587 541 480 528 l 584 497 l 587 451 l 394 463 l 258 463 l 258 316 l 264 73 q 456 76 380 73 q 613 94 531 80 l 610 47 l 613 0 l 358 4 l 108 0 q 117 239 108 70 q 126 465 126 408 "},"":{"x_min":48,"x_max":424,"ha":496,"o":"m 159 636 l 156 663 q 178 661 167 661 q 200 661 189 661 q 280 690 248 661 q 312 767 312 719 q 212 869 312 869 q 143 846 168 869 q 107 781 117 823 l 102 779 q 84 812 93 795 q 66 845 75 830 q 134 886 98 871 q 212 901 171 901 q 341 873 284 901 q 398 778 398 845 q 355 691 398 724 q 252 643 313 658 q 373 610 322 643 q 424 509 424 577 q 353 385 424 427 q 196 343 283 343 q 48 373 117 343 q 57 422 52 391 q 66 469 63 454 l 75 469 q 120 399 88 425 q 199 374 153 374 q 294 409 254 374 q 334 499 334 444 q 299 588 334 553 q 207 623 264 623 q 179 620 193 623 q 156 617 166 618 l 159 636 "},"[":{"x_min":116,"x_max":364.609375,"ha":449,"o":"m 127 2 l 127 386 l 127 769 l 116 932 l 235 929 l 364 929 l 363 908 l 363 872 q 263 880 313 880 l 216 880 l 216 387 l 216 -105 l 264 -105 q 329 -102 308 -105 q 364 -98 351 -99 l 363 -123 l 363 -158 l 237 -154 l 116 -158 q 121 -81 116 -138 q 127 2 127 -24 "},"L":{"x_min":108,"x_max":627.453125,"ha":629,"o":"m 126 465 q 122 712 126 621 q 108 932 119 803 q 149 930 126 932 q 188 926 173 927 q 233 929 202 926 q 268 932 265 932 q 263 797 268 883 q 258 684 258 711 q 261 332 258 577 q 264 73 264 86 l 402 73 q 512 78 458 73 q 627 94 566 84 l 624 47 l 627 0 l 358 4 l 108 0 q 117 239 108 70 q 126 465 126 408 "},"":{"x_min":41,"x_max":802.109375,"ha":806,"o":"m 625 644 l 802 651 l 797 611 l 802 566 l 626 573 q 690 464 671 527 q 710 327 710 402 q 616 81 710 177 q 371 -15 522 -15 q 131 78 222 -15 q 41 322 41 172 q 131 572 41 472 q 371 672 221 672 q 439 665 403 672 q 508 653 475 659 q 569 645 541 646 q 625 644 597 644 m 376 619 q 226 530 272 619 q 181 326 181 442 q 224 124 181 213 q 369 35 268 35 q 522 123 474 35 q 570 326 570 211 q 524 529 570 440 q 376 619 479 619 "},"":{"x_min":75,"x_max":675,"ha":683,"o":"m 642 987 l 642 949 q 425 760 524 860 q 260 545 326 661 q 194 303 194 428 q 194 278 194 289 q 202 215 194 267 q 335 141 210 163 q 558 116 447 128 q 675 -7 675 91 q 643 -109 675 -65 q 544 -232 612 -154 l 500 -205 q 565 -113 555 -131 q 576 -66 576 -94 q 552 -20 576 -37 q 292 22 509 2 q 75 240 75 41 q 143 487 75 357 q 297 719 212 616 q 508 949 383 821 l 359 949 q 252 945 301 949 q 130 933 204 941 l 134 977 l 130 1025 q 272 1021 186 1025 q 372 1018 358 1018 q 526 1021 429 1018 q 643 1025 623 1025 l 642 987 "},"":{"x_min":48,"x_max":699,"ha":749,"o":"m 375 909 q 621 773 544 909 q 699 456 699 638 q 627 118 699 255 q 372 -19 556 -19 q 120 114 193 -19 q 48 444 48 247 q 122 773 48 638 q 375 909 196 909 m 184 383 q 221 136 184 242 q 374 31 259 31 q 534 137 505 31 q 564 424 564 244 l 408 428 l 184 423 l 184 383 m 371 858 q 257 804 300 858 q 196 673 214 751 q 186 581 189 630 q 184 483 184 532 l 322 478 q 461 480 364 478 q 564 483 558 483 q 528 747 564 637 q 371 858 493 858 "},"":{"x_min":51,"x_max":1068,"ha":1119,"o":"m 51 465 q 192 820 51 690 q 559 950 333 950 q 892 853 754 950 q 1047 654 1031 757 q 1065 525 1062 551 q 1068 462 1068 500 q 1065 402 1068 426 q 1047 277 1062 379 q 894 80 1031 175 q 560 -15 756 -15 q 447 -10 496 -15 q 304 29 398 -5 q 130 186 210 64 q 51 465 51 308 m 202 468 q 290 162 202 282 q 559 42 379 42 q 826 162 738 42 q 915 468 915 283 q 825 770 915 651 q 559 889 735 889 q 348 826 429 889 q 225 639 267 764 q 202 468 202 552 "},"":{"x_min":108,"x_max":627.453125,"ha":629,"o":"m 448 932 l 627 932 q 623 902 624 921 q 621 874 621 883 l 627 836 q 402 863 512 863 l 264 863 q 261 586 264 779 q 258 379 258 393 q 263 181 258 313 q 268 0 268 48 l 187 5 l 108 0 q 121 209 117 106 q 126 427 126 311 q 117 686 126 504 q 108 932 108 869 l 448 932 "}," ":{"x_min":0,"x_max":0,"ha":375},"%":{"x_min":28,"x_max":1011,"ha":1032,"o":"m 799 0 q 647 62 708 0 q 586 218 586 124 q 647 372 586 309 q 799 436 709 436 q 949 373 888 436 q 1011 223 1011 311 q 995 130 1011 176 q 918 35 972 70 q 799 0 865 0 m 863 1015 l 227 -125 l 158 -125 l 793 1015 l 863 1015 m 241 451 q 89 513 150 451 q 28 668 28 576 q 89 823 28 759 q 241 888 150 888 q 391 825 330 888 q 453 673 453 762 q 434 581 453 623 q 359 486 412 521 q 241 451 307 451 m 897 260 q 872 353 897 310 q 798 397 847 397 q 718 340 737 397 q 700 202 700 283 q 719 86 700 133 q 798 40 738 40 q 866 73 840 40 q 892 149 892 106 q 895 206 894 169 q 897 260 897 242 m 339 689 q 312 812 339 775 q 240 849 285 849 q 160 788 179 849 q 141 648 141 728 q 164 541 141 590 q 240 493 188 493 q 307 527 281 493 q 334 602 334 561 q 339 689 339 641 "},"P":{"x_min":109,"x_max":722,"ha":736,"o":"m 127 559 q 109 931 127 759 l 231 927 q 337 931 270 927 q 416 935 403 935 q 632 874 543 935 q 722 694 722 814 q 616 493 722 564 q 371 422 510 422 l 252 422 q 257 200 252 348 q 262 0 262 52 q 224 3 249 0 q 185 8 199 8 q 147 5 168 8 q 109 0 127 2 q 118 287 109 85 q 127 559 127 488 m 576 684 q 515 826 576 773 q 364 879 455 879 l 262 875 q 254 781 257 827 q 252 688 252 735 l 252 476 q 507 530 439 476 q 576 684 576 584 "},"":{"x_min":-1,"x_max":1355.953125,"ha":1365,"o":"m 685 0 q 555 4 646 0 q 460 8 464 8 l 247 0 l 250 47 q 248 74 250 59 q 244 95 246 88 q 355 88 305 90 q 486 86 405 86 q 340 261 389 170 q 292 473 292 352 q 437 822 292 694 q 804 950 582 950 q 1168 823 1028 950 q 1309 473 1309 697 q 1262 261 1309 350 q 1115 86 1215 173 q 1229 91 1139 86 q 1355 96 1319 96 l 1351 33 l 1354 0 l 1143 8 q 1014 4 1104 8 q 918 0 924 0 l 918 72 q 1100 215 1043 122 q 1158 451 1158 309 q 1071 764 1158 639 q 802 889 984 889 q 533 767 621 889 q 446 454 446 645 q 505 217 446 319 q 685 72 564 115 l 685 0 m 182 943 q 215 974 200 964 q 251 985 230 985 q 289 969 274 985 q 304 932 304 954 q 290 896 304 911 q 247 866 275 882 l 48 743 l -1 743 l 182 943 "},"":{"x_min":-1.390625,"x_max":920.015625,"ha":992,"o":"m 432 465 q 428 711 432 620 q 414 932 425 802 l 660 928 l 917 932 l 912 884 l 917 836 q 814 853 868 847 q 714 860 760 860 l 567 860 l 564 671 l 564 528 l 704 528 q 893 541 786 528 l 890 497 l 893 451 l 700 462 l 564 462 l 564 317 l 570 74 q 762 77 686 74 q 920 94 838 80 l 917 47 l 920 0 l 664 4 l 414 0 q 423 239 414 70 q 432 465 432 408 m 181 943 q 215 974 200 964 q 251 985 230 985 q 288 969 273 985 q 304 932 304 954 q 289 896 304 911 q 247 866 275 882 l 47 743 l -1 743 l 181 943 "},"_":{"x_min":0,"x_max":683.328125,"ha":683,"o":"m 683 -322 l 0 -322 l 0 -256 l 683 -256 l 683 -322 "},"":{"x_min":-3,"x_max":388,"ha":386,"o":"m 126 465 q 118 710 126 540 q 111 932 111 880 q 156 929 123 932 q 192 926 190 926 q 238 929 205 926 q 276 932 271 932 q 265 697 276 863 q 255 465 255 530 q 265 230 255 397 q 276 0 276 63 q 233 3 260 0 q 192 8 205 8 q 153 5 176 8 q 111 0 131 2 q 118 243 111 72 q 126 465 126 415 m 73 1208 q 124 1186 102 1208 q 146 1133 146 1164 q 123 1081 146 1105 q 73 1058 101 1058 q 19 1080 42 1058 q -3 1133 -3 1103 q 19 1185 -3 1163 q 73 1208 41 1208 m 313 1208 q 366 1186 344 1208 q 388 1133 388 1164 q 365 1080 388 1103 q 313 1058 342 1058 q 260 1080 283 1058 q 238 1133 238 1103 q 260 1185 238 1163 q 313 1208 282 1208 "},"+":{"x_min":169,"x_max":970,"ha":1139,"o":"m 603 441 l 970 441 l 970 374 l 603 374 l 603 0 l 536 0 l 536 374 l 169 374 l 169 441 l 536 441 l 536 816 l 603 816 l 603 441 "},"":{"x_min":83,"x_max":1094.125,"ha":1172,"o":"m 250 743 l 245 836 q 181 804 205 818 q 120 768 156 791 q 104 788 117 775 q 83 808 91 801 q 200 851 141 825 q 327 913 259 877 l 336 911 q 331 724 336 850 q 326 551 326 598 l 326 391 q 301 394 319 391 q 280 397 283 397 q 254 394 271 397 q 233 391 238 391 q 246 551 242 473 q 250 743 250 629 m 859 1015 l 929 1015 l 312 -124 l 243 -124 l 859 1015 m 982 363 q 959 443 982 413 q 887 478 936 473 q 821 458 852 478 q 784 407 790 439 l 778 377 l 773 376 q 728 448 753 416 q 899 513 801 513 q 1019 476 967 513 q 1072 374 1072 439 q 955 189 1072 285 q 806 67 838 93 l 978 67 q 1094 79 1039 67 q 1090 63 1092 76 q 1088 41 1088 49 q 1094 3 1088 18 q 981 3 1056 3 q 867 3 906 3 q 791 3 842 3 q 714 3 739 3 l 714 25 q 913 198 844 125 q 982 363 982 270 "},"":{"x_min":109,"x_max":722,"ha":736,"o":"m 127 559 q 109 931 127 759 l 231 927 q 337 931 270 927 q 416 935 403 935 q 632 874 543 935 q 722 694 722 814 q 616 493 722 564 q 371 422 510 422 l 252 422 q 257 200 252 348 q 262 0 262 52 q 224 3 249 0 q 185 8 199 8 q 147 5 168 8 q 109 0 127 2 q 118 287 109 85 q 127 559 127 488 m 576 684 q 515 826 576 773 q 364 879 455 879 l 262 875 q 254 781 257 827 q 252 688 252 735 l 252 476 q 507 530 439 476 q 576 684 576 584 "},"\'":{"x_min":88.890625,"x_max":306.9375,"ha":374,"o":"m 169 858 q 196 923 177 896 q 250 951 215 951 q 289 937 272 951 q 306 903 306 923 q 295 858 306 883 q 269 812 284 833 l 122 568 l 88 576 l 169 858 "},"T":{"x_min":11,"x_max":713,"ha":725,"o":"m 11 839 l 15 884 l 11 932 q 194 927 72 932 q 361 922 316 922 q 544 927 421 922 q 713 932 668 932 q 707 883 707 911 q 707 861 707 870 q 713 834 707 852 q 609 850 666 843 q 504 857 552 857 l 428 857 q 426 767 428 830 q 424 701 424 704 l 428 220 q 442 0 428 122 q 362 8 401 3 q 323 5 344 8 q 282 0 301 2 q 289 132 282 40 q 296 259 296 225 l 296 683 l 296 857 q 11 839 164 857 "},"":{"x_min":50,"x_max":1068,"ha":1119,"o":"m 637 -25 q 559 -15 591 -15 q 527 -17 544 -15 q 483 -25 509 -19 l 487 68 q 181 179 313 68 q 50 465 50 291 q 172 744 50 647 q 487 865 295 842 l 483 958 q 522 952 502 955 q 559 950 543 950 q 596 952 576 950 q 637 958 616 955 l 631 865 q 942 758 816 865 q 1068 465 1068 651 q 944 184 1068 286 q 631 68 820 83 l 637 -25 m 501 502 q 497 677 501 570 q 494 800 494 784 q 278 698 354 786 q 203 466 203 611 q 282 231 203 331 q 494 132 361 132 q 497 363 494 225 q 501 502 501 501 m 915 466 q 839 706 915 612 q 626 800 764 800 q 622 636 626 738 q 618 470 618 533 q 622 301 618 408 q 626 132 626 194 q 839 226 764 132 q 915 466 915 320 "},"j":{"x_min":-55,"x_max":248,"ha":342,"o":"m 113 391 q 106 543 113 444 q 100 654 100 641 q 144 648 135 648 q 167 648 153 648 q 202 649 189 648 q 241 654 214 650 q 237 507 241 595 q 234 405 234 419 l 234 -13 l 234 -109 q 154 -303 234 -234 q -55 -372 74 -372 l -55 -333 q 78 -267 44 -323 q 113 -103 113 -212 l 113 -26 l 113 391 m 171 963 q 226 940 205 963 q 248 881 248 917 q 226 831 248 849 q 171 813 204 813 q 116 833 139 813 q 94 885 94 853 q 115 941 94 919 q 171 963 136 963 "},"":{"x_min":44.4375,"x_max":790.28125,"ha":825,"o":"m 729 883 l 733 835 q 272 855 519 855 q 544 500 391 691 q 372 312 446 399 q 219 119 297 224 l 455 119 q 638 124 522 119 q 790 129 755 129 l 784 86 l 783 68 l 784 42 q 785 25 784 33 q 790 0 786 17 q 558 4 694 0 q 416 8 422 8 q 230 4 350 8 q 44 0 111 0 l 44 50 q 169 182 105 109 q 307 344 232 255 l 406 468 q 242 689 314 594 q 76 899 170 785 l 76 932 q 231 929 123 932 q 345 926 340 926 q 568 929 412 926 q 733 932 723 932 l 729 883 "},"1":{"x_min":72,"x_max":472,"ha":749,"o":"m 334 626 q 331 722 334 655 q 329 793 329 788 q 228 737 278 765 q 133 673 177 709 q 102 713 124 688 q 72 743 80 737 q 274 827 177 780 q 458 935 372 875 l 472 929 q 463 552 472 804 q 455 259 455 300 l 459 0 q 421 5 441 2 q 384 8 401 8 q 349 5 367 8 q 312 0 330 2 q 329 289 324 133 q 334 626 334 445 "},"":{"x_min":43,"x_max":655.5,"ha":649,"o":"m 234 -15 q 98 33 153 -15 q 43 162 43 82 q 106 303 43 273 q 303 364 169 333 q 444 448 437 395 q 403 568 444 521 q 288 616 362 616 q 191 587 233 616 q 124 507 149 559 l 95 520 l 104 591 q 202 651 144 631 q 323 672 261 672 q 500 622 444 672 q 557 455 557 573 l 557 133 q 567 69 557 84 q 618 54 577 54 q 655 58 643 54 l 655 26 q 594 5 626 14 q 537 -6 562 -3 q 438 85 453 -6 q 342 10 388 35 q 234 -15 296 -15 m 203 929 q 254 906 232 929 q 277 854 277 884 q 256 799 277 820 q 204 778 236 778 q 149 800 173 778 q 126 854 126 822 q 148 906 126 884 q 203 929 170 929 m 444 929 q 498 906 476 929 q 521 854 521 884 q 500 800 521 822 q 447 778 479 778 q 392 800 415 778 q 370 854 370 823 q 392 906 370 884 q 444 929 414 929 m 176 186 q 204 98 176 133 q 284 64 232 64 q 390 107 342 64 q 438 212 438 151 l 438 345 q 239 293 303 319 q 176 186 176 268 "},"<":{"x_min":176,"x_max":961.109375,"ha":1139,"o":"m 279 406 l 960 130 l 961 56 l 176 379 l 176 432 l 960 756 l 960 682 l 279 406 "},"":{"x_min":65,"x_max":728.890625,"ha":749,"o":"m 67 47 l 65 98 l 116 101 q 203 168 176 112 q 231 292 231 224 q 227 375 231 330 q 221 444 223 420 q 139 441 171 444 q 76 432 107 439 l 78 479 l 76 503 q 105 495 92 498 q 134 493 117 493 l 219 493 q 212 550 214 522 q 209 609 209 578 q 304 825 209 742 q 537 909 399 909 q 633 896 592 909 q 723 864 673 884 q 666 731 694 809 l 656 731 q 605 825 641 791 q 512 859 570 859 q 383 796 427 859 q 340 646 340 734 l 345 493 l 366 493 q 523 502 450 493 l 521 466 l 526 434 q 438 441 493 439 q 345 444 383 444 l 345 378 q 310 238 345 302 q 213 107 275 173 q 527 113 421 107 q 728 134 633 119 l 721 66 q 728 0 721 34 q 542 3 666 0 q 358 8 419 8 q 176 3 285 8 q 65 0 67 0 l 67 47 "},"":{"x_min":82,"x_max":347,"ha":496,"o":"m 255 731 l 255 833 l 123 759 q 104 780 120 763 q 82 801 87 797 q 208 850 148 822 q 337 917 269 878 l 347 912 q 341 721 347 848 q 336 529 336 593 l 336 356 q 311 358 327 356 q 289 361 295 361 q 264 358 280 361 q 242 356 248 356 q 251 498 247 407 q 255 731 255 590 "},"t":{"x_min":18,"x_max":415.21875,"ha":425,"o":"m 18 586 l 22 630 l 18 654 q 133 643 80 643 q 131 732 133 669 q 129 799 129 796 q 199 827 163 811 q 263 863 234 843 q 252 758 255 811 q 250 643 250 705 q 334 645 310 643 q 401 654 358 647 l 398 618 l 401 586 q 248 594 323 594 l 243 258 l 243 162 q 272 76 243 109 q 353 43 301 43 q 387 44 369 43 q 415 48 405 46 l 415 4 q 349 -10 378 -5 q 290 -15 319 -15 q 174 18 221 -15 q 123 118 128 51 l 123 200 l 129 387 l 133 594 q 84 592 113 594 q 18 586 55 590 "},"":{"x_min":2.78125,"x_max":652.78125,"ha":657,"o":"m 302 670 q 227 871 262 803 q 111 940 193 940 q 78 937 94 940 q 20 924 62 934 l 20 978 q 96 1012 59 1000 q 170 1025 133 1025 q 329 947 287 1025 q 427 692 372 869 q 538 340 481 515 q 652 1 594 166 l 579 5 l 504 0 q 336 573 423 305 q 218 301 272 438 q 111 0 163 163 l 61 6 q 27 3 48 6 q 2 0 5 0 q 302 670 165 329 "},"":{"x_min":90,"x_max":664,"ha":754,"o":"m 653 498 q 653 329 653 443 q 653 158 653 215 q 664 0 653 81 q 631 3 647 1 q 598 5 616 5 q 563 3 583 5 q 533 0 544 1 l 538 118 q 440 18 494 52 q 312 -15 385 -15 q 148 50 201 -15 q 96 229 96 115 l 96 354 l 96 516 l 90 655 q 120 650 103 651 q 158 648 136 648 q 192 650 175 648 q 227 655 210 651 q 220 445 227 591 q 213 247 213 299 q 247 115 213 163 q 362 68 281 68 q 477 113 428 68 q 531 217 525 159 q 538 340 538 274 q 533 520 538 394 q 528 655 528 647 q 561 650 548 651 q 596 648 574 648 q 663 655 628 648 q 653 498 653 573 m 445 743 l 244 866 q 205 896 223 877 q 187 934 187 915 q 202 970 187 955 q 238 986 217 986 q 277 973 256 986 q 309 945 298 961 l 496 743 l 445 743 "},"W":{"x_min":0,"x_max":1306.953125,"ha":1307,"o":"m 0 932 q 47 927 31 929 q 76 926 62 926 q 121 929 88 926 q 155 931 154 931 q 262 547 200 750 l 380 171 q 470 437 415 272 q 552 693 525 602 q 619 931 580 784 l 672 926 q 700 928 684 926 q 726 931 716 930 q 825 604 787 727 q 883 419 862 482 q 969 171 904 357 l 1087 522 q 1143 720 1120 623 q 1187 931 1166 816 q 1221 929 1197 931 q 1247 926 1245 926 q 1280 928 1262 926 q 1306 931 1298 930 q 1131 467 1218 716 q 990 0 1045 217 q 963 4 980 1 q 937 7 947 7 q 904 3 925 7 q 880 0 883 0 q 761 385 831 184 l 641 733 l 491 287 q 402 0 438 133 q 370 3 391 0 q 344 7 350 7 q 315 4 327 7 q 287 0 302 2 q 206 296 252 142 q 122 568 161 450 q 0 932 83 686 "},"":{"x_min":-25,"x_max":365.328125,"ha":340,"o":"m 104 144 l 104 522 l 97 655 q 138 650 113 651 q 167 648 162 648 q 233 655 206 648 q 225 506 225 581 q 229 254 225 423 q 233 0 233 84 q 201 3 216 1 q 164 5 186 5 q 128 3 143 5 q 97 0 113 1 l 104 144 m 50 929 q 102 906 80 929 q 125 854 125 884 q 104 799 125 820 q 52 778 84 778 q -2 800 19 778 q -25 854 -25 822 q -4 906 -25 884 q 50 929 16 929 m 290 929 q 343 906 320 929 q 365 854 365 884 q 345 799 365 820 q 294 778 324 778 q 238 800 260 778 q 216 854 216 822 q 237 906 216 884 q 290 929 258 929 "},">":{"x_min":176.390625,"x_max":963,"ha":1139,"o":"m 963 379 l 176 56 l 176 130 l 858 406 l 176 682 l 176 756 l 962 432 l 963 379 "},"v":{"x_min":0,"x_max":658.328125,"ha":654,"o":"m 0 655 q 54 648 38 648 q 86 647 69 647 q 113 647 100 647 q 168 654 127 648 q 252 402 204 529 l 358 134 l 470 436 q 543 654 508 533 q 570 650 554 651 q 600 648 586 648 q 636 648 618 648 q 658 654 652 652 q 506 340 577 502 q 372 0 436 177 q 347 5 362 2 q 319 8 333 8 q 296 5 309 8 q 272 0 283 2 q 200 206 234 120 q 0 655 165 292 "},"":{"x_min":30,"x_max":677,"ha":701,"o":"m 423 573 l 419 303 q 423 146 419 250 q 428 0 428 42 q 394 4 410 2 q 359 5 378 5 q 333 4 343 5 q 289 0 323 4 l 298 194 l 294 573 q 156 553 207 573 q 57 472 105 534 q 30 559 49 522 q 149 626 82 609 q 307 644 216 644 l 510 644 q 604 647 545 644 q 677 651 664 651 l 671 610 q 677 566 671 586 q 527 569 618 566 q 423 573 436 573 "},"":{"x_min":90,"x_max":664,"ha":754,"o":"m 653 498 q 653 328 653 442 q 653 158 653 215 q 664 0 653 81 q 631 3 647 1 q 598 5 616 5 q 563 3 583 5 q 533 0 544 1 l 538 118 q 440 18 494 52 q 312 -15 385 -15 q 148 50 201 -15 q 96 229 96 115 l 96 354 l 96 516 l 90 655 q 120 650 103 651 q 158 648 136 648 q 192 649 175 648 q 227 655 210 651 q 220 445 227 591 q 213 247 213 299 q 247 115 213 163 q 362 68 281 68 q 477 113 428 68 q 531 217 525 159 q 538 340 538 274 q 533 520 538 394 q 528 655 528 647 q 558 650 542 651 q 596 648 574 648 q 629 649 612 648 q 663 655 646 651 q 653 498 653 573 m 332 978 l 421 978 l 572 743 l 525 743 l 376 875 l 227 743 l 180 743 l 332 978 "},"":{"x_min":64,"x_max":654,"ha":656,"o":"m 562 861 q 502 941 539 911 q 414 972 465 972 q 299 917 342 972 q 256 788 256 862 q 312 650 256 701 q 458 599 369 599 l 526 599 l 524 563 l 524 528 q 480 533 503 532 q 427 535 457 535 q 271 494 337 535 q 197 408 205 454 q 187 347 188 361 q 186 326 186 333 q 186 294 186 300 q 190 282 187 287 q 238 200 201 229 q 335 153 276 171 l 494 118 q 610 73 567 100 q 654 -13 654 46 q 628 -103 654 -60 q 511 -238 602 -146 l 466 -210 q 541 -121 530 -139 q 553 -75 553 -103 q 393 16 553 -18 q 149 92 234 50 q 64 276 64 133 q 130 462 64 379 q 299 575 197 544 q 175 652 222 600 q 128 780 128 704 q 213 954 128 883 q 405 1025 298 1025 q 507 1009 458 1025 q 609 965 555 994 q 585 914 600 945 q 562 861 571 883 "},"&":{"x_min":76,"x_max":917.671875,"ha":975,"o":"m 360 -18 q 160 41 245 -18 q 76 211 76 101 q 137 382 76 315 q 314 515 199 448 q 249 618 273 569 q 225 722 225 668 q 287 872 225 812 q 441 932 349 932 q 581 891 520 932 q 643 777 643 851 q 588 640 643 701 q 453 532 533 579 q 568 390 509 459 q 690 253 627 321 q 815 530 792 379 l 829 530 l 887 466 q 814 327 856 396 q 727 209 772 259 q 807 115 760 169 q 917 0 853 61 q 855 1 896 0 q 791 2 813 2 l 739 0 l 649 110 q 515 15 586 48 q 360 -18 445 -18 m 341 475 q 234 380 267 419 q 201 273 201 340 q 258 125 201 190 q 401 61 316 61 q 508 86 458 61 q 606 154 559 111 l 341 475 m 547 770 q 524 854 547 823 q 454 886 502 886 q 363 851 402 886 q 325 769 325 817 q 344 685 325 718 q 422 575 363 652 q 514 661 481 615 q 547 770 547 708 "},"":{"x_min":0,"x_max":852.78125,"ha":853,"o":"m 662 452 l 778 172 l 852 0 l 769 5 q 734 4 747 5 q 679 0 722 4 q 647 102 661 55 q 605 226 633 148 l 547 383 l 401 777 l 266 429 q 191 213 226 319 q 125 0 157 108 l 62 2 l 0 0 q 205 459 95 191 q 380 932 315 726 q 404 927 393 929 q 431 926 416 926 q 459 929 441 926 q 487 932 477 932 q 548 743 511 850 q 662 452 586 637 "},"I":{"x_min":109,"x_max":271,"ha":385,"o":"m 127 465 q 123 711 127 620 q 109 932 120 803 q 154 927 129 929 q 190 925 179 925 q 238 928 209 925 q 271 931 266 931 q 263 788 271 887 q 256 659 256 690 l 256 448 l 256 283 q 263 135 256 238 q 271 0 271 31 q 231 3 258 0 q 190 8 204 8 q 151 5 172 8 q 109 0 129 2 q 118 239 109 70 q 127 465 127 408 "},"G":{"x_min":51,"x_max":942,"ha":1001,"o":"m 581 -15 q 198 107 345 -15 q 51 459 51 229 q 196 815 51 680 q 566 950 342 950 q 755 929 659 950 q 930 869 852 909 q 906 802 916 836 q 895 737 897 769 l 874 737 q 739 855 808 818 q 571 893 670 893 q 305 770 406 893 q 204 479 204 647 q 298 168 204 291 q 577 46 393 46 q 689 56 640 46 q 790 94 738 66 q 794 184 790 123 q 798 251 798 246 q 794 337 798 280 q 790 423 790 394 q 830 417 821 418 q 863 416 838 416 q 901 419 880 416 q 941 425 923 422 l 936 236 q 939 121 936 201 q 942 37 942 41 q 757 -1 843 11 q 581 -15 672 -15 "},"":{"x_min":79,"x_max":703,"ha":774,"o":"m 703 395 q 595 110 703 236 q 332 -15 488 -15 q 145 54 211 -15 q 79 244 79 123 l 83 430 q 81 542 83 486 q 79 654 80 598 l 146 650 l 217 654 q 209 502 217 608 q 202 365 202 397 l 202 261 q 240 105 202 168 q 369 43 279 43 q 523 132 476 43 q 571 340 571 222 q 548 493 571 418 q 488 645 526 568 q 550 647 529 645 q 627 658 571 650 q 703 395 703 537 m 209 865 q 250 846 232 865 q 269 804 269 828 q 251 761 269 780 q 209 743 234 743 q 166 761 184 743 q 148 804 148 779 q 166 846 148 828 q 209 865 184 865 m 361 929 q 378 969 368 956 q 414 982 388 982 q 458 941 458 982 q 446 904 458 919 l 338 743 l 306 743 l 361 929 m 513 865 q 555 846 537 865 q 573 804 573 828 q 555 761 573 779 q 513 743 537 743 q 470 761 487 743 q 454 804 454 779 q 470 846 454 828 q 513 865 487 865 "},"`":{"x_min":86.5,"x_max":303.171875,"ha":374,"o":"m 222 659 q 194 595 214 622 q 140 568 175 568 q 86 613 86 568 q 96 660 86 636 q 122 706 107 684 l 271 950 l 303 940 l 222 659 "},"":{"x_min":-28,"x_max":746,"ha":707,"o":"m 297 177 l 297 386 q 191 570 256 458 q 84 750 125 682 q -28 932 42 819 q 24 928 -9 932 q 63 925 59 925 q 112 927 91 925 q 146 932 134 930 q 207 800 174 866 q 275 676 239 735 l 389 475 q 509 688 451 575 q 627 932 567 801 l 683 926 q 715 927 701 926 q 746 932 729 929 q 555 627 640 769 l 432 415 l 432 240 q 435 101 432 198 q 438 0 438 5 q 401 4 426 1 q 361 6 376 6 q 319 4 334 6 q 284 0 304 2 q 292 88 288 36 q 297 177 297 140 "},"r":{"x_min":89,"x_max":465.390625,"ha":488,"o":"m 99 120 l 99 400 l 99 433 q 91 654 99 548 q 125 648 114 650 q 162 647 136 647 q 232 654 195 647 q 223 588 226 626 q 220 516 220 550 q 313 628 264 589 q 437 668 362 668 l 465 668 l 459 604 l 465 537 q 427 544 448 541 q 383 551 407 548 q 256 482 292 551 q 220 312 220 413 q 222 131 220 256 q 225 0 225 6 l 157 6 l 89 0 l 99 120 "},"x":{"x_min":1,"x_max":635,"ha":632,"o":"m 264 316 l 158 461 q 78 563 120 508 q 5 655 36 619 q 97 647 51 647 q 141 649 120 647 q 177 654 162 651 q 249 538 214 592 q 334 415 284 484 q 420 533 377 473 q 501 654 464 592 q 523 650 508 652 q 550 647 539 648 q 616 654 582 647 l 371 365 q 477 210 434 267 q 635 0 519 152 q 587 3 616 0 q 551 6 558 6 q 501 4 523 6 q 465 0 479 1 q 380 140 407 98 q 295 264 352 183 q 172 84 194 117 q 123 0 151 51 l 66 5 q 33 2 55 5 q 1 0 10 0 q 131 154 63 72 q 264 316 199 236 "},"":{"x_min":40,"x_max":646.9375,"ha":681,"o":"m 407 42 q 602 130 523 42 l 621 130 q 613 93 617 112 q 609 47 609 73 q 496 0 558 14 q 369 -15 435 -15 q 130 73 220 -15 q 40 311 40 162 q 126 562 40 456 q 355 669 212 669 q 564 590 481 669 q 646 386 646 512 l 644 331 q 438 333 562 331 q 313 335 315 335 l 179 331 q 235 127 179 212 q 407 42 291 42 m 407 743 l 208 866 q 166 895 183 880 q 149 934 149 911 q 167 967 149 949 q 202 986 185 986 q 243 969 220 986 q 273 945 266 952 l 457 743 l 407 743 m 513 392 l 513 437 q 470 563 513 509 q 356 618 427 618 q 233 552 271 618 q 183 390 195 487 l 513 392 "},"":{"x_min":84,"x_max":669.109375,"ha":754,"o":"m 331 -15 q 265 -7 292 -15 q 210 19 238 0 l 208 -128 q 211 -266 208 -178 q 214 -373 214 -354 q 183 -369 198 -370 q 150 -368 168 -368 q 114 -370 133 -368 q 84 -373 95 -372 q 89 -165 84 -304 q 94 43 94 -26 q 89 363 94 149 q 84 655 84 578 q 150 647 118 647 q 219 654 180 647 q 213 495 219 601 q 208 334 208 390 q 232 155 208 227 q 339 75 256 83 q 471 112 419 75 q 531 212 523 150 q 539 332 539 273 q 536 518 539 388 q 533 655 533 648 q 600 647 568 647 q 669 654 629 647 q 660 477 662 566 q 658 257 658 389 q 660 113 658 171 q 669 -1 662 55 l 602 4 l 537 -1 l 539 106 q 449 17 502 50 q 331 -15 397 -15 "},"":{"x_min":169,"x_max":969,"ha":1139,"o":"m 641 643 q 618 593 641 615 q 566 571 596 571 q 518 592 538 571 q 498 643 498 613 q 518 692 498 670 q 567 715 539 715 q 610 703 579 715 q 641 643 641 691 m 969 374 l 169 374 l 169 441 l 969 441 l 969 374 m 641 170 q 619 120 641 141 q 570 100 598 100 q 519 120 540 100 q 498 170 498 141 q 518 221 498 199 q 568 243 538 243 q 604 235 584 243 q 632 214 624 227 q 641 170 641 201 "},"h":{"x_min":92,"x_max":665,"ha":758,"o":"m 102 136 l 102 859 q 100 934 102 894 q 94 1025 98 975 q 136 1018 126 1019 q 158 1018 146 1018 q 226 1025 188 1018 q 222 957 223 1001 q 221 888 221 913 l 221 868 l 221 543 q 322 637 264 602 q 450 672 380 672 q 608 606 558 672 q 659 429 659 541 l 659 298 l 659 136 l 665 0 q 633 3 648 1 q 597 5 617 5 q 560 3 580 5 q 529 0 540 1 q 534 202 529 68 q 540 405 540 337 q 503 533 540 481 q 394 586 467 586 q 256 508 291 586 q 221 313 221 430 q 224 133 221 244 q 227 0 227 22 q 188 3 211 0 q 161 6 164 6 q 123 4 137 6 q 92 0 108 2 l 102 136 "},".":{"x_min":100,"x_max":274,"ha":374,"o":"m 187 156 q 248 130 223 156 q 274 68 274 105 q 248 8 274 32 q 187 -15 223 -15 q 125 8 150 -15 q 100 68 100 32 q 125 130 100 105 q 187 156 150 156 "},"":{"x_min":39,"x_max":965,"ha":1006,"o":"m 578 -371 q 505 -362 539 -362 q 465 -365 483 -362 q 427 -372 446 -368 q 433 -163 427 -298 q 440 -11 440 -29 q 156 76 274 -11 q 39 327 39 163 q 145 571 39 486 q 410 656 252 656 q 412 635 411 645 q 413 615 413 625 q 235 516 292 580 q 179 327 179 451 q 247 118 179 197 q 442 39 316 39 l 444 197 l 444 311 q 444 400 444 340 q 444 491 444 461 q 514 619 452 570 q 657 668 577 668 q 879 568 794 668 q 965 332 965 469 q 850 84 965 169 q 563 -14 735 0 q 570 -203 563 -71 q 578 -371 578 -334 m 826 347 q 794 534 826 451 q 677 617 763 617 q 592 572 621 617 q 563 470 563 527 l 559 350 l 563 39 q 759 126 693 39 q 826 347 826 213 "},";":{"x_min":72.609375,"x_max":312,"ha":446,"o":"m 224 636 q 287 611 262 636 q 312 548 312 586 q 287 486 312 511 q 224 461 262 461 q 162 486 188 461 q 137 548 137 512 q 162 611 137 586 q 224 636 187 636 m 164 75 q 198 157 182 140 q 244 175 214 175 q 304 119 304 175 q 296 75 304 93 q 262 18 287 56 l 103 -243 l 72 -231 l 164 75 "},"f":{"x_min":12,"x_max":432.546875,"ha":397,"o":"m 127 324 l 127 597 q 66 595 92 597 q 12 588 39 594 l 14 626 l 12 654 q 79 648 38 649 q 127 647 121 647 q 192 901 127 777 q 378 1025 257 1025 q 409 1022 400 1025 q 432 1015 418 1019 l 415 896 q 371 911 395 905 q 325 918 347 918 q 252 886 278 918 q 227 805 227 855 q 235 713 227 760 q 246 647 243 665 q 330 650 276 647 q 396 654 384 654 q 391 642 393 647 q 389 633 389 637 l 388 622 l 389 610 q 396 589 389 609 q 323 595 357 594 q 246 597 289 597 l 246 366 q 250 183 246 305 q 254 0 254 60 q 213 3 238 0 q 183 6 187 6 q 144 4 161 6 q 116 0 127 1 q 121 160 116 52 q 127 324 127 269 "},"":{"x_min":83.71875,"x_max":550.390625,"ha":625,"o":"m 471 659 q 441 593 458 618 q 389 568 424 568 q 350 579 365 568 q 335 613 335 591 q 346 660 335 633 q 371 706 358 687 l 519 950 l 550 940 l 471 659 m 221 659 q 192 593 211 618 q 137 568 174 568 q 83 613 83 568 q 93 658 83 637 q 119 706 103 680 l 268 950 l 300 940 l 221 659 "},"A":{"x_min":-15.28125,"x_max":838.890625,"ha":825,"o":"m 257 639 l 387 950 q 402 945 395 947 q 417 944 409 944 q 452 950 437 944 q 576 629 536 733 q 686 359 617 526 q 838 0 755 192 q 789 3 820 0 q 751 6 758 6 q 700 4 723 6 q 663 0 677 1 q 600 199 622 137 q 543 353 579 260 l 377 358 l 215 353 l 162 205 q 130 110 145 160 q 101 0 115 59 l 44 5 q 6 2 20 5 q -15 0 -8 0 q 76 211 30 105 q 158 404 121 318 q 257 639 195 490 m 378 419 l 513 425 l 379 761 l 246 425 l 378 419 "},"6":{"x_min":64,"x_max":692,"ha":749,"o":"m 464 859 q 267 730 324 859 q 210 442 210 602 q 315 514 262 488 q 431 540 367 540 q 618 462 545 540 q 692 270 692 385 q 604 65 692 145 q 390 -15 516 -15 q 142 93 221 -15 q 64 377 64 201 q 167 745 64 581 q 462 909 270 909 q 524 905 501 909 q 579 890 547 902 l 574 827 q 521 851 547 844 q 464 859 495 859 m 554 258 q 510 409 554 347 q 380 471 466 471 q 255 409 300 471 q 210 264 210 348 q 253 105 210 172 q 384 39 297 39 q 485 73 441 39 q 540 148 529 108 q 552 206 551 187 q 554 258 554 225 "},"":{"x_min":86.5,"x_max":303.171875,"ha":374,"o":"m 224 659 q 193 594 212 620 q 140 568 174 568 q 86 615 86 568 q 98 660 86 633 q 122 708 110 687 l 271 951 l 303 942 l 224 659 "},"":{"x_min":-29,"x_max":362,"ha":342,"o":"m 104 333 l 104 520 q 103 566 104 544 q 96 654 102 588 q 140 647 130 648 q 165 647 151 647 q 232 654 195 647 q 224 555 225 599 q 223 437 223 511 l 223 406 q 228 194 223 337 q 233 0 233 51 q 201 3 216 1 q 165 5 185 5 q 127 3 148 5 q 96 0 107 1 q 100 165 96 51 q 104 333 104 279 m 45 928 q 99 907 77 928 q 122 853 122 886 q 101 800 122 822 q 48 778 80 778 q -6 800 15 778 q -29 853 -29 822 q -7 906 -29 884 q 45 928 13 928 m 286 928 q 340 906 318 928 q 362 853 362 884 q 341 799 362 821 q 289 778 321 778 q 235 800 257 778 q 213 853 213 822 q 233 905 213 883 q 286 928 254 928 "},"":{"x_min":19,"x_max":957,"ha":989,"o":"m 702 5 l 635 0 q 639 114 635 44 q 643 196 643 185 l 643 575 l 508 575 l 373 575 l 369 284 q 373 143 369 236 q 377 0 377 50 q 345 3 360 1 q 309 5 329 5 q 271 3 292 5 q 239 0 250 1 l 248 196 l 243 575 q 130 553 171 575 q 43 472 89 532 q 19 559 35 519 q 139 627 71 611 q 305 644 207 644 l 658 644 l 852 644 l 957 651 l 951 610 l 957 566 l 769 575 l 765 310 q 769 154 765 257 q 773 0 773 51 q 739 3 755 1 q 702 5 724 5 "},"":{"x_min":41,"x_max":827.109375,"ha":846,"o":"m 705 352 q 803 -1 763 155 l 739 1 l 673 -1 l 632 172 q 521 36 593 87 q 356 -15 448 -15 q 129 81 217 -15 q 41 316 41 177 q 130 569 41 467 q 368 672 220 672 q 537 622 464 672 q 659 486 610 573 q 711 654 691 569 l 770 650 l 827 654 q 763 505 792 576 q 705 352 734 434 m 518 943 q 552 974 536 964 q 589 985 568 985 q 626 969 611 985 q 641 932 641 953 q 627 897 641 911 q 585 866 613 883 l 384 743 l 335 743 l 518 943 m 377 619 q 226 530 272 619 q 181 326 181 442 q 223 124 181 214 q 367 34 265 34 q 528 137 480 34 q 601 323 577 240 q 527 531 578 444 q 377 619 475 619 "},"O":{"x_min":51,"x_max":1068,"ha":1119,"o":"m 51 465 q 192 820 51 690 q 559 950 333 950 q 892 853 754 950 q 1047 654 1031 757 q 1065 525 1062 551 q 1068 462 1068 500 q 1065 402 1068 426 q 1047 277 1062 379 q 894 80 1031 175 q 560 -15 756 -15 q 447 -10 496 -15 q 304 29 398 -5 q 130 186 210 64 q 51 465 51 308 m 202 468 q 290 162 202 282 q 559 42 379 42 q 826 162 738 42 q 915 468 915 283 q 825 770 915 651 q 559 889 735 889 q 348 826 429 889 q 225 639 267 764 q 202 468 202 552 "},"n":{"x_min":89,"x_max":661,"ha":754,"o":"m 99 155 l 99 495 q 97 569 99 530 q 91 655 95 608 q 153 648 122 648 l 219 656 l 218 539 q 319 635 260 599 q 451 672 378 672 q 591 624 528 672 q 654 501 654 576 l 654 299 l 654 136 l 661 0 q 629 3 644 1 q 593 5 613 5 q 556 3 576 5 q 525 0 536 1 q 530 222 525 80 q 535 406 535 364 q 501 536 535 485 q 389 587 467 587 q 253 508 288 587 q 218 313 218 430 q 220 132 218 258 q 222 0 222 6 q 184 3 208 0 q 155 6 159 6 q 117 3 141 6 q 89 0 93 0 l 99 155 "},"3":{"x_min":75,"x_max":644,"ha":749,"o":"m 241 465 l 238 512 l 294 510 q 424 554 375 510 q 474 680 474 599 q 434 805 474 754 q 322 856 394 856 q 220 818 257 856 q 164 711 183 780 l 153 706 q 127 767 136 747 q 99 819 118 788 q 220 886 162 863 q 348 909 278 909 q 526 857 450 909 q 603 706 603 805 q 542 564 603 617 q 383 479 482 511 q 567 423 490 479 q 644 262 644 366 q 542 55 644 129 q 302 -18 441 -18 q 183 -6 240 -18 q 75 32 127 5 q 99 189 91 116 l 113 188 q 182 73 136 115 q 302 31 229 31 q 448 92 392 31 q 505 246 505 154 q 451 389 505 333 q 312 446 398 446 q 238 435 279 446 l 241 465 "},"9":{"x_min":57,"x_max":688,"ha":749,"o":"m 261 38 q 475 166 405 38 q 546 451 546 295 q 442 378 494 403 q 325 354 389 354 q 132 428 208 354 q 57 617 57 502 q 148 828 57 748 q 372 909 240 909 q 612 801 536 909 q 688 520 688 693 q 574 143 688 305 q 252 -18 461 -18 q 186 -14 211 -18 q 127 0 161 -11 l 113 90 q 180 51 143 64 q 261 38 218 38 m 372 419 q 501 482 457 419 q 546 634 546 545 q 504 790 546 725 q 373 855 462 855 q 238 791 284 855 q 193 637 193 727 q 238 482 193 545 q 372 419 284 419 "},"l":{"x_min":100,"x_max":237.5,"ha":342,"o":"m 107 118 l 107 881 q 104 965 107 915 q 101 1025 101 1016 q 169 1018 138 1018 q 237 1025 203 1018 q 228 872 230 948 q 226 684 226 797 l 226 512 l 232 111 l 237 0 q 205 3 220 1 q 169 5 189 5 q 131 3 152 5 q 100 0 111 1 l 107 118 "},"":{"x_min":97,"x_max":677.5625,"ha":683,"o":"m 104 365 q 100 531 104 428 q 97 655 97 634 q 164 647 134 647 q 231 654 196 647 q 227 516 231 608 q 223 377 223 425 l 258 377 q 386 498 323 431 q 528 654 449 565 q 588 647 563 647 q 640 647 613 647 q 672 652 662 651 l 358 387 l 548 165 q 608 93 577 127 q 677 19 638 59 l 677 0 q 628 3 659 0 q 591 6 596 6 q 544 3 567 6 q 510 0 520 0 q 437 100 477 47 q 360 196 398 153 l 269 308 l 252 323 l 223 326 q 227 163 223 274 q 231 0 231 52 l 164 5 l 97 0 q 100 208 97 77 q 104 365 104 339 "},"4":{"x_min":39,"x_max":691.78125,"ha":749,"o":"m 453 252 l 177 257 l 39 253 l 39 291 q 204 522 111 392 q 345 721 297 653 q 475 906 394 789 l 527 906 l 581 906 q 575 805 581 872 q 569 705 569 739 l 569 343 l 598 343 q 644 344 620 343 q 690 350 667 345 l 683 297 q 686 270 683 287 q 691 244 689 254 q 568 253 629 253 l 568 137 l 569 0 l 505 6 l 437 0 q 450 120 447 51 q 453 252 453 190 m 453 767 l 344 626 q 230 465 298 562 q 144 343 162 368 l 453 343 l 453 767 "},"p":{"x_min":83,"x_max":702,"ha":758,"o":"m 91 -106 q 89 202 91 47 q 87 513 88 358 l 83 655 q 109 650 95 652 q 146 648 124 648 q 177 650 165 648 q 213 655 188 651 q 202 535 202 591 q 297 637 246 602 q 425 672 349 672 q 630 567 558 672 q 702 322 702 463 q 629 84 702 183 q 423 -15 556 -15 q 210 99 287 -15 l 210 -101 q 214 -244 210 -148 q 219 -373 219 -340 q 185 -369 201 -370 q 151 -368 170 -368 q 130 -368 138 -368 q 83 -373 123 -368 q 87 -240 83 -329 q 91 -106 91 -151 m 384 596 q 245 514 289 596 q 202 328 202 433 q 244 134 202 220 q 383 48 286 48 q 520 131 478 48 q 563 322 563 215 q 519 509 563 423 q 384 596 475 596 "},"":{"x_min":78,"x_max":1002,"ha":1038,"o":"m 78 294 l 82 477 l 82 654 l 145 650 l 215 654 q 209 517 215 605 q 203 421 203 430 l 203 341 q 264 117 203 197 q 465 38 325 38 l 468 260 q 461 535 468 342 q 455 786 455 729 q 496 779 479 782 q 526 776 513 776 q 566 780 545 776 q 600 786 587 784 q 591 496 600 690 q 583 270 583 302 l 587 38 q 791 132 715 38 q 867 357 867 227 q 824 641 867 506 q 885 645 857 641 q 960 656 912 648 q 1002 419 1002 544 q 891 118 1002 231 q 587 -13 780 5 l 591 -221 l 600 -372 q 561 -365 578 -367 q 526 -363 543 -363 q 491 -366 511 -363 q 455 -372 471 -369 q 461 -162 455 -302 q 468 -13 468 -22 q 194 64 310 -13 q 78 294 78 142 "},"":{"x_min":101,"x_max":919.0625,"ha":1015,"o":"m 182 927 l 262 931 q 250 805 253 854 q 247 697 247 757 l 247 457 q 314 136 247 212 q 516 60 381 60 q 733 130 654 60 q 813 336 813 201 l 813 458 l 813 657 q 799 931 813 802 l 859 927 l 919 931 q 905 770 909 863 q 901 600 901 677 l 901 366 q 792 82 901 179 q 491 -15 684 -15 q 211 66 307 -15 q 116 325 116 148 l 116 426 l 116 698 q 112 805 116 757 q 101 931 109 854 l 182 927 m 410 1208 q 462 1186 442 1208 q 483 1133 483 1164 q 460 1081 483 1105 q 410 1058 438 1058 q 356 1080 379 1058 q 334 1133 334 1103 q 356 1185 334 1163 q 410 1208 378 1208 m 650 1208 q 704 1187 682 1208 q 727 1133 727 1166 q 704 1080 727 1103 q 650 1058 681 1058 q 598 1078 620 1058 q 576 1133 576 1099 q 598 1185 576 1163 q 650 1208 620 1208 "},"":{"x_min":43,"x_max":655.5,"ha":649,"o":"m 234 -15 q 98 33 153 -15 q 43 162 43 82 q 106 303 43 273 q 303 364 169 333 q 444 448 437 395 q 403 568 444 521 q 288 616 362 616 q 191 587 233 616 q 124 507 149 559 l 95 520 l 104 591 q 202 651 144 631 q 323 672 261 672 q 500 622 444 672 q 557 455 557 573 l 557 133 q 567 69 557 84 q 618 54 577 54 q 655 58 643 54 l 655 26 q 594 5 626 14 q 537 -6 562 -3 q 438 85 453 -6 q 342 10 388 35 q 234 -15 296 -15 m 392 743 l 191 866 q 152 896 170 877 q 133 934 133 915 q 148 970 133 955 q 186 986 163 986 q 222 972 200 986 q 254 945 245 958 l 442 743 l 392 743 m 176 186 q 204 98 176 133 q 284 64 232 64 q 390 107 342 64 q 438 212 438 151 l 438 345 q 239 293 303 319 q 176 186 176 268 "},"":{"x_min":91,"x_max":662,"ha":754,"o":"m 594 -365 q 557 -366 577 -365 q 526 -369 537 -368 q 531 -189 526 -310 q 537 -7 537 -68 l 537 406 q 503 536 537 485 q 391 587 469 587 q 255 508 290 587 q 220 315 220 430 q 222 133 220 259 q 224 1 224 8 l 158 6 l 91 1 l 101 156 l 101 495 q 97 584 101 527 q 93 655 93 640 q 119 650 105 652 q 155 648 134 648 q 185 650 175 648 q 221 655 195 651 l 220 538 q 321 637 265 602 q 452 672 378 672 q 604 603 552 672 q 656 430 656 535 l 656 329 l 656 -186 q 659 -293 656 -227 q 662 -370 662 -359 q 630 -366 645 -368 q 594 -365 614 -365 "}},"cssFontWeight":"normal","ascender":1267,"underlinePosition":-133,"cssFontStyle":"normal","boundingBox":{"yMin":-373.75,"xMin":-71,"yMax":1267,"xMax":1511},"resolution":1000,"original_font_information":{"postscript_name":"Optimer-Regular","version_string":"Version 1.00 2004 initial release","vendor_url":"http://www.magenta.gr/","full_font_name":"Optimer","font_family_name":"Optimer","copyright":"Copyright (c) Magenta Ltd., 2004","description":"","trademark":"","designer":"","designer_url":"","unique_font_identifier":"Magenta Ltd.:Optimer:22-10-104","license_url":"http://www.ellak.gr/fonts/MgOpen/license.html","license_description":"Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\\r\\n\\r\\nPermission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license (\\"Fonts\\") and associated documentation files (the \\"Font Software\\"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \\r\\n\\r\\nThe above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\\r\\n\\r\\nThe Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word \\"MgOpen\\", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\\r\\n\\r\\nThis License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the \\"MgOpen\\" name.\\r\\n\\r\\nThe Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \\r\\n\\r\\nTHE FONT SOFTWARE IS PROVIDED \\"AS IS\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.","manufacturer_name":"Magenta Ltd.","font_sub_family_name":"Regular"},"descender":-374,"familyName":"Optimer","lineHeight":1640,"underlineThickness":20}')),b=new r.Vector3,w=[new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3,new r.Vector3],L=function(e){function t(e,n){var i;d()(this,t);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new r.BufferGeometry;s.setIndex(new r.BufferAttribute(a,1)),s.addAttribute("position",new r.BufferAttribute(o,3));var l=new r.Color(Math.random(),Math.random(),Math.random());if((i=v()(this,_()(t).call(this,s,new r.LineBasicMaterial({color:l.getHex(),linewidth:3})))).frustumCulled=!1,n){e.box3D.getSize(b);var u=new r.TextGeometry(n,{font:x,size:.0666*b.x,height:.001*b.z,curveSegments:1});i.textMesh=new r.Mesh(u,new r.MeshBasicMaterial({color:new r.Color(1,0,0),side:r.DoubleSide})),i.add(i.textMesh),i.textMesh.frustumCulled=!1}return void 0!==e&&i.update(e),i}return M()(t,e),f()(t,[{key:"setMaterialVisibility",value:function(e){this.material.visible=e,this.textMesh&&(this.textMesh.material.visible=e)}},{key:"removeChildren",value:function(){this.material.dispose(),this.geometry.dispose(),this.textMesh&&(this.textMesh.material.dispose(),this.textMesh.geometry.dispose(),delete this.textMesh)}},{key:"update",value:function(e){var t=this.geometry.attributes.position,n=t.array;e.toPoints(w);for(var r=0,i=0;i<w.length;i++){w[i].toArray(n,r),r+=3}t.needsUpdate=!0,this.updateMatrix(),this.updateMatrixWorld(!0),this.textMesh&&(e.box3D.getSize(b),this.textMesh.position.set(0,0,0),this.textMesh.translateX(.45*-b.x),this.textMesh.translateY(.45*-b.y),this.textMesh.translateZ(.1*b.z))}}]),t}(r.LineSegments);function q(e,t,n){n||((n=document.createElement("div")).id="chart-div",n.style.cssText="position: absolute; bottom: 0; left: 0; width: 100vw; height: 20rem; background-color: white; display: none",document.body.appendChild(n)),this.chartDivContainer=n,this.createChartContainer("three-info"),this.charts=[],this.charts.push(new h("three-info",e.mainLoop.gfxEngine.renderer));var l=this.charts,u=e.tileLayer;var c,d,m=t.addFolder("Debug Tools"),f={displayCharts:!1,eventsDebug:!1,debugCameraWindow:!1,freeze:!1},p=function(){c=Date.now()},v=function(){var e,t,r=Date.now()-c;e=r,t="none"!=n.style.display,l.forEach(function(n){return n.update(t,e)})};m.add(f,"displayCharts").name("Display charts").onChange(function(t){t?(e.addFrameRequester(a.a.UPDATE_START,p),e.addFrameRequester(a.a.UPDATE_END,v),n.style.display="flex"):(e.removeFrameRequester(a.a.UPDATE_START,p),e.removeFrameRequester(a.a.UPDATE_END,v),n.style.display="none"),e.notifyChange()}),m.add(f,"debugCameraWindow").name("debug Camera").onChange(function(t){t?e.addFrameRequester(a.a.AFTER_RENDER,E):e.removeFrameRequester(a.a.AFTER_RENDER,E),e.notifyChange()}),m.add(f,"freeze").name("freeze update").onChange(function(t){u.frozen=t,e.notifyChange()}),m.add(f,"eventsDebug").name("Debug event").onChange(function(t){var n=e.controls,r=[];if(t){d=m.addFolder("Events");var a=new i.e(e.referenceCrs,n.getCameraTargetPosition()).as("EPSG:4326"),o=Math.round(1e4*a.latitude())/1e4,s=Math.round(1e4*a.longitude())/1e4;f.cameraTargetUpdated="lat: ".concat(o," lon: ").concat(s);var l=d.add(f,"cameraTargetUpdated").name("camera-target-changed"),u=function(e){var t=e.new.cameraTarget.as("EPSG:4326"),n=Math.round(1e4*t.latitude())/1e4,r=Math.round(1e4*t.longitude())/1e4;f.cameraTargetUpdated="lat: ".concat(n," lon: ").concat(r),l.updateDisplay()};n.addEventListener("camera-target-changed",u),r.push({type:"camera-target-changed",stateName:"cameraTargetUpdated",fn:u})}else{for(var h=0;h<r.length;h++){var c=r[h];n.removeEventListener(c.type,c.fn),delete f[c.stateName]}m.removeFolder("Events")}});var g=new r.CameraHelper(e.camera.camera3D),_=e.camera.camera3D.clone();_.fov*=1.5,_.updateProjectionMatrix();var y=e.mainLoop.gfxEngine,M=y.renderer,x=e.fogDistance;g.visible=!1,e.scene.add(g);var b=new s.a,w=new L(b);function q(e){e.material&&x&&(e.material.fogDistance=x)}w.visible=!1,e.scene.add(b),b.add(w);var S=new r.Color,T=new r.Vector3;function E(){if(f.debugCameraWindow&&_){var t={x:.25*y.width,y:.25*y.height};_.aspect=t.x/t.y;var n=e.camera.camera3D,r=new i.e(e.referenceCrs,n.position).as(u.extent._crs),a=e.tileLayer.info.displayed.extent;if(s.a.extentToOBB(a,a.min,a.max,b),w.visible=!0,w.update(b),e instanceof o.b)_.position.set(0,0,100),n.localToWorld(_.position),_.lookAt(n.position);else{var l=1.5*r._values[2];r._values[2]=l,r.as(e.referenceCrs).xyz(_.position),n.worldToLocal(_.position),_.position.z+=l,n.localToWorld(_.position),T.copy(e.camera.camera3D.position),n.worldToLocal(T),T.z-=1.5*l,n.localToWorld(T),_.lookAt(T)}_.updateProjectionMatrix(),e.atmosphere&&(e.atmosphere.visible=!1),x=1e11;var h=!0,c=!1,d=void 0;try{for(var m,p=u.level0Nodes[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){m.value.traverseVisible(q)}}catch(e){c=!0,d=e}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}g.visible=!0,g.updateMatrixWorld(!0),S.copy(M.getClearColor()),M.setViewport(y.width-t.x,y.height-t.y,t.x,t.y),M.setScissor(y.width-t.x,y.height-t.y,t.x,t.y),M.setScissorTest(!0),M.setClearColor(15658734),M.clear(),M.render(e.scene,_),M.setScissorTest(!1),M.setClearColor(S),g.visible=!1,w.visible=!1,e.atmosphere&&(e.atmosphere.visible=!0),x=e.fogDistance;var v=!0,L=!1,E=void 0;try{for(var D,k=u.level0Nodes[Symbol.iterator]();!(v=(D=k.next()).done);v=!0){D.value.traverseVisible(q)}}catch(e){L=!0,E=e}finally{try{v||null==k.return||k.return()}finally{if(L)throw E}}}}}q.prototype.createChartContainer=function(e){var t=document.createElement("div");t.style.cssText="width: 100%; height: 100%; background-color: white;",this.chartDivContainer.appendChild(t);var n=document.createElement("canvas");n.height="20rem",n.id=e,t.appendChild(n)},q.prototype.updateChartDivSize=function(){var e=0,t=!0,n=!1,r=void 0;try{for(var i,a=this.chartDivContainer.getElementsByTagName("div")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){"none"!==i.value.style.display&&e++}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var o=Math.floor(100/e),s=!0,l=!1,u=void 0;try{for(var h,c=this.chartDivContainer.getElementsByTagName("div")[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var d=h.value;"none"!==d.style.display&&(d.style.width="".concat(o,"%"))}}catch(e){l=!0,u=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw u}}this.charts.forEach(function(e){e.resize(),e.update()})};var S=q,T=n(60);var E={initTools:function(e,t,n){var r=function(){return e.notifyChange(t)};t.debugUI=n.addFolder("".concat(t.id)),t.debugUI.add(t,"visible").name("Visible").onChange(r),t.debugUI.add(t,"sseThreshold").name("SSE threshold").onChange(r),t.debugUI.add(t,"octreeDepthLimit",-1,20).name("Depth limit").onChange(r),t.debugUI.add(t,"pointBudget",1,15e6).name("Max point count").onChange(r),t.debugUI.add(t.object3d.position,"z",-50,50).name("Z translation").onChange(function(){t.object3d.updateMatrixWorld(),e.notifyChange(t)}),t.dbgEnableStickyNode=!1,t.dbgStickyNode="",t.dbgDisplayChildren=!0,t.dbgDisplayParents=!0,t.dbgDisplaybbox=!1;var i=t.debugUI.addFolder("Styling");null!=t.material.mode&&i.add(t.material,"mode",T.a).name("Display mode").onChange(r),i.add(t,"opacity",0,1).name("Layer Opacity").onChange(r),i.add(t,"pointSize",0,15).name("Point Size").onChange(r),i.add(t,"dbgDisplaybbox").name("Display Bounding Boxes").onChange(r),null!=t.material.picking&&i.add(t.material,"picking").name("Display picking id").onChange(r);var a=t.debugUI.addFolder("Sticky");a.add(t,"dbgEnableStickyNode").name("Enable sticky node").onChange(r),a.add(t,"dbgStickyNode").name("Sticky node name").onChange(r),a.add(t,"dbgDisplayChildren").name("Display children of sticky node").onChange(r),a.add(t,"dbgDisplayParents").name("Display parents of sticky node").onChange(r),e.addFrameRequester("after_layer_update",function(){if(t.bboxes&&(t.bboxes.visible=t.dbgDisplaybbox),t.dbgEnableStickyNode){t.displayedCount=0;var e=t.dbgStickyNode.split(","),n=!0,r=!1,i=void 0;try{for(var a,o=t.group.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.material.visible=!1;var l=!0,u=!1,h=void 0;try{for(var c,d=e[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var m=c.value;if(s.userData.metadata.name==m)s.material.visible=!0;else{if(f=s.userData.metadata,p=m,f.name.length>p.length?!f.name.startsWith(p):f.name.length<p.length?!p.startsWith(f.name):p!==f.name)continue;if(s.userData.metadata.name.length<m.length){s.material.visible=t.dbgDisplayParents;break}s.material.visible=t.dbgDisplayChildren}if(s.material.visible)break}}catch(e){u=!0,h=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw h}}s.material.visible&&(t.displayedCount+=s.geometry.attributes.position.count)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}var f,p,v=!0,g=!1,_=void 0;try{for(var y,M=t.group.children[Symbol.iterator]();!(v=(y=M.next()).done);v=!0){var x=y.value;x.boxHelper&&(x.boxHelper.material.visible=t.dbgDisplaybbox&&x.visible&&x.material.visible)}}catch(e){g=!0,_=e}finally{try{v||null==M.return||M.return()}finally{if(g)throw _}}})}},D=n(46),k=n.n(D),A=n(18),P=n(13),C=n(49);function R(e,t){var n=0,r=Date.now(),i={label:"Update 1st level",data:[{x:0,y:0}]},a={label:"Update duration (ms)",data:[{x:0,y:0}],borderColor:"rgba(75,192,192,1)"},o=["0s"],s=new u.a(e,{type:"line",data:{labels:o,datasets:[i,a]},options:{animation:{duration:10},scales:{yAxes:[{display:!0,ticks:{suggestedMin:0}}]}}});this.update=function(e,l){var u=Math.floor((Date.now()-r)/1e3),h="".concat(u,"s");n>0&&o[n]==h?o.push(""):(o.push(h),n=o.length-1),o.length>60&&(o.shift(),n--),i.data.push({x:0,y:t._latestUpdateStartingLevel}),a.data.push({x:0,y:l}),i.data.length>60&&(i.data.shift(),a.data.shift()),e&&s.update()},this.resize=function(){s.resize()}}function Y(e,t){var n=[],r=[],i=[],a=new u.a(e,{type:"bar",data:{labels:n,datasets:[{label:"Visible node per level",data:r,backgroundColor:"rgba(75, 192, 192, 1)"},{label:"Diplayed node per level",data:i,backgroundColor:"rgba(153, 102, 255, 1)"}]},options:{scales:{yAxes:[{display:!0,ticks:{suggestedMin:0}}]}}});this.update=function(e){var o={};for(var s in function e(n,r){if(n&&n.visible&&(n.level>=0&&n.layer===t&&(r[n.level]?r[n.level][0]+=1:r[n.level]=[1,0],n.material.visible&&(r[n.level][1]+=1)),n.children)){var i=!0,a=!1,o=void 0;try{for(var s,l=n.children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)e(s.value,r)}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}}}(t.object3d,o),n.length=0,r.length=0,o)({}).hasOwnProperty.call(o,s)&&(n[s]="".concat(s),r[s]=o[s][0],i[s]=o[s][1]);e&&a.update()},this.resize=function(){a.resize()}}function O(e,t,n){e.defineLayerProperty(t,n,function(){(e.parent?e.parent.object3d:e.object3d).traverse(function(n){n.layer==e&&n.material?n.material[t]=e[t]:n.content&&n.content.layer==e&&n.content.traverse(function(n){n.material&&(n.material[t]=e[t])})})})}var I,F,H,N,j={addWireFrameCheckbox:function(e,t,n){e.add(n,"wireframe").name("Wireframe").onChange(function(){return t.notifyChange(n)})},addMaterialSize:function(e,t,n,r,i){O(n,"size",1),e.add(n,"size",r,i).name("Size").onChange(function(){return t.notifyChange(n)})},addMaterialLineWidth:function(e,t,n,r,i){O(n,"linewidth",1),e.add(n,"linewidth",r,i).name("Line Width").onChange(function(){return t.notifyChange(n)})},createGeometryDebugUI:function(e,t,n){var r=e.addFolder("Layer ".concat(n.id));return r.add(n,"visible").name("Visible").onChange(function(){return t.notifyChange(n)}),r.add(n,"opacity",0,1).name("Opacity").onChange(function(){return t.notifyChange(n)}),r}};function z(e){if(e.material){var t=e.id===N;e.material.overlayAlpha=t?.5:0,e.material.showOutline=!!t||F,t&&(H=e,I&&console.info(e))}}function B(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.tileLayer.pickObjectsAt(e,t);N=r.length?r[0].object.id:void 0,H=void 0,I=n,F=e.tileLayer.showOutline;var i=!0,a=!1,o=void 0;try{for(var s,l=e.tileLayer.level0Nodes[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){s.value.traverse(z)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return e.notifyChange(),H}function U(e,t,n,i){var o=j.createGeometryDebugUI(e,t,n),s="".concat(n.id,"-nb-objects");i.createChartContainer(s);var l="".concat(n.id,"-nb-visible");i.createChartContainer(l),i.charts.push(new R(s,n)),i.charts.push(new Y(l,n)),n.showOutline=!1,n.wireframe=!1;var u={objectChart:!0,visibilityChart:!0,sseHelper:!1};o.add(n,"showOutline").name("Show tiles").onChange(function(e){n.showOutline=e,function(e,t,n,r){t.traverse(function(e){e.material&&e.layer===n&&r(e.material)}),e.notifyChange()}(t,n.object3d,n,function(t){t.showOutline=e})}),o.add(n,"wireframe").name("Wireframe").onChange(function(){t.notifyChange(n)}),o.add(u,"objectChart").name("Object chart").onChange(function(e){document.getElementById(s).parentNode.style.display=e?"block":"none",i.updateChartDivSize(),i.charts.forEach(function(e){return e.update()})}),o.add(u,"visibilityChart").name("Visibility chart").onChange(function(e){document.getElementById(l).parentNode.style.display=e?"block":"none",i.updateChartDivSize(),i.charts.forEach(function(e){return e.update()})});var h="".concat(n.id,"_obb_debug"),c="".concat(n.id,"_sb_debug"),d=new r.SphereGeometry(1,16,16);function m(e,t,n){var i=e.camera.camera3D.layers.test({mask:1<<t.threejsLayer});if(n.parent&&i){if(i){var a=n.children.filter(function(e){return e.layer==t});if(n.material&&n.material.visible){var o;if(0==a.length){var s=e.view.getLayers(function(e){return e.id===t.id})[0].threejsLayer;if(t.id==h)(o=new L(n.obb,"id:".concat(n.id))).children[0]&&o.children[0].layers.set(s);else if(t.id==c){var l=new r.Color(Math.random(),Math.random(),Math.random()),u=new r.MeshBasicMaterial({color:l.getHex(),wireframe:!0});(o=new r.Mesh(d,u)).position.copy(n.boundingSphere.center),o.scale.multiplyScalar(n.boundingSphere.radius)}o.layers.set(s),o.layer=t,n.add(o),o.updateMatrixWorld(!0);var m=Object.getOwnPropertyDescriptor(n.material,"visible"),f=m.get||function(){return m.value},p=m.set||function(e){m.value=e};Object.defineProperty(n.material,"visible",{get:f,set:function(e){if(p(e),!e)for(var t=n.children.length;t--;){var r=n.children[t];r.layer===c&&(r.dispose?r.dispose():r.material.dispose(),n.children.splice(t,1))}}})}else o=a[0];t.id==h?(o.setMaterialVisibility(!0),o.update(n.obb)):t.id==c&&(o.position.copy(n.boundingSphere.center),o.scale.multiplyScalar(n.boundingSphere.radius))}else{var v=!0,g=!1,_=void 0;try{for(var y,M=n.children.filter(function(e){return e.layer==t.id})[Symbol.iterator]();!(v=(y=M.next()).done);v=!0){var x=y.value;"function"==typeof x.setMaterialVisibility&&x.setMaterialVisibility(!1),x.visible=!1}}catch(e){g=!0,_=e}finally{try{v||null==M.return||M.return()}finally{if(g)throw _}}}}}else C.a.removeChildrenAndCleanupRecursively(t.id,n)}var f=new P.b(h,"debug",{update:m,visible:!1});A.b.prototype.addLayer.call(t,f,n).then(function(e){o.add(e,"visible").name("Bounding boxes").onChange(function(){t.notifyChange(e)})});var p=new P.b(c,"debug",{update:m,visible:!1});A.b.prototype.addLayer.call(t,p,n).then(function(e){o.add(e,"visible").name("Bounding Spheres").onChange(function(){t.notifyChange(e)})});var v=document.getElementById("viewerDiv"),g=document.createElement("span");g.className="circleBase",v.appendChild(g);var _,y=new r.Vector3,M=function(){k.a.update(),t.notifyChange()},x=function(){k.a.removeAll(),t._frameRequesters[a.a.BEFORE_RENDER].includes(M)&&t.removeFrameRequester(a.a.BEFORE_RENDER,M)};function b(e){var n=B(t,e,!1);if(n){g.style.display="table-cell",y.copy(n.boundingSphere.center).applyMatrix4(n.matrixWorld);var r=y.project(t.camera.camera3D),i=t.normalizedToViewCoords(r),o=n.screenSize;if(_!=n){var s=Number(g.style.width.replace("px",""));_=n,x(),new k.a.Tween({size:s}).to({size:o},500).easing(k.a.Easing.Sinusoidal.In).easing(k.a.Easing.Exponential.Out).onUpdate(function(e){g.style["line-height"]="".concat(e.size,"px"),g.style.width="".concat(e.size,"px"),g.style.height="".concat(e.size,"px"),g.innerHTML="".concat(Math.floor(e.size)," px"),g.style.left="".concat(i.x-.5*e.size,"px"),g.style.top="".concat(i.y-.5*e.size,"px")}).onComplete(x).start(),t.addFrameRequester(a.a.BEFORE_RENDER,M)}}else g.style.display="none"}o.add(u,"sseHelper").name("Sse helper").onChange(function(e){e?window.addEventListener("mousemove",b,!1):(g.style.display="none",x(),window.removeEventListener("mousemove",b))});var w=null;window.addEventListener("mousedown",function(e){83==w&&B(t,e)}),window.addEventListener("keydown",function(e){w=e.which}),window.addEventListener("keyup",function(){w=null})}var G=(new r.Matrix4).getInverse((new r.Matrix4).makeRotationX(Math.PI/2)),W=(new r.Matrix4).getInverse((new r.Matrix4).makeRotationZ(-Math.PI/2)),V=new r.Vector3;function J(e,t,n){var i=j.createGeometryDebugUI(e,t,n),a=new r.Group;t.scene.add(a),j.addWireFrameCheckbox(i,t,n);var o="".concat(n.id,"_obb_debug"),s=new P.b(o,"debug",{update:function(e,t,i){if(e.camera.camera3D.layers.test({mask:1<<t.threejsLayer})){var o=i.userData.metadata,s=i.userData.obb;if(i.visible&&o.boundingVolume){if(s)s=i.userData.obb;else{if(o.boundingVolume.region&&((s=new L(o.boundingVolume.region,"id:".concat(i.id))).position.copy(o.boundingVolume.region.position),s.rotation.copy(o.boundingVolume.region.rotation),a.add(s)),o.boundingVolume.box){o.boundingVolume.box.getSize(V);var l=new r.BoxGeometry(V.x,V.y,V.z),u=new r.MeshBasicMaterial({wireframe:!0});s=new r.Mesh(l,u),o.boundingVolume.box.getCenter(s.position)}if(o.boundingVolume.sphere){var h=new r.SphereGeometry(o.boundingVolume.sphere.radius,32,32),c=new r.MeshBasicMaterial({wireframe:!0});(s=new r.Mesh(h,c)).position.copy(o.boundingVolume.sphere.center)}if(s){s.layer=t;var d=t.threejsLayer;s.layers.set(d),s.children.length&&s.children[0].layers.set(d),i.userData.obb=s,s.updateMatrixWorld()}if(s&&!o.boundingVolume.region){var m=n.asset.gltfUpAxis;s.updateMatrix(),void 0===m||"Y"===m?s.matrix.premultiply(G):"X"===m&&s.matrix.premultiply(W),s.applyMatrix(new r.Matrix4),i.add(s),s.updateMatrixWorld()}}s&&(s.visible=!0,"function"==typeof s.setMaterialVisibility&&s.setMaterialVisibility(!0))}else s&&(s.visible=!1,"function"==typeof s.setMaterialVisibility&&s.setMaterialVisibility(!1))}},visible:!1});A.b.prototype.addLayer.call(t,s,n).then(function(e){i.add(e,"visible").name("Bounding boxes").onChange(function(){t.notifyChange(t.camera.camera3D)})}),i.add(n,"sseThreshold",0,100).name("sseThreshold").onChange(function(){t.notifyChange(t.camera.camera3D)})}n.d(t,"Debug",function(){return S}),n.d(t,"PointCloudDebug",function(){return E}),n.d(t,"createTileDebugUI",function(){return U}),n.d(t,"create3dTilesDebugUI",function(){return J}),n.d(t,"GeometryDebug",function(){return j})}],[[506,0]]])});
//# sourceMappingURL=debug.js.map