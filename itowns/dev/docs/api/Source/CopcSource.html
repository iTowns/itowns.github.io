<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>CopcSource - iTowns documentation</title>

    <script src="../../scripts/prettify/prettify.js"> </script>
    <script src="../../scripts/prettify/lang-css.js"> </script>
    <link type="text/css" rel="stylesheet" href="../../styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="../../styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="../../styles/itowns.css">
</head>

<body>



<section>

<article>

    <h1>
        CopcSource
        
            <span class="extends">extends <a onclick="window.parent.goTo('api/Source/Source.html','api/Source/Source')" title="Source">Source</a></span>
        
    </h1>

    
        <div class="description"><p>A source for <a href="https://copc.io/">Cloud Optimised Point Cloud</a> (COPC) data.
Such data consists of a <a href="https://www.ogc.org/standard/las/">LAZ 1.4</a> file
that stores compressed points data organized in a clustered octree.</p>
<p>A freshly created source fetches and parses portions of the file
corresponding to the LAS 1.4 header, all the Variable Length Record (VLR)
headers as well the following VLRs:</p>
<ul>
<li>COPC <a href="https://copc.io/#info-vlr"><code>info</code></a> record (mandatory)</li>
<li>LAS 1.4 <code>OGC Coordinate System WKT</code> record (mandatory, see <a href="https://portal.ogc.org/files/?artifact_id=74523">Las 1.4
spec</a>)</li>
<li>LAS 1.4 <code>Extra Bytes</code> record (optional, see <a href="https://portal.ogc.org/files/?artifact_id=74523">Las 1.4
spec</a>)</li>
</ul></div>
    

    
        <hr class="title-divider"/>
        <h2>Constructor</h2>
        

<div class="method">
    <h3>
        <span class="method-name">CopcSource</span>
        (


    
    
        config:
            <span class="type">Object</span>
    

)
        
    </h3>

    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>config</code>
        
        
            &mdash; <span><p>Source configuration</p></span>
        

        
            

<ul class="params">
    
    <li>
        <code>config.url</code>
        
        
            &mdash; <span><p>URL of the COPC resource.</p></span>
        

        
    </li>
    
    <li>
        <code>config.colorDepth</code>
        (default: <code>16</code>)
        
        
            &mdash; <span><p>Encoding of the <code>color</code>
attribute. Either <code>8</code> or <code>16</code> bits.</p></span>
        

        
    </li>
    
    <li>
        <code>config._lazPerfBaseUrl</code>
        (optional)
        
            &mdash; <span><p>(experimental) Overrides base
url of the <code>las-zip.wasm</code> file of the <code>laz-perf</code> library.</p></span>
        

        
    </li>
    
    <li>
        <code>config.crs</code>
        (default: <code>'EPSG:4326'</code>)
        
        
            &mdash; <span><p>Native CRS of the COPC
ressource. Note that this is not for now inferred from the COPC header.</p></span>
        

        
    </li>
    
    <li>
        <code>config.networkOptions</code>
        (optional)
        
            &mdash; <span><p>Fetch options (passed
directly to <code>fetch()</code>), see <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Syntax">the syntax for more information</a>.</p></span>
        

        
    </li>
    
    <li>
        <code>config.attribution</code>
        (optional)
        
            &mdash; <span><p>Attribution of the data.</p></span>
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

    

    
</div>

    

    

    
        <hr class="title-divider"/>
        <h2>Properties</h2>
        
            

<div class="property">
    <h3>
        <span class="property-name">isCopcSource</span>
        : <span class="type">boolean</span>
    </h3>

    
        <div class="description">
            <p>Read-only flag to check that a given
object is of type CopcSource.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">header</span>
        : <span class="type">Object</span>
    </h3>

    
        <div class="description">
            <p>LAS header of the source.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">eb</span>
        : <span class="type">Array.&lt;Object></span>
    </h3>

    
        <div class="description">
            <p>List of headers of each Variable Length Records
(VLRs).</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">info</span>
        : <span class="type">Object</span>
    </h3>

    
        <div class="description">
            <p>COPC <code>info</code> VLR.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">info.cube</span>
        : <span class="type">Array.&lt;number></span>
    </h3>

    
        <div class="description">
            <p>Bounding box of the octree as a 6-elements.
tuple <code>[minX, minY, minZ, maxX, maxY, maxZ]</code>. Computed from <code>center_x</code>,
<code>center_y</code>, <code>center_z</code> and <code>halfSize</code> properties.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">info.rootHierarchyPage</span>
        : <span class="type">Object</span>
    </h3>

    
        <div class="description">
            <p>Hierarchy page of the root node.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">info.rootHierarchyPage.pageOffset</span>
        : <span class="type">number</span>
    </h3>

    
        <div class="description">
            <p>Absolute Offset to the
root node data chunk.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">info.rootHierarchyPage.pageOffset</span>
        : <span class="type">number</span>
    </h3>

    
        <div class="description">
            <p>Size (in bytes) of the
root node data chunk.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">gpsTimeRange</span>
        : <span class="type">Array.&lt;number></span>
    </h3>

    
        <div class="description">
            <p>A 2-element tuple denoting the minimum
and maximum values of attribute <code>gpsTime</code>.</p>
        </div>
    
</div>

            
        
    

    
        <hr class="title-divider"/>
        <h2>Methods</h2>
        
            

<div class="method">
    <h3>
        <span class="method-name">extentInsideLimit</span>
        (


    
    
        extent:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Extent.html','api/Geographic/Extent')" title="Extent">Extent</a></span>
    

)
        :
            
                <span class="type">boolean</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Tests if an extent is inside the source limits.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>True if the extent is inside the limit, false otherwise.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>extent</code>
        
        
            &mdash; <span><p>Extent to test.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">loadData</span>
        (


    
    
        extent:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Extent.html','api/Geographic/Extent')" title="Extent">Extent</a></span>, 
    
        out:
            <span class="type"><a onclick="window.parent.goTo('api/Base/FeatureBuildingOptions.html','api/Base/FeatureBuildingOptions')" title="FeatureBuildingOptions">FeatureBuildingOptions</a>|<a onclick="window.parent.goTo('api/Layer/Layer.html','api/Layer/Layer')" title="Layer">Layer</a></span>
    

)
        :
            
                <span class="type"><a onclick="window.parent.goTo('api/Base/FeatureCollection.html','api/Base/FeatureCollection')" title="FeatureCollection">FeatureCollection</a>|Texture</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Load  data from cache or Fetch/Parse data.
The loaded data is a Feature or Texture.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>The parsed data.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>extent</code>
        
        
            &mdash; <span><p>extent requested parsed data.</p></span>
        

        
    </li>
    
    <li>
        <code>out</code>
        
        
            &mdash; <span><p>The feature returned options</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">onLayerAdded</span>
        (


    
    
        options:
            <span class="type">object</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Called when layer added.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>options</code>
        
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">onLayerRemoved</span>
        (


    
    
        options:
            <span class="type">options</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Called when layer removed.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>options</code>
        (default: <code>{}</code>)
        
        
            &mdash; <span><p>options</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">urlFromExtent</span>
        (


    
    
        extent:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Extent.html','api/Geographic/Extent')" title="Extent">Extent</a></span>
    

)
        :
            
                <span class="type">string</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Generates an url from an extent. This url is a link to fetch the
resources inside the extent.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>The URL constructed from the extent.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>extent</code>
        
        
            &mdash; <span><p>Extent to convert in url.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            
        
    

    

    

    



        <hr class="title-divider"/>
        <h2>Source</h2>
        <a target="_blank" href="https://github.com/itowns/itowns/blob/master/src/Source/CopcSource.js">
            src/Source/CopcSource.js
        </a>




</article>

</section>

<script> prettyPrint(); </script>
<script src="../../scripts/linenumber.js"> </script>
</body>
</html>