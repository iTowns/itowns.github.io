<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>iGLTFLoader - iTowns documentation</title>

    <script src="../../scripts/prettify/prettify.js"> </script>
    <script src="../../scripts/prettify/lang-css.js"> </script>
    <link type="text/css" rel="stylesheet" href="../../styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="../../styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="../../styles/itowns.css">
</head>

<body>



<section>

<article>

    <h1>
        iGLTFLoader
        
    </h1>

    
        <div class="description"><p>Parses <a href="https://www.khronos.org/gltf/">glTF</a> 1.0 and 2.0 files.</p>
<p>Under the hood, glTF 2.0 files are parsed with THREE.GLTFLoader and GLTF 1.0 are parsed with the previous THREE
GltfLoader (for 1.0 glTF) that has been kept and maintained in iTowns.</p>
<p>Beware that gltf convention is y-up while itowns is z-up. You can apply a PI/2 rotation around the X axis to the
loaded model to transform from y-up to z-up. Note that you can also use Coordinates.geodesicNormal to get the normal
to a position on the globe (i.e. in GlobeView) to correctly orient a model on a GlobeView.</p></div>
    

    
        <hr class="title-divider"/>
        <h2>Constructor</h2>
        

<div class="method">
    <h3>
        <span class="method-name">iGLTFLoader</span>
        (


    
    
        manager:
            <span class="type">THREE.LoadingManager</span>
    

)
        
    </h3>

    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>manager</code>
        (optional)
        
            &mdash; <span><p>The loadingManager for the loader to use. Default is THREE.DefaultLoadingManager.</p></span>
        

        
    </li>
    
</ul>

    

    
</div>

    

    

    

    
        <hr class="title-divider"/>
        <h2>Methods</h2>
        
            

<div class="method">
    <h3>
        <span class="method-name">load</span>
        (


    
    
        url:
            <span class="type">String</span>, 
    
        onLoad:
            <span class="type">function</span>, 
    
        onProgress:
            <span class="type">function</span>, 
    
        onError:
            <span class="type">function</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Loads a gltf model from url and call the callback function with the parsed response content.
Adapted from threejs.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>url</code>
        
        
            &mdash; <span><p>the path/URL of the .gltf or .glb file.</p></span>
        

        
    </li>
    
    <li>
        <code>onLoad</code>
        
        
            &mdash; <span><p>A function to be called after the loading is successfully completed. The function
receives the loaded JSON response returned from parse.</p></span>
        

        
    </li>
    
    <li>
        <code>onProgress</code>
        
        

        
    </li>
    
    <li>
        <code>onError</code>
        
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">parse</span>
        (


    
    
        buffer:
            <span class="type">ArrayBuffer|String|Object</span>, 
    
        path:
            <span class="type">String</span>, 
    
        onLoad:
            <span class="type">function</span>, 
    
        onError:
            <span class="type">function</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Parse a glTF-based ArrayBuffer, JSON string or object and fire onLoad callback when complete.
Calls Threejs <a href="https://threejs.org/docs/?q=gltflo#examples/en/loaders/GLTFLoader.parse">GLTFLoader.parse</a> for
glTF 2.0 files and LegacyGLTFLoader.parse for gtTF 1.0 files.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>buffer</code>
        
        
            &mdash; <span><p>the glTF asset to parse, as an ArrayBuffer, JSON string or object.</p></span>
        

        
    </li>
    
    <li>
        <code>path</code>
        
        
            &mdash; <span><p>the base path from which to find subsequent glTF resources such as textures and .bin data files.</p></span>
        

        
    </li>
    
    <li>
        <code>onLoad</code>
        
        
            &mdash; <span><p>— A function to be called when parse completes. The argument to the onLoad function will
be an Object that contains loaded parts: .scene, .scenes, .cameras, .animations, and .asset.</p></span>
        

        
    </li>
    
    <li>
        <code>onError</code>
        (optional)
        
            &mdash; <span><p>— A function to be called if an error occurs during parsing. The function receives error as an argument.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">parseAsync</span>
        (


    
    
        data:
            <span class="type">ArrayBuffer|String|Object</span>, 
    
        path:
            <span class="type">String</span>
    

)
        :
            
                <span class="type">Promise.&lt;Object></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Async promise-based parsing of a glTF-based ArrayBuffer, JSON string or object.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>A promise that resolves an Object that contains loaded parts:
.scene, .scenes, .cameras, .animations, and .asset, when parsing is done.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>data</code>
        
        
            &mdash; <span><p>the glTF asset to parse, as an ArrayBuffer, JSON string or object.</p></span>
        

        
    </li>
    
    <li>
        <code>path</code>
        
        
            &mdash; <span><p>the base path from which to find subsequent glTF resources such as textures and .bin data files.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">register</span>
        (


    
    
        callback:
            <span class="type">function</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Registers a callback to load specific unknown or not standard GLTF extensions.
See Threejs <a href="https://threejs.org/docs/?q=gltflo#examples/en/loaders/GLTFLoader">GltfLoader</a> for more
information.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>callback</code>
        
        
            &mdash; <span><p>the callback function</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">setDRACOLoader</span>
        (


    
    
        dracoLoader:
            <span class="type">THREE.DracoLoader</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Sets the draco loader instance for this gltf parser. Enable loading files with
<a href="https://google.github.io/draco/">Draco</a> geometry extension. See Threejs
<a href="https://threejs.org/docs/index.html#examples/en/loaders/DRACOLoader">DracoLoader</a> for more information.
Only works for GLTF 2.0 files.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>dracoLoader</code>
        
        
            &mdash; <span><p>the threejs DracoLoader instance.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">setKTX2Loader</span>
        (


    
    
        ktx2Loader:
            <span class="type">THREE.KTX2Loader</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Sets the KTX2 loader instance for this gltf parser. Enable loading files with
<a href="https://www.khronos.org/ktx/">KTX2</a> texture extension. See Threejs
<a href="https://threejs.org/docs/index.html?q=KTX2#examples/en/loaders/KTX2Loader">KTX2Loader</a> for more information.
Only works for GLTF 2.0 files.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>ktx2Loader</code>
        
        
            &mdash; <span><p>the threejs KTX2Loader instance.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">setMeshoptDecoder</span>
        (


    
    
        meshoptDecoder:
            <span class="type">Object</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Sets the Mesh Optimizer decoder instance for this gltf parser. Enable loading files with
<a href="https://meshoptimizer.org/">MeshOptimizer</a> geometry extension.
Only works for GLTF 2.0 files.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>meshoptDecoder</code>
        
        
            &mdash; <span><p>the threejs meshopt decoder instance.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">unregister</span>
        (


    
    
        callback:
            <span class="type">function</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Unregisters a load callback.
See Threejs <a href="https://threejs.org/docs/?q=gltflo#examples/en/loaders/GLTFLoader">GltfLoader</a> for more
information.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>callback</code>
        
        
            &mdash; <span><p>the callback function</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            
        
    

    

    

    



        <hr class="title-divider"/>
        <h2>Source</h2>
        <a target="_blank" href="https://github.com/itowns/itowns/blob/master/packages/Main/src/Parser/iGLTFLoader.js">
            packages/Main/src/Parser/iGLTFLoader.js
        </a>




</article>

</section>

<script> prettyPrint(); </script>
<script src="../../scripts/linenumber.js"> </script>
</body>
</html>