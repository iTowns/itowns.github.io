<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Coordinates - iTowns documentation</title>

    <script src="../../scripts/prettify/prettify.js"> </script>
    <script src="../../scripts/prettify/lang-css.js"> </script>
    <link type="text/css" rel="stylesheet" href="../../styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="../../styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="../../styles/itowns.css">
</head>

<body>



<section>

<article>

    <h1>
        Coordinates
        
    </h1>

    
        <div class="description"><p>A Coordinates object, defined by a <a href="http://inspire.ec.europa.eu/theme/rs">crs</a>
and three values. These values are accessible through <code>x</code>, <code>y</code> and <code>z</code>,
although it can also be accessible through <code>latitude</code>, <code>longitude</code> and
<code>altitude</code>. To change a value, prefer the <code>set()</code> method below.</p>
<p><code>EPSG:4978</code> and <code>EPSG:4326</code> are supported by default. To use another CRS,
you have to declare it with <code>proj4</code>. You can find most projections and their
proj4 code at <a href="https://epsg.io/">epsg.io</a>.</p></div>
    

    
        <hr class="title-divider"/>
        <h2>Constructor</h2>
        

<div class="method">
    <h3>
        <span class="method-name">Coordinates</span>
        (


    
    
        crs:
            <span class="type">string</span>, 
    
        v0:
            <span class="type">number|Array.&lt;number>|<a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a>|THREE.Vector3</span>, 
    
        v1:
            <span class="type">number</span>, 
    
        v2:
            <span class="type">number</span>
    

)
        
    </h3>

    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>crs</code>
        
        
            &mdash; <span><p>A supported Coordinate Reference System.</p></span>
        

        
    </li>
    
    <li>
        <code>v0</code>
        (optional)
        
            &mdash; <span><p>x or longitude value, or a more complex one: it can be an array of three
numbers, being x/lon, y/lat, z/alt, or it can be <code>THREE.Vector3</code>. It can
also simply be a Coordinates.</p></span>
        

        
    </li>
    
    <li>
        <code>v1</code>
        (optional)
        
            &mdash; <span><p>y or latitude value.</p></span>
        

        
    </li>
    
    <li>
        <code>v2</code>
        (optional)
        
            &mdash; <span><p>z or altitude value.</p></span>
        

        
    </li>
    
</ul>

    

    
</div>

    

    
        <hr class="title-divider"/>
        <h2>Example</h2>
        


    

    <pre class="prettyprint source lang-js"><code>new Coordinates('EPSG:4978', 20885167, 849862, 23385912); //Geocentric coordinates
new Coordinates('EPSG:4326', 2.33, 48.24, 24999549); //Geographic coordinates</code></pre>

    

    <pre class="prettyprint source lang-js"><code>// Declare EPSG:3946 with proj4
itowns.proj4.defs('EPSG:3946', '+proj=lcc +lat_1=45.25 +lat_2=46.75 +lat_0=46 +lon_0=3 +x_0=1700000 +y_0=5200000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs');</code></pre>


    

    
        <hr class="title-divider"/>
        <h2>Properties</h2>
        
            

<div class="property">
    <h3>
        <span class="property-name">isCoordinates</span>
        : <span class="type">boolean</span>
    </h3>

    
        <div class="description">
            <p>Used to checkout whether this coordinates
is a Coordinates. Default is true. You should not change this, as it is used
internally for optimisation.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">crs</span>
        : <span class="type">string</span>
    </h3>

    
        <div class="description">
            <p>A supported crs by default in
<a href="https://github.com/proj4js/proj4js#named-projections"><code>proj4js</code></a>, or an
added crs to <code>proj4js</code> (using <code>proj4.defs</code>). Note that <code>EPSG:4978</code> is also
supported by default in itowns.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">x</span>
        : <span class="type">number</span>
    </h3>

    
        <div class="description">
            <p>The first value of the coordinate.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">y</span>
        : <span class="type">number</span>
    </h3>

    
        <div class="description">
            <p>The second value of the coordinate.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">z</span>
        : <span class="type">number</span>
    </h3>

    
        <div class="description">
            <p>The third value of the coordinate.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">latitude</span>
        : <span class="type">number</span>
    </h3>

    
        <div class="description">
            <p>The first value of the coordinate.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">longitude</span>
        : <span class="type">number</span>
    </h3>

    
        <div class="description">
            <p>The second value of the coordinate.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">altitude</span>
        : <span class="type">number</span>
    </h3>

    
        <div class="description">
            <p>The third value of the coordinate.</p>
        </div>
    
</div>

            <hr/>
        
            

<div class="property">
    <h3>
        <span class="property-name">geodesicNormal</span>
        : <span class="type">THREE.Vector3</span>
    </h3>

    
        <div class="description">
            <p>The geodesic normal of the
coordinate.</p>
        </div>
    
</div>

            
        
    

    
        <hr class="title-divider"/>
        <h2>Methods</h2>
        
            

<div class="method">
    <h3>
        <span class="method-name">applyMatrix4</span>
        (


    
    
        mat:
            <span class="type">THREE.Matrix4</span>
    

)
        :
            
                <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Multiplies this <code>coordinates</code> (with an implicit 1 in the 4th dimension) and <code>mat</code>.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>return this object.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>mat</code>
        
        
            &mdash; <span><p>The matrix.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">as</span>
        (


    
    
        crs:
            <span class="type">string</span>, 
    
        target:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>
    

)
        :
            
                <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Returns coordinates in the wanted <a href="http://inspire.ec.europa.eu/theme/rs">CRS</a>.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <ul>
<li>The resulting Coordinates after the conversion.</li>
</ul>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>crs</code>
        
        
            &mdash; <span><p>The CRS to convert the Coordinates into.</p></span>
        

        
    </li>
    
    <li>
        <code>target</code>
        (optional)
        
            &mdash; <span><p>The target to put the converted
Coordinates into. If not specified a new one will be created.</p></span>
        

        
    </li>
    
</ul>

    

    
        
            <h4>Example</h4>
            


    

    <pre class="prettyprint source lang-js"><code>const position = { longitude: 2.33, latitude: 48.24, altitude: 24999549 };
const coords = new Coordinates('EPSG:4326', position.longitude, position.latitude, position.altitude); // Geographic system
const coordinates = coords.as('EPSG:4978'); // Geocentric system</code></pre>

    

    <pre class="prettyprint source lang-js"><code>const position = { x: 20885167, y: 849862, z: 23385912 };
const coords = new Coordinates('EPSG:4978', position.x, position.y, position.z);  // Geocentric system
const coordinates = coords.as('EPSG:4326');  // Geographic system</code></pre>

    

    <pre class="prettyprint source lang-js"><code>new Coordinates('EPSG:4326', longitude: 2.33, latitude: 48.24, altitude: 24999549).as('EPSG:4978'); // Geocentric system</code></pre>

    

    <pre class="prettyprint source lang-js"><code>new Coordinates('EPSG:4978', x: 20885167, y: 849862, z: 23385912).as('EPSG:4326'); // Geographic system</code></pre>


        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">clone</span>
        (


)
        :
            
                <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Returns a new Coordinates with the same values as this one. It will
instantiate a new Coordinates with the same CRS as this one.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>The target with its new coordinates.</p>
                

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">copy</span>
        (


    
    
        src:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>
    

)
        :
            
                <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Copies the values of the passed Coordinates to this one. The CRS is
however not copied.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>This Coordinates.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>src</code>
        
        
            &mdash; <span><p>The source to copy from.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">geodeticDistanceTo</span>
        (


    
    
        coord:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>
    

)
        :
            
                <span class="type">number</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Calculate geodetic distance between this coordinates and <code>coord</code>.
<strong>Geodetic distance</strong> is calculated in an ellispoid space as the shortest distance
across the curved surface of the world.</p>
<p>=&gt; As the crow flies/ Orthodromy</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>geodetic distance</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>coord</code>
        
        
            &mdash; <span><p>The coordinate</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">planarDistanceTo</span>
        (


    
    
        coord:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>
    

)
        :
            
                <span class="type">number</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Calculate planar distance between this coordinates and <code>coord</code>.
Planar distance is the straight-line euclidean distance calculated in a 2D cartesian coordinate system.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>planar distance</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>coord</code>
        
        
            &mdash; <span><p>The coordinate</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">setCrs</span>
        (


    
    
        crs:
            <span class="type">String</span>
    

)
        
    </h3>

    
        
            <div class="description">
                <p>Sets the Coordinate Reference System.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>crs</code>
        
        
            &mdash; <span><p>Coordinate Reference System (e.g. 'EPSG:4978')</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">setFromArray</span>
        (


    
    
        array:
            <span class="type">Array.&lt;number></span>, 
    
        offset:
            <span class="type">number</span>
    

)
        :
            
                <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Set the values of this Coordinates from an array.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>This Coordinates.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>array</code>
        
        
            &mdash; <span><p>An array of number to assign to the
Coordinates.</p></span>
        

        
    </li>
    
    <li>
        <code>offset</code>
        (optional)
        
            &mdash; <span><p>Optional offset into the array.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">setFromValues</span>
        (


    
    
        v0:
            <span class="type">number</span>, 
    
        v1:
            <span class="type">number</span>, 
    
        v2:
            <span class="type">number</span>
    

)
        :
            
                <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Set the values of this Coordinates.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>This Coordinates.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>v0</code>
        (optional)
        
            &mdash; <span><p>x or longitude value.</p></span>
        

        
    </li>
    
    <li>
        <code>v1</code>
        (optional)
        
            &mdash; <span><p>y or latitude value.</p></span>
        

        
    </li>
    
    <li>
        <code>v2</code>
        (optional)
        
            &mdash; <span><p>z or altitude value.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">setFromVector3</span>
        (


    
    
        v0:
            <span class="type">THREE.Vector3|<a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>
    

)
        :
            
                <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Set the values of this Coordinates from a <code>THREE.Vector3</code> or an <code>Object</code>
having <code>x/y/z</code> properties, like a <code>Coordinates</code>.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>This Coordinates.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>v0</code>
        
        
            &mdash; <span><p>The object to read the values
from.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">spatialEuclideanDistanceTo</span>
        (


    
    
        coord:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>
    

)
        :
            
                <span class="type">number</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Calculate earth euclidean distance between this coordinates and <code>coord</code>.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>earth euclidean distance</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>coord</code>
        
        
            &mdash; <span><p>The coordinate</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">toArray</span>
        (


    
    
        array:
            <span class="type">Array.&lt;number></span>, 
    
        offset:
            <span class="type">number</span>
    

)
        :
            
                <span class="type">Array.&lt;number></span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Copy values coordinates to array</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>Returns an array [x, y, z], or copies x, y and z into
the provided array.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>array</code>
        
        
            &mdash; <span><p>array to store this vector to. If this is not
provided a new array will be created.</p></span>
        

        
    </li>
    
    <li>
        <code>offset</code>
        (optional)
        
            &mdash; <span><p>optional offset into the array.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">toVector3</span>
        (


    
    
        target:
            <span class="type">THREE.Vector3</span>
    

)
        :
            
                <span class="type">THREE.Vector3</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Return this Coordinates values into a <code>THREE.Vector3</code>.</p>
            </div>
        
    

    

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>target</code>
        (optional)
        
            &mdash; <span><p>The target to put the values in. If not
specified, a new vector will be created.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            
        
    

    

    

    



        <hr class="title-divider"/>
        <h2>Source</h2>
        <a target="_blank" href="https://github.com/itowns/itowns/blob/master/src/Core/Geographic/Coordinates.js">
            src/Core/Geographic/Coordinates.js
        </a>




</article>

</section>

<script> prettyPrint(); </script>
<script src="../../scripts/linenumber.js"> </script>
</body>
</html>